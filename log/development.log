


Started GET "/" for 127.0.0.1 at 2019-10-11 20:37:33 +0200
  [1m[36mActiveRecord::SchemaMigration Load (2.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (1405.3ms)
Completed 200 OK in 1425ms (Views: 1416.6ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 20:37:35 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 20:37:35 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mActiveRecord::SchemaMigration Load (2.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mUser Load (4.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 20:37:35 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 20:37:35 +0200
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$eoBBr7.7Uj1f3RT1sMlpdewLZcCsV/kCmprgTRHdgKjkHLOWNFNxu\",\"expiry\":1572028655,\"last_token\":\"$2a$12$F/rXqtw8RHq4QlL7eMq72Otoak8O.a8gjqz6w7wj.DqpjF.PWisbO\",\"updated_at\":\"2019-10-11T20:37:35.451+02:00\"}}"], ["updated_at", "2019-10-11 18:37:35.769445"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 729ms (Views: 0.5ms | ActiveRecord: 14.9ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 20:37:55 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 20:37:55 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 20:37:55 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 20:37:55 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.5ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (6.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1KWM9fdAgMItsLjDLM/NvehLrlQ161SF6udACYFGAXiYixiHH10o6\",\"expiry\":1572028675,\"last_token\":\"$2a$12$eoBBr7.7Uj1f3RT1sMlpdewLZcCsV/kCmprgTRHdgKjkHLOWNFNxu\",\"updated_at\":\"2019-10-11T20:37:55.779+02:00\"}}"], ["updated_at", "2019-10-11 18:37:56.065708"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 778ms (Views: 25.0ms | ActiveRecord: 8.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:37:56 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/index.json.jbuilder (9.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1KWM9fdAgMItsLjDLM/NvehLrlQ161SF6udACYFGAXiYixiHH10o6\",\"expiry\":1572028675,\"last_token\":\"$2a$12$eoBBr7.7Uj1f3RT1sMlpdewLZcCsV/kCmprgTRHdgKjkHLOWNFNxu\",\"updated_at\":\"2019-10-11T20:37:56.751+02:00\"}}"], ["updated_at", "2019-10-11 18:37:56.752814"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 653ms (Views: 17.2ms | ActiveRecord: 5.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:37:56 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.7ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1KWM9fdAgMItsLjDLM/NvehLrlQ161SF6udACYFGAXiYixiHH10o6\",\"expiry\":1572028675,\"last_token\":\"$2a$12$eoBBr7.7Uj1f3RT1sMlpdewLZcCsV/kCmprgTRHdgKjkHLOWNFNxu\",\"updated_at\":\"2019-10-11T20:37:57.072+02:00\"}}"], ["updated_at", "2019-10-11 18:37:57.073330"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 310ms (Views: 3.6ms | ActiveRecord: 2.9ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 20:38:04 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (1.9ms)
  Rendered types/show.json.jbuilder (4.0ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"expiry\":1572028684,\"last_token\":\"$2a$12$1KWM9fdAgMItsLjDLM/NvehLrlQ161SF6udACYFGAXiYixiHH10o6\",\"updated_at\":\"2019-10-11T20:38:04.567+02:00\"}}"], ["updated_at", "2019-10-11 18:38:04.880630"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 345ms (Views: 6.3ms | ActiveRecord: 5.2ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 20:38:04 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (2.1ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (14.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"expiry\":1572028684,\"last_token\":\"$2a$12$1KWM9fdAgMItsLjDLM/NvehLrlQ161SF6udACYFGAXiYixiHH10o6\",\"updated_at\":\"2019-10-11T20:38:05.544+02:00\"}}"], ["updated_at", "2019-10-11 18:38:05.545381"], ["id", 3]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 615ms (Views: 16.1ms | ActiveRecord: 6.7ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 20:38:14 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 20:38:14 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 20:38:14 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 20:38:14 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 20:38:14 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 20:38:14 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 20:38:14 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (6.7ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 37ms (ActiveRecord: 6.7ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 20:38:15 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.9ms)


Started GET "/api/geocoder/positions?lat=40.4712372&lng=-3.6862473" for 127.0.0.1 at 2019-10-11 20:38:15 +0200
Processing by GeocoderController#positions as JSON
  Parameters: {"lat"=>"40.4712372", "lng"=>"-3.6862473"}
Google geocoding. latlng: [40.4712372, -3.6862473], args []
Google geocoding. Result: %7B%0A+++%22error_message%22+%3A+%22You+must+use+an+API+key+to+authenticate+each+request+to+Google+Maps+Platform+APIs.+For+additional+information%2C+please+refer+to+http%3A%2F%2Fg.co%2Fdev%2Fmaps-no-account%22%2C%0A+++%22results%22+%3A+%5B%5D%2C%0A+++%22status%22+%3A+%22REQUEST_DENIED%22%0A%7D%0A
Completed 500 Internal Server Error in 127ms (ActiveRecord: 0.0ms)

Geokit::Geocoders::AccessDeniedError (You must use an API key to authenticate each request to Google Maps Platform APIs. For additional information, please refer to http://g.co/dev/maps-no-account):
  app/services/geocoder.rb:8:in `reverse_geocode'
  app/services/geocoder_cache.rb:23:in `reverse_geocode'
  app/controllers/geocoder_controller.rb:13:in `positions'


  Rendered /home/alfonso/.rbenv/versions/2.3.5/lib/ruby/gems/2.3.0/gems/actionpack-4.2.7/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.2ms)
  Rendered /home/alfonso/.rbenv/versions/2.3.5/lib/ruby/gems/2.3.0/gems/actionpack-4.2.7/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.9ms)
  Rendered /home/alfonso/.rbenv/versions/2.3.5/lib/ruby/gems/2.3.0/gems/actionpack-4.2.7/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /home/alfonso/.rbenv/versions/2.3.5/lib/ruby/gems/2.3.0/gems/actionpack-4.2.7/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (24.1ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 20:41:02 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 20:41:02 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (20.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tHprIXXrwoJSvvnboeaXj.L2lK8mT4RUDKI/0EIyl17n7bF1XLKSq\",\"expiry\":1572028863,\"last_token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"updated_at\":\"2019-10-11T20:41:03.030+02:00\"}}"], ["updated_at", "2019-10-11 18:41:03.319102"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (198.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 623ms (Views: 2.1ms | ActiveRecord: 4.6ms)
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tHprIXXrwoJSvvnboeaXj.L2lK8mT4RUDKI/0EIyl17n7bF1XLKSq\",\"expiry\":1572028863,\"last_token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"updated_at\":\"2019-10-11T20:41:03.325+02:00\"}}"], ["updated_at", "2019-10-11 18:41:03.327752"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 594ms (Views: 23.5ms | ActiveRecord: 208.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:41:05 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (1.2ms)
  Rendered types/index.json.jbuilder (7.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tHprIXXrwoJSvvnboeaXj.L2lK8mT4RUDKI/0EIyl17n7bF1XLKSq\",\"expiry\":1572028863,\"last_token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"updated_at\":\"2019-10-11T20:41:05.692+02:00\"}}"], ["updated_at", "2019-10-11 18:41:05.693477"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 326ms (Views: 12.0ms | ActiveRecord: 5.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 20:41:10 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 20:41:10 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (3.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mType Load (1.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.4ms)
  Rendered types/show.json.jbuilder (3.2ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tHprIXXrwoJSvvnboeaXj.L2lK8mT4RUDKI/0EIyl17n7bF1XLKSq\",\"expiry\":1572028863,\"last_token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"updated_at\":\"2019-10-11T20:41:10.563+02:00\"}}"], ["updated_at", "2019-10-11 18:41:10.564214"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 42ms (Views: 4.8ms | ActiveRecord: 7.9ms)
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tHprIXXrwoJSvvnboeaXj.L2lK8mT4RUDKI/0EIyl17n7bF1XLKSq\",\"expiry\":1572028863,\"last_token\":\"$2a$12$kHj3QlL2hhCaHxVQ27emu.eGcjcKTjMaoE.V55xQbrld8Mo0lRn1O\",\"updated_at\":\"2019-10-11T20:41:10.844+02:00\"}}"], ["updated_at", "2019-10-11 18:41:10.845359"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 319ms (Views: 2.6ms | ActiveRecord: 6.0ms)


Started GET "/api/geocoder/positions?lat=40.4640717&lng=-3.692763" for 127.0.0.1 at 2019-10-11 20:41:14 +0200
Processing by GeocoderController#positions as JSON
  Parameters: {"lat"=>"40.4640717", "lng"=>"-3.692763"}
Completed 304 Not Modified in 4ms (ActiveRecord: 0.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:56:12 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (5.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dhuHq0SW2lQz/yEy3.1GauEFOnaYp5wDDYtpZpaxLxoACSOPb7J3G\",\"expiry\":1572029772,\"last_token\":\"$2a$12$tHprIXXrwoJSvvnboeaXj.L2lK8mT4RUDKI/0EIyl17n7bF1XLKSq\",\"updated_at\":\"2019-10-11T20:56:12.886+02:00\"}}"], ["updated_at", "2019-10-11 18:56:13.168532"], ["id", 3]]
  [1m[35m (3.8ms)[0m  COMMIT
Completed 200 OK in 315ms (Views: 6.3ms | ActiveRecord: 6.1ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 20:56:31 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (671.9ms)
Completed 200 OK in 673ms (Views: 673.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/types.component.self-aac5962218d33787d9b1db5f010a6c134320a8c8209068518af3679482d41542.js?body=1" for 127.0.0.1 at 2019-10-11 20:56:32 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 20:56:32 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 20:56:32 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 20:56:33 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 20:56:33 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 20:56:33 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36m (0.5ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.3ms)
  [1m[35m (2.2ms)[0m  BEGIN
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"expiry\":1572029793,\"last_token\":\"$2a$12$dhuHq0SW2lQz/yEy3.1GauEFOnaYp5wDDYtpZpaxLxoACSOPb7J3G\",\"updated_at\":\"2019-10-11T20:56:33.291+02:00\"}}"], ["updated_at", "2019-10-11 18:56:33.641996"], ["id", 3]]
  [1m[36mUser Load (62.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 702ms (Views: 0.7ms | ActiveRecord: 6.1ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 20:56:33 +0200
  [1m[35mSQL (2.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"expiry\":1572029793,\"last_token\":\"$2a$12$dhuHq0SW2lQz/yEy3.1GauEFOnaYp5wDDYtpZpaxLxoACSOPb7J3G\",\"updated_at\":\"2019-10-11T20:56:33.648+02:00\"}}"], ["updated_at", "2019-10-11 18:56:33.650299"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 483ms (Views: 1.5ms | ActiveRecord: 71.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:56:33 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (4.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 20:56:33 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.9ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"expiry\":1572029793,\"last_token\":\"$2a$12$dhuHq0SW2lQz/yEy3.1GauEFOnaYp5wDDYtpZpaxLxoACSOPb7J3G\",\"updated_at\":\"2019-10-11T20:56:34.136+02:00\"}}"], ["updated_at", "2019-10-11 18:56:34.138729"], ["id", 3]]
  [1m[36m (7.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 386ms (Views: 7.7ms | ActiveRecord: 10.7ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 20:56:34 +0200
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.1ms)
  Rendered types/_type.json.jbuilder (1.2ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (10.5ms)
  [1m[35m (2.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"expiry\":1572029793,\"last_token\":\"$2a$12$dhuHq0SW2lQz/yEy3.1GauEFOnaYp5wDDYtpZpaxLxoACSOPb7J3G\",\"updated_at\":\"2019-10-11T20:56:34.367+02:00\"}}"], ["updated_at", "2019-10-11 18:56:34.371877"], ["id", 3]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 718ms (Views: 12.0ms | ActiveRecord: 11.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:56:34 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (2.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"expiry\":1572029793,\"last_token\":\"$2a$12$dhuHq0SW2lQz/yEy3.1GauEFOnaYp5wDDYtpZpaxLxoACSOPb7J3G\",\"updated_at\":\"2019-10-11T20:56:34.731+02:00\"}}"], ["updated_at", "2019-10-11 18:56:34.733270"], ["id", 3]]
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 349ms (Views: 3.5ms | ActiveRecord: 12.6ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 20:56:34 +0200


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 20:56:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.4ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"expiry\":1572029806,\"last_token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"updated_at\":\"2019-10-11T20:56:46.051+02:00\"}}"], ["updated_at", "2019-10-11 18:56:46.340080"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 313ms (Views: 5.7ms | ActiveRecord: 5.2ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 20:56:46 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"expiry\":1572029806,\"last_token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"updated_at\":\"2019-10-11T20:56:46.923+02:00\"}}"], ["updated_at", "2019-10-11 18:56:46.924839"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 577ms (Views: 2.5ms | ActiveRecord: 2.8ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 20:56:46 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (1.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"expiry\":1572029806,\"last_token\":\"$2a$12$FkYc4Q2siGLqHL4.ou8cEeSYk9gYO6A8sNEKNU/UPKYOUYWAIkfWu\",\"updated_at\":\"2019-10-11T20:56:47.515+02:00\"}}"], ["updated_at", "2019-10-11 18:56:47.516143"], ["id", 3]]
  [1m[35m (3.8ms)[0m  COMMIT
Completed 200 OK in 587ms (Views: 3.1ms | ActiveRecord: 7.1ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 20:56:50 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 20:56:50 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 20:56:50 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 20:56:50 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 20:56:50 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 20:56:50 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 20:56:50 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.2ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 20:56:50 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 2ms (ActiveRecord: 0.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 20:58:39 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 20:58:39 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (6.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"expiry\":1572029919,\"last_token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"updated_at\":\"2019-10-11T20:58:39.946+02:00\"}}"], ["updated_at", "2019-10-11 18:58:40.228864"], ["id", 3]]
  [1m[36mUser Load (270.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 630ms (Views: 2.7ms | ActiveRecord: 12.0ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 20:58:40 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"expiry\":1572029919,\"last_token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"updated_at\":\"2019-10-11T20:58:40.235+02:00\"}}"], ["updated_at", "2019-10-11 18:58:40.237070"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Completed 200 OK in 624ms (Views: 2.6ms | ActiveRecord: 272.6ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (1.8ms)
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"expiry\":1572029919,\"last_token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"updated_at\":\"2019-10-11T20:58:40.823+02:00\"}}"], ["updated_at", "2019-10-11 18:58:40.824038"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 585ms (Views: 2.8ms | ActiveRecord: 6.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 20:58:42 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (5.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"expiry\":1572029919,\"last_token\":\"$2a$12$IQMHeyENhTPcVPM8o5hlYeKkWTVHZ/O0pyM1/ytjST71Ry.ZZxyoW\",\"updated_at\":\"2019-10-11T20:58:42.813+02:00\"}}"], ["updated_at", "2019-10-11 18:58:42.814357"], ["id", 3]]
  [1m[36m (3.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 319ms (Views: 8.4ms | ActiveRecord: 5.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 20:58:52 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 20:58:52 +0200
  [1m[35mType Load (6.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  [1m[36mUser Load (3.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.0ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"expiry\":1572029932,\"last_token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"updated_at\":\"2019-10-11T20:58:52.203+02:00\"}}"], ["updated_at", "2019-10-11 18:58:52.511476"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 341ms (Views: 2.7ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (11.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 20:58:52 +0200
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"expiry\":1572029932,\"last_token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"updated_at\":\"2019-10-11T20:58:52.518+02:00\"}}"], ["updated_at", "2019-10-11 18:58:52.519516"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 340ms (Views: 2.4ms | ActiveRecord: 14.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"expiry\":1572029932,\"last_token\":\"$2a$12$NdbrvXFw.ufKO1ZLehIjseW2RAuyjAWTFXmIfho7p5CyrDYNof0Gm\",\"updated_at\":\"2019-10-11T20:58:53.109+02:00\"}}"], ["updated_at", "2019-10-11 18:58:53.111589"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 591ms (Views: 3.4ms | ActiveRecord: 5.8ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 21:02:25 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 21:02:25 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  [1m[36mThingType Load (1.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered types/_type.json.jbuilder (1.6ms)
  Rendered types/show.json.jbuilder (3.9ms)
  Rendered thing_types/index.json.jbuilder (6.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:26.080+02:00\"}}"], ["updated_at", "2019-10-11 19:02:26.362636"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (288.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 618ms (Views: 5.9ms | ActiveRecord: 4.0ms)
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:26.369+02:00\"}}"], ["updated_at", "2019-10-11 19:02:26.370345"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 630ms (Views: 7.2ms | ActiveRecord: 292.2ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 21:02:26 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (1.8ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:26.999+02:00\"}}"], ["updated_at", "2019-10-11 19:02:27.002875"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 629ms (Views: 2.4ms | ActiveRecord: 6.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:02:29 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:30.149+02:00\"}}"], ["updated_at", "2019-10-11 19:02:30.150435"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 323ms (Views: 3.3ms | ActiveRecord: 6.7ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-11 21:02:32 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-11 21:02:32 +0200
Processing by ThingTypesController#linkable_things as JSON
Processing by TypesController#show as JSON
  Parameters: {"type_id"=>"23"}
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.7ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:32.509+02:00\"}}"], ["updated_at", "2019-10-11 19:02:32.510706"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 4.2ms | ActiveRecord: 4.1ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-11 21:02:32 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (4.4ms)
  [1m[36m (4.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:32.571+02:00\"}}"], ["updated_at", "2019-10-11 19:02:32.573044"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 6.8ms | ActiveRecord: 8.1ms)
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"expiry\":1572030146,\"last_token\":\"$2a$12$y0/yH1NruvU/IaxWhkW1RuAjYEzMmbfTaqSSBdZWVz97LPx6mcaQe\",\"updated_at\":\"2019-10-11T21:02:32.823+02:00\"}}"], ["updated_at", "2019-10-11 19:02:32.825104"], ["id", 3]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 337ms (Views: 1.3ms | ActiveRecord: 2.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:44:59 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (4.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"expiry\":1572032700,\"last_token\":\"$2a$12$sbtfsbsY2FtWZEl4BJg1zemDQ7pcl1cViEz64pbvNFGhzoVPSmjPW\",\"updated_at\":\"2019-10-11T21:45:00.023+02:00\"}}"], ["updated_at", "2019-10-11 19:45:00.314187"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 316ms (Views: 6.2ms | ActiveRecord: 4.1ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 21:45:09 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (1666.1ms)
Completed 200 OK in 1678ms (Views: 1677.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/types.component.self-fb3babd9eed9dae3a041fbdd597a0a22e9d525e2a98671f3f5272e19db628184.js?body=1" for 127.0.0.1 at 2019-10-11 21:45:10 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 21:45:11 +0200


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 21:45:11 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 21:45:11 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 21:45:11 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 21:45:11 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36m (0.5ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (5.0ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:11.788+02:00\"}}"], ["updated_at", "2019-10-11 19:45:12.142497"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (85.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 716ms (Views: 0.5ms | ActiveRecord: 3.7ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 21:45:12 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:12.150+02:00\"}}"], ["updated_at", "2019-10-11 19:45:12.151739"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 462ms (Views: 2.0ms | ActiveRecord: 94.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:45:12 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 21:45:12 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:12.566+02:00\"}}"], ["updated_at", "2019-10-11 19:45:12.567833"], ["id", 3]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 367ms (Views: 2.1ms | ActiveRecord: 5.5ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 21:45:12 +0200
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.7ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (7.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:12.855+02:00\"}}"], ["updated_at", "2019-10-11 19:45:12.859169"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 701ms (Views: 9.8ms | ActiveRecord: 4.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:45:12 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (4.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:13.209+02:00\"}}"], ["updated_at", "2019-10-11 19:45:13.210679"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 331ms (Views: 3.2ms | ActiveRecord: 8.7ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 21:45:13 +0200


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 21:45:17 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (3.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.3ms)
  Rendered types/show.json.jbuilder (5.6ms)
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:17.918+02:00\"}}"], ["updated_at", "2019-10-11 19:45:17.920828"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 37ms (Views: 7.2ms | ActiveRecord: 10.3ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 21:45:17 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (2.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (5.1ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:17.991+02:00\"}}"], ["updated_at", "2019-10-11 19:45:17.993107"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 6.7ms | ActiveRecord: 7.2ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 21:45:18 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.3ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (1.1ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"expiry\":1572032711,\"last_token\":\"$2a$12$uYdjl6bEzxK4Fl4rMC3swuBMRPBo4I6MwaqgYpga3Ozdbpx9aTVQG\",\"updated_at\":\"2019-10-11T21:45:18.036+02:00\"}}"], ["updated_at", "2019-10-11 19:45:18.038206"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 37ms (Views: 7.6ms | ActiveRecord: 4.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 21:45:45 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 21:45:45 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.4ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 1.4ms)
  [1m[36m (5.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 32ms (ActiveRecord: 5.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 21:46:02 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 21:46:02 +0200
  [1m[35mType Load (1.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (2.2ms)
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (2.4ms)[0m  [1mBEGIN[0m
  [1m[36mType Load (2.8ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (2.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (4.7ms)
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"expiry\":1572032762,\"last_token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"updated_at\":\"2019-10-11T21:46:02.491+02:00\"}}"], ["updated_at", "2019-10-11 19:46:02.791111"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (297.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 336ms (Views: 3.9ms | ActiveRecord: 13.1ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 21:46:02 +0200
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"expiry\":1572032762,\"last_token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"updated_at\":\"2019-10-11T21:46:02.800+02:00\"}}"], ["updated_at", "2019-10-11 19:46:02.801668"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 321ms (Views: 3.7ms | ActiveRecord: 305.2ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"expiry\":1572032762,\"last_token\":\"$2a$12$zPfECKXZbUU3.IOGW2eZlu3jrsVYSXDaxbYzOYD8zU8wmXNmuqfYO\",\"updated_at\":\"2019-10-11T21:46:03.382+02:00\"}}"], ["updated_at", "2019-10-11 19:46:03.384318"], ["id", 3]]
  [1m[36m (5.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 590ms (Views: 2.5ms | ActiveRecord: 7.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:46:28 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (1.2ms)
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/index.json.jbuilder (9.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"expiry\":1572032788,\"last_token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"updated_at\":\"2019-10-11T21:46:28.335+02:00\"}}"], ["updated_at", "2019-10-11 19:46:28.618735"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 608ms (Views: 10.9ms | ActiveRecord: 3.7ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 21:46:30 +0200
Processing by TypesController#show as JSON

  Parameters: {"id"=>"21"}

Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 21:46:30 +0200
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"expiry\":1572032788,\"last_token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"updated_at\":\"2019-10-11T21:46:30.852+02:00\"}}"], ["updated_at", "2019-10-11 19:46:30.852913"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 324ms (Views: 2.3ms | ActiveRecord: 3.8ms)
  [1m[35mThingType Load (0.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (3.0ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"expiry\":1572032788,\"last_token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"updated_at\":\"2019-10-11T21:46:30.880+02:00\"}}"], ["updated_at", "2019-10-11 19:46:30.883784"], ["id", 3]]
  [1m[35m (1.8ms)[0m  COMMIT
Completed 200 OK in 343ms (Views: 4.0ms | ActiveRecord: 3.9ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 21:46:30 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (1.1ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (4.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"expiry\":1572032788,\"last_token\":\"$2a$12$dUHoDFejojjzPrpHiwRED.hQdav83qjtvdBDtEXW/NMHzWBaKhBtK\",\"updated_at\":\"2019-10-11T21:46:30.929+02:00\"}}"], ["updated_at", "2019-10-11 19:46:30.930406"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 38ms (Views: 6.9ms | ActiveRecord: 3.9ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 21:50:59 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 21:50:59 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (1.9ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  [1m[35mType Load (4.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered thing_types/index.json.jbuilder (7.4ms)
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered types/_type.json.jbuilder (1.8ms)
  Rendered types/show.json.jbuilder (4.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"expiry\":1572033059,\"last_token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"updated_at\":\"2019-10-11T21:50:59.959+02:00\"}}"], ["updated_at", "2019-10-11 19:51:00.263423"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (305.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 332ms (Views: 7.1ms | ActiveRecord: 8.5ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 21:51:00 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"expiry\":1572033059,\"last_token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"updated_at\":\"2019-10-11T21:51:00.270+02:00\"}}"], ["updated_at", "2019-10-11 19:51:00.272399"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 349ms (Views: 7.8ms | ActiveRecord: 312.4ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"expiry\":1572033059,\"last_token\":\"$2a$12$l6V2qC/Dly3OFn9twTTJyuu8hb6iXzma..dsDaL/dEGMpIauLD1mS\",\"updated_at\":\"2019-10-11T21:51:00.852+02:00\"}}"], ["updated_at", "2019-10-11 19:51:00.853217"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 583ms (Views: 2.8ms | ActiveRecord: 4.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:51:07 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:07.690+02:00\"}}"], ["updated_at", "2019-10-11 19:51:07.973883"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 607ms (Views: 4.0ms | ActiveRecord: 5.1ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 21:51:10 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 21:51:10 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:10.851+02:00\"}}"], ["updated_at", "2019-10-11 19:51:10.852787"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 327ms (Views: 2.9ms | ActiveRecord: 4.1ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 21:51:10 +0200
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (3.3ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (4.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.3ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:10.878+02:00\"}}"], ["updated_at", "2019-10-11 19:51:10.882522"], ["id", 3]]
  Rendered things/_thing.json.jbuilder (2.5ms)
  Rendered things/index.json.jbuilder (6.3ms)
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
Completed 200 OK in 356ms (Views: 4.3ms | ActiveRecord: 7.0ms)
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:10.903+02:00\"}}"], ["updated_at", "2019-10-11 19:51:10.906381"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 45ms (Views: 10.4ms | ActiveRecord: 8.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:51:15 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (2.1ms)
  Rendered types/_type.json.jbuilder (1.9ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (8.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:15.766+02:00\"}}"], ["updated_at", "2019-10-11 19:51:15.767149"], ["id", 3]]
  [1m[35m (3.0ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 9.8ms | ActiveRecord: 5.4ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-11 21:51:17 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (2.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.8ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-11 21:51:17 +0200
  Rendered types/show.json.jbuilder (2.7ms)
  [1m[35m (2.4ms)[0m  BEGIN
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:17.051+02:00\"}}"], ["updated_at", "2019-10-11 19:51:17.053952"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 36ms (Views: 3.7ms | ActiveRecord: 9.0ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-11 21:51:17 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (5.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThingType Load (3.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  [1m[35mThing Load (2.8ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (1.2ms)
  Rendered thing_types/index.json.jbuilder (21.2ms)
  [1m[36m (1.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:17.109+02:00\"}}"], ["updated_at", "2019-10-11 19:51:17.111679"], ["id", 3]]
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 56ms (Views: 20.0ms | ActiveRecord: 7.3ms)
  [1m[35mUser Load (9.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"expiry\":1572033067,\"last_token\":\"$2a$12$Bo9U5/YyumxJ4lWPBK1BVulufWDyknVbUjuznkia7HMJkWhTQPDIC\",\"updated_at\":\"2019-10-11T21:51:17.125+02:00\"}}"], ["updated_at", "2019-10-11 19:51:17.128187"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 61ms (Views: 5.2ms | ActiveRecord: 19.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-11 21:52:03 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-11 21:52:03 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[36mThingType Load (0.7ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (4.4ms)
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/show.json.jbuilder (2.5ms)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:03.902+02:00\"}}"], ["updated_at", "2019-10-11 19:52:04.205756"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (315.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 341ms (Views: 5.1ms | ActiveRecord: 6.5ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:04.218+02:00\"}}"], ["updated_at", "2019-10-11 19:52:04.220805"], ["id", 3]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 360ms (Views: 6.8ms | ActiveRecord: 321.2ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-11 21:52:04 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:04.811+02:00\"}}"], ["updated_at", "2019-10-11 19:52:04.812937"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 577ms (Views: 1.1ms | ActiveRecord: 4.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:52:09 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.1ms)
  [1m[36m (2.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:09.544+02:00\"}}"], ["updated_at", "2019-10-11 19:52:09.548061"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 330ms (Views: 4.9ms | ActiveRecord: 6.7ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 21:52:11 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (820.7ms)
Completed 200 OK in 822ms (Views: 822.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/types.component.self-b77669c8c8a9fc2f6fa80455588c75f0820eda041feacc268a00c9f354d83597.js?body=1" for 127.0.0.1 at 2019-10-11 21:52:12 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 21:52:13 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:13.332+02:00\"}}"], ["updated_at", "2019-10-11 19:52:13.333572"], ["id", 3]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 5.1ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 21:52:13 +0200


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 21:52:13 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 21:52:13 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 21:52:13 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 21:52:13 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 21:52:13 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 21:52:13 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.5ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:13.733+02:00\"}}"], ["updated_at", "2019-10-11 19:52:13.736431"], ["id", 3]]
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 2.1ms | ActiveRecord: 7.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:52:14 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/index.json.jbuilder (10.0ms)
  [1m[35m (3.5ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:14.082+02:00\"}}"], ["updated_at", "2019-10-11 19:52:14.084084"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 60ms (Views: 12.5ms | ActiveRecord: 9.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:52:14 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.6ms)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"expiry\":1572033123,\"last_token\":\"$2a$12$qRWHoCt5eXOaspwpSq1MOuMZWRMps9rJDRZZvZHOWwL6Gl/V597wm\",\"updated_at\":\"2019-10-11T21:52:14.131+02:00\"}}"], ["updated_at", "2019-10-11 19:52:14.132967"], ["id", 3]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 5.8ms | ActiveRecord: 6.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 21:52:20 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 21:52:20 +0200
  [1m[35mType Load (9.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.0ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$90FSCF0fjhJXxYwNkpSVDuIH1v993EKKmxaYQk27zYsEJ2n2UMDsS\",\"expiry\":1572033140,\"last_token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"updated_at\":\"2019-10-11T21:52:20.418+02:00\"}}"], ["updated_at", "2019-10-11 19:52:20.730382"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 350ms (Views: 3.3ms | ActiveRecord: 15.1ms)
  [1m[35mUser Load (10.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 21:52:20 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$90FSCF0fjhJXxYwNkpSVDuIH1v993EKKmxaYQk27zYsEJ2n2UMDsS\",\"expiry\":1572033140,\"last_token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"updated_at\":\"2019-10-11T21:52:20.737+02:00\"}}"], ["updated_at", "2019-10-11 19:52:20.739004"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (3.1ms)[0m  COMMIT
Completed 200 OK in 339ms (Views: 2.3ms | ActiveRecord: 14.6ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (1.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$90FSCF0fjhJXxYwNkpSVDuIH1v993EKKmxaYQk27zYsEJ2n2UMDsS\",\"expiry\":1572033140,\"last_token\":\"$2a$12$k..fKVJyQEANC4EYWYR/0ePdE2H57O0w3iQij6a/.Nqdz2myP4vSe\",\"updated_at\":\"2019-10-11T21:52:21.321+02:00\"}}"], ["updated_at", "2019-10-11 19:52:21.322546"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 582ms (Views: 2.2ms | ActiveRecord: 4.3ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 21:52:25 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 21:52:25 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (2.7ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 2.7ms)
  [1m[36m (1.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.1ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 21:52:36 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 21:52:36 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (1.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (1.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (3.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"expiry\":1572033157,\"last_token\":\"$2a$12$90FSCF0fjhJXxYwNkpSVDuIH1v993EKKmxaYQk27zYsEJ2n2UMDsS\",\"updated_at\":\"2019-10-11T21:52:37.087+02:00\"}}"], ["updated_at", "2019-10-11 19:52:37.374900"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mUser Load (282.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 620ms (Views: 2.6ms | ActiveRecord: 2.5ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"expiry\":1572033157,\"last_token\":\"$2a$12$90FSCF0fjhJXxYwNkpSVDuIH1v993EKKmxaYQk27zYsEJ2n2UMDsS\",\"updated_at\":\"2019-10-11T21:52:37.381+02:00\"}}"], ["updated_at", "2019-10-11 19:52:37.383417"], ["id", 3]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 628ms (Views: 3.2ms | ActiveRecord: 288.3ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 21:52:37 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"expiry\":1572033157,\"last_token\":\"$2a$12$90FSCF0fjhJXxYwNkpSVDuIH1v993EKKmxaYQk27zYsEJ2n2UMDsS\",\"updated_at\":\"2019-10-11T21:52:37.998+02:00\"}}"], ["updated_at", "2019-10-11 19:52:37.999861"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 597ms (Views: 2.0ms | ActiveRecord: 3.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 21:52:44 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.7ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"expiry\":1572033164,\"last_token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"updated_at\":\"2019-10-11T21:52:44.755+02:00\"}}"], ["updated_at", "2019-10-11 19:52:45.040137"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 589ms (Views: 3.5ms | ActiveRecord: 3.8ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 21:52:48 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 21:52:48 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"expiry\":1572033164,\"last_token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"updated_at\":\"2019-10-11T21:52:49.226+02:00\"}}"], ["updated_at", "2019-10-11 19:52:49.227578"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 321ms (Views: 2.4ms | ActiveRecord: 4.3ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 21:52:49 +0200
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (2.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered things/_thing.json.jbuilder (1.2ms)
  Rendered things/index.json.jbuilder (3.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (3.9ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"expiry\":1572033164,\"last_token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"updated_at\":\"2019-10-11T21:52:49.259+02:00\"}}"], ["updated_at", "2019-10-11 19:52:49.265120"], ["id", 3]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 350ms (Views: 6.1ms | ActiveRecord: 7.4ms)
  [1m[35mUser Load (12.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"expiry\":1572033164,\"last_token\":\"$2a$12$YTEO6AHM.QRf8CnySDufhesuJIA6PVR800wVxQs/Fctz6dys6aBii\",\"updated_at\":\"2019-10-11T21:52:49.286+02:00\"}}"], ["updated_at", "2019-10-11 19:52:49.291472"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 59ms (Views: 5.4ms | ActiveRecord: 17.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:02:19 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:02:19 +0200
  [1m[36mType Load (1.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (1.8ms)
  [1m[35m (2.6ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.7ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (3.2ms)
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:19.536+02:00\"}}"], ["updated_at", "2019-10-11 20:02:19.833595"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (289.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 325ms (Views: 3.2ms | ActiveRecord: 8.0ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:02:19 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:19.841+02:00\"}}"], ["updated_at", "2019-10-11 20:02:19.842751"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 314ms (Views: 4.1ms | ActiveRecord: 293.4ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:20.416+02:00\"}}"], ["updated_at", "2019-10-11 20:02:20.416948"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 578ms (Views: 2.3ms | ActiveRecord: 4.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:02:21 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (3.2ms)
  [1m[36m (2.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:21.703+02:00\"}}"], ["updated_at", "2019-10-11 20:02:21.704804"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 333ms (Views: 4.4ms | ActiveRecord: 8.4ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 22:02:25 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (728.2ms)
Completed 200 OK in 730ms (Views: 729.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/types.component.self-93e08d22b4047569d392ec877407525f2b7314f07036c0b989254f0a6bcf9ded.js?body=1" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 22:02:26 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:26.510+02:00\"}}"], ["updated_at", "2019-10-11 20:02:26.512901"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 18ms (Views: 0.4ms | ActiveRecord: 2.7ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 22:02:26 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 22:02:26 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.2ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.3ms)
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:26.829+02:00\"}}"], ["updated_at", "2019-10-11 20:02:26.831576"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 1.3ms | ActiveRecord: 7.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:02:27 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (12.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:27.100+02:00\"}}"], ["updated_at", "2019-10-11 20:02:27.102643"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 49ms (Views: 14.6ms | ActiveRecord: 6.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:02:27 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"expiry\":1572033739,\"last_token\":\"$2a$12$nK32zEvyWrii7a81HSmhAOJr4ddIYLmB0wevAWA1g/02PW6jonoRa\",\"updated_at\":\"2019-10-11T22:02:27.152+02:00\"}}"], ["updated_at", "2019-10-11 20:02:27.153411"], ["id", 3]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 34ms (Views: 6.7ms | ActiveRecord: 3.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 22:02:41 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 22:02:41 +0200
  [1m[35mType Load (12.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  Rendered types/_type.json.jbuilder (1.6ms)
  Rendered types/show.json.jbuilder (3.2ms)
  [1m[36mUser Load (5.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$hk.ZT8W8ylxyYMSD0GjaWe2gDpq.BAR/EWCzeDspaZ4ojj4rTvCBi\",\"expiry\":1572033761,\"last_token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"updated_at\":\"2019-10-11T22:02:41.805+02:00\"}}"], ["updated_at", "2019-10-11 20:02:42.111563"], ["id", 3]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 344ms (Views: 7.4ms | ActiveRecord: 16.7ms)
  [1m[36mThing Load (0.8ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 22:02:42 +0200
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$hk.ZT8W8ylxyYMSD0GjaWe2gDpq.BAR/EWCzeDspaZ4ojj4rTvCBi\",\"expiry\":1572033761,\"last_token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"updated_at\":\"2019-10-11T22:02:42.124+02:00\"}}"], ["updated_at", "2019-10-11 20:02:42.126394"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 341ms (Views: 2.3ms | ActiveRecord: 8.0ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$hk.ZT8W8ylxyYMSD0GjaWe2gDpq.BAR/EWCzeDspaZ4ojj4rTvCBi\",\"expiry\":1572033761,\"last_token\":\"$2a$12$QF/jVrRn143q5jHYFHesfO3nKWf/hWuKswOYgmUwXbC8kuAhQZpxW\",\"updated_at\":\"2019-10-11T22:02:42.692+02:00\"}}"], ["updated_at", "2019-10-11 20:02:42.693753"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 575ms (Views: 2.7ms | ActiveRecord: 3.9ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 22:02:57 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 22:02:57 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 22:02:57 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 22:02:57 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 22:02:58 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 22:02:58 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 22:02:58 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 22:02:58 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 2ms (ActiveRecord: 0.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 22:03:19 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 22:03:19 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (3.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.7ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (3.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"expiry\":1572033800,\"last_token\":\"$2a$12$hk.ZT8W8ylxyYMSD0GjaWe2gDpq.BAR/EWCzeDspaZ4ojj4rTvCBi\",\"updated_at\":\"2019-10-11T22:03:20.078+02:00\"}}"], ["updated_at", "2019-10-11 20:03:20.362312"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (280.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 616ms (Views: 2.9ms | ActiveRecord: 9.0ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 22:03:20 +0200
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"expiry\":1572033800,\"last_token\":\"$2a$12$hk.ZT8W8ylxyYMSD0GjaWe2gDpq.BAR/EWCzeDspaZ4ojj4rTvCBi\",\"updated_at\":\"2019-10-11T22:03:20.368+02:00\"}}"], ["updated_at", "2019-10-11 20:03:20.370756"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Completed 200 OK in 624ms (Views: 6.1ms | ActiveRecord: 282.8ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"expiry\":1572033800,\"last_token\":\"$2a$12$hk.ZT8W8ylxyYMSD0GjaWe2gDpq.BAR/EWCzeDspaZ4ojj4rTvCBi\",\"updated_at\":\"2019-10-11T22:03:20.944+02:00\"}}"], ["updated_at", "2019-10-11 20:03:20.945305"], ["id", 3]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 574ms (Views: 2.7ms | ActiveRecord: 3.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:03:35 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (4.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"expiry\":1572033816,\"last_token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"updated_at\":\"2019-10-11T22:03:36.306+02:00\"}}"], ["updated_at", "2019-10-11 20:03:36.594700"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 615ms (Views: 6.5ms | ActiveRecord: 5.4ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:03:38 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:03:38 +0200
Processing by ThingTypesController#type_things as JSON
Processing by TypesController#show as JSON
  Parameters: {"type_id"=>"21"}
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"expiry\":1572033816,\"last_token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"updated_at\":\"2019-10-11T22:03:38.635+02:00\"}}"], ["updated_at", "2019-10-11 20:03:38.636247"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36mUser Load (4.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 326ms (Views: 2.5ms | ActiveRecord: 3.9ms)
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"expiry\":1572033816,\"last_token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"updated_at\":\"2019-10-11T22:03:38.643+02:00\"}}"], ["updated_at", "2019-10-11 20:03:38.645451"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 335ms (Views: 2.6ms | ActiveRecord: 6.3ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:03:38 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (1.6ms)
  Rendered things/index.json.jbuilder (4.0ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"expiry\":1572033816,\"last_token\":\"$2a$12$C2aFpQsnxMZB3s/wAabrMeCL7CAamnGHDa16u5RyC2bp/KuzIQGe2\",\"updated_at\":\"2019-10-11T22:03:38.670+02:00\"}}"], ["updated_at", "2019-10-11 20:03:38.671852"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 18ms (Views: 4.9ms | ActiveRecord: 3.1ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:05:26 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:05:26 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (1.1ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.7ms)
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered types/show.json.jbuilder (3.5ms)
  Rendered thing_types/index.json.jbuilder (4.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"expiry\":1572033926,\"last_token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"updated_at\":\"2019-10-11T22:05:26.943+02:00\"}}"], ["updated_at", "2019-10-11 20:05:27.245260"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (312.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 335ms (Views: 10.4ms | ActiveRecord: 5.4ms)
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"expiry\":1572033926,\"last_token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"updated_at\":\"2019-10-11T22:05:27.253+02:00\"}}"], ["updated_at", "2019-10-11 20:05:27.255434"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 336ms (Views: 5.8ms | ActiveRecord: 316.7ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:05:27 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"expiry\":1572033926,\"last_token\":\"$2a$12$3FZ/GDDLWb0sDqL3dYDRmOFPGx3XN4GOnMx7Aq6DgDo/yi/dfQSk.\",\"updated_at\":\"2019-10-11T22:05:27.834+02:00\"}}"], ["updated_at", "2019-10-11 20:05:27.835918"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 574ms (Views: 2.0ms | ActiveRecord: 4.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:05:43 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"expiry\":1572033944,\"last_token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"updated_at\":\"2019-10-11T22:05:44.267+02:00\"}}"], ["updated_at", "2019-10-11 20:05:44.551768"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 592ms (Views: 3.8ms | ActiveRecord: 5.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-11 22:05:46 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-11 22:05:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"expiry\":1572033944,\"last_token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"updated_at\":\"2019-10-11T22:05:46.805+02:00\"}}"], ["updated_at", "2019-10-11 20:05:46.806368"], ["id", 3]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.8ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  Rendered things/index.json.jbuilder (0.2ms)
Completed 200 OK in 326ms (Views: 2.0ms | ActiveRecord: 3.8ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-11 22:05:46 +0200
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"expiry\":1572033944,\"last_token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"updated_at\":\"2019-10-11T22:05:46.815+02:00\"}}"], ["updated_at", "2019-10-11 20:05:46.816927"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 325ms (Views: 1.4ms | ActiveRecord: 3.0ms)
  [1m[35mThingType Load (0.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (1.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"expiry\":1572033944,\"last_token\":\"$2a$12$YXDtaUNE3rzr8ut1v0vyAeCCTeHqyqgq.2SHWEqo6iawuYQr/1nNa\",\"updated_at\":\"2019-10-11T22:05:46.828+02:00\"}}"], ["updated_at", "2019-10-11 20:05:46.831797"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 18ms (Views: 2.6ms | ActiveRecord: 2.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-11 22:25:10 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-11 22:25:10 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[36mType Load (1.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/show.json.jbuilder (3.8ms)
  [1m[35mUser Load (3.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (4.6ms)[0m  BEGIN
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (3.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:10.850+02:00\"}}"], ["updated_at", "2019-10-11 20:25:11.159599"], ["id", 3]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (318.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 350ms (Views: 7.6ms | ActiveRecord: 12.6ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-11 22:25:11 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:11.171+02:00\"}}"], ["updated_at", "2019-10-11 20:25:11.173088"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 347ms (Views: 6.4ms | ActiveRecord: 325.4ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:11.748+02:00\"}}"], ["updated_at", "2019-10-11 20:25:11.749588"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 577ms (Views: 1.0ms | ActiveRecord: 4.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:25:15 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:25:15 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (2.8ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (5.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:15.873+02:00\"}}"], ["updated_at", "2019-10-11 20:25:15.874971"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 350ms (Views: 7.9ms | ActiveRecord: 4.0ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:25:15 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (3.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:15.915+02:00\"}}"], ["updated_at", "2019-10-11 20:25:15.917001"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 31ms (Views: 2.4ms | ActiveRecord: 7.5ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:25:15 +0200
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:15.939+02:00\"}}"], ["updated_at", "2019-10-11 20:25:15.940755"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[35mUser Load (2.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 337ms (Views: 2.6ms | ActiveRecord: 5.1ms)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:15.947+02:00\"}}"], ["updated_at", "2019-10-11 20:25:15.949180"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 23ms (Views: 3.6ms | ActiveRecord: 4.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:25:20 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/index.json.jbuilder (9.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"expiry\":1572035110,\"last_token\":\"$2a$12$yQ6vTK05LMNLiilT4pASo.lD4TCgRnPiOKJXO8FulEWOO/idlcvZq\",\"updated_at\":\"2019-10-11T22:25:20.772+02:00\"}}"], ["updated_at", "2019-10-11 20:25:20.774949"], ["id", 3]]
  [1m[35m (6.5ms)[0m  COMMIT
Completed 200 OK in 47ms (Views: 12.4ms | ActiveRecord: 10.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 22:25:24 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (774.9ms)
Completed 200 OK in 776ms (Views: 775.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing.service.self-44858696f4577fd87ad2ff73287a095b5ff1737f033559613889b3bd21973055.js?body=1" for 127.0.0.1 at 2019-10-11 22:25:25 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 22:25:25 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 22:25:25 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 22:25:25 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 22:25:26 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 22:25:26 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 22:25:26 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (1.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"expiry\":1572035125,\"last_token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"updated_at\":\"2019-10-11T22:25:25.832+02:00\"}}"], ["updated_at", "2019-10-11 20:25:26.161515"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (59.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 346ms (Views: 0.4ms | ActiveRecord: 5.0ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 22:25:26 +0200
  [1m[36mSQL (3.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"expiry\":1572035125,\"last_token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"updated_at\":\"2019-10-11T22:25:26.173+02:00\"}}"], ["updated_at", "2019-10-11 20:25:26.175234"], ["id", 3]]


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 22:25:26 +0200
  [1m[35m (3.0ms)[0m  COMMIT
Completed 200 OK in 93ms (Views: 2.1ms | ActiveRecord: 68.9ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 22:25:26 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:25:26 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (7.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.1ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"expiry\":1572035125,\"last_token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"updated_at\":\"2019-10-11T22:25:26.765+02:00\"}}"], ["updated_at", "2019-10-11 20:25:26.766641"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 371ms (Views: 1.7ms | ActiveRecord: 4.9ms)
  [1m[35mType Load (1.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (1.6ms)
  Rendered types/index.json.jbuilder (10.0ms)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"expiry\":1572035125,\"last_token\":\"$2a$12$BTy/AczCCxMeUXcdOHUq/uTLhHiWKTJLjsjFOp/3gx3w7YJDq8TDa\",\"updated_at\":\"2019-10-11T22:25:27.070+02:00\"}}"], ["updated_at", "2019-10-11 20:25:27.073000"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 508ms (Views: 15.3ms | ActiveRecord: 15.4ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 22:25:33 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 22:25:33 +0200
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  Rendered types/_type.json.jbuilder (0.9ms)
  [1m[35mType Load (1.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered types/show.json.jbuilder (2.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (3.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"expiry\":1572035133,\"last_token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"updated_at\":\"2019-10-11T22:25:33.242+02:00\"}}"], ["updated_at", "2019-10-11 20:25:33.537576"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (297.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 321ms (Views: 4.2ms | ActiveRecord: 4.3ms)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"expiry\":1572035133,\"last_token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"updated_at\":\"2019-10-11T22:25:33.543+02:00\"}}"], ["updated_at", "2019-10-11 20:25:33.545147"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 316ms (Views: 5.3ms | ActiveRecord: 300.7ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 22:25:33 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"expiry\":1572035133,\"last_token\":\"$2a$12$AVP0hZ1qNPbAyQfyEhK.y.14YydYdJTzWcZDg4RUuF6j.rtLlPgD6\",\"updated_at\":\"2019-10-11T22:25:34.121+02:00\"}}"], ["updated_at", "2019-10-11 20:25:34.122412"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 573ms (Views: 2.0ms | ActiveRecord: 4.2ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 22:25:54 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 22:25:54 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 22:25:54 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 22:25:55 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 22:25:55 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 22:25:55 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 22:25:55 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 22:25:55 +0200
Completed 304 Not Modified in 2ms (ActiveRecord: 1.0ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 22:26:24 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 22:26:24 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (1.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (1.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"expiry\":1572035184,\"last_token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"updated_at\":\"2019-10-11T22:26:24.845+02:00\"}}"], ["updated_at", "2019-10-11 20:26:25.126186"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (282.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 608ms (Views: 2.9ms | ActiveRecord: 5.7ms)
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"expiry\":1572035184,\"last_token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"updated_at\":\"2019-10-11T22:26:25.132+02:00\"}}"], ["updated_at", "2019-10-11 20:26:25.133503"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 621ms (Views: 2.4ms | ActiveRecord: 286.2ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 22:26:25 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"expiry\":1572035184,\"last_token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"updated_at\":\"2019-10-11T22:26:25.714+02:00\"}}"], ["updated_at", "2019-10-11 20:26:25.715765"], ["id", 3]]
  [1m[35m (3.0ms)[0m  COMMIT
Completed 200 OK in 576ms (Views: 2.3ms | ActiveRecord: 4.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:26:29 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"expiry\":1572035184,\"last_token\":\"$2a$12$VJtKuHkUPpfeTV6wknM1quO460btc/g9qYL9eG9KFWiRGvjJByt1K\",\"updated_at\":\"2019-10-11T22:26:30.265+02:00\"}}"], ["updated_at", "2019-10-11 20:26:30.266148"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 311ms (Views: 3.6ms | ActiveRecord: 3.9ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:26:36 +0200


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:26:36 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (1.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.8ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kHufY5BR2u1H6nAomCB8gu/HVfYiGd5J5HxvtZdABUg/yqml5Oq2q\",\"expiry\":1572035197,\"last_token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"updated_at\":\"2019-10-11T22:26:37.011+02:00\"}}"], ["updated_at", "2019-10-11 20:26:37.325376"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (15.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 339ms (Views: 2.3ms | ActiveRecord: 6.4ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:26:37 +0200
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kHufY5BR2u1H6nAomCB8gu/HVfYiGd5J5HxvtZdABUg/yqml5Oq2q\",\"expiry\":1572035197,\"last_token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"updated_at\":\"2019-10-11T22:26:37.330+02:00\"}}"], ["updated_at", "2019-10-11 20:26:37.331879"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 344ms (Views: 2.0ms | ActiveRecord: 20.2ms)
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.7ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kHufY5BR2u1H6nAomCB8gu/HVfYiGd5J5HxvtZdABUg/yqml5Oq2q\",\"expiry\":1572035197,\"last_token\":\"$2a$12$1fvAFldDzKIDYdN7yvLQS.5MV9yh4I96x8x/bVxiMH6GvTCszSRty\",\"updated_at\":\"2019-10-11T22:26:37.907+02:00\"}}"], ["updated_at", "2019-10-11 20:26:37.908090"], ["id", 3]]
  [1m[35m (0.8ms)[0m  COMMIT
Completed 200 OK in 572ms (Views: 2.3ms | ActiveRecord: 2.2ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:44:33 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:44:33 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"expiry\":1572036273,\"last_token\":\"$2a$12$kHufY5BR2u1H6nAomCB8gu/HVfYiGd5J5HxvtZdABUg/yqml5Oq2q\",\"updated_at\":\"2019-10-11T22:44:33.517+02:00\"}}"], ["updated_at", "2019-10-11 20:44:33.799200"], ["id", 3]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (275.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 613ms (Views: 2.2ms | ActiveRecord: 6.8ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:44:33 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"expiry\":1572036273,\"last_token\":\"$2a$12$kHufY5BR2u1H6nAomCB8gu/HVfYiGd5J5HxvtZdABUg/yqml5Oq2q\",\"updated_at\":\"2019-10-11T22:44:33.808+02:00\"}}"], ["updated_at", "2019-10-11 20:44:33.809484"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 621ms (Views: 2.3ms | ActiveRecord: 279.8ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"expiry\":1572036273,\"last_token\":\"$2a$12$kHufY5BR2u1H6nAomCB8gu/HVfYiGd5J5HxvtZdABUg/yqml5Oq2q\",\"updated_at\":\"2019-10-11T22:44:34.385+02:00\"}}"], ["updated_at", "2019-10-11 20:44:34.386445"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 575ms (Views: 2.3ms | ActiveRecord: 4.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:44:40 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (1.5ms)
  Rendered types/index.json.jbuilder (6.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:41.215+02:00\"}}"], ["updated_at", "2019-10-11 20:44:41.501219"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 604ms (Views: 8.1ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 22:44:43 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (663.7ms)
Completed 200 OK in 665ms (Views: 664.6ms | ActiveRecord: 0.0ms)




Started GET "/assets/spa-demo/subjects/types/types.component.self-aa391e36ddebf622669a1ad5ad90b595bd19674662fc66edeeca00c461112034.js?body=1" for 127.0.0.1 at 2019-10-11 22:44:44 +0200
Started GET "/assets/spa-demo/subjects/types/map/type_thing.component.self-1c361e9ce62f66dd61356f7f8f729d4667d143b7281520bef4530da278a199b1.js?body=1" for 127.0.0.1 at 2019-10-11 22:44:44 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 22:44:44 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 22:44:44 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 22:44:44 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 22:44:44 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 22:44:44 +0200
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:45.031+02:00\"}}"], ["updated_at", "2019-10-11 20:44:45.033399"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 341ms (Views: 0.2ms | ActiveRecord: 2.6ms)


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 22:44:45 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 22:44:45 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 22:44:45 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 22:44:45 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.3ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (3.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:45.310+02:00\"}}"], ["updated_at", "2019-10-11 20:44:45.340265"], ["id", 3]]
  [1m[35m (1.9ms)[0m  COMMIT
Completed 200 OK in 53ms (Views: 1.7ms | ActiveRecord: 7.9ms)
  [1m[35m (0.6ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:45.429+02:00\"}}"], ["updated_at", "2019-10-11 20:44:45.431428"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 364ms (Views: 2.2ms | ActiveRecord: 4.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:44:45 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (4.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:45.478+02:00\"}}"], ["updated_at", "2019-10-11 20:44:45.479587"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 37ms (Views: 5.1ms | ActiveRecord: 7.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:44:45 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.9ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:45.604+02:00\"}}"], ["updated_at", "2019-10-11 20:44:45.606275"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 38ms (Views: 8.6ms | ActiveRecord: 5.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 22:44:49 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 22:44:49 +0200
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:49.436+02:00\"}}"], ["updated_at", "2019-10-11 20:44:49.437529"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
  [1m[35mType Load (1.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
Completed 200 OK in 22ms (Views: 2.1ms | ActiveRecord: 5.5ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 22:44:49 +0200
  [1m[36mThing Load (2.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  Rendered things/_thing.json.jbuilder (0.9ms)
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered things/index.json.jbuilder (2.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (5.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:49.470+02:00\"}}"], ["updated_at", "2019-10-11 20:44:49.472903"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (14.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 44ms (Views: 4.3ms | ActiveRecord: 9.2ms)
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"expiry\":1572036281,\"last_token\":\"$2a$12$sPKD.eYflqlPkYrsH77M8.7MiV9t8I4FJ.Kt7ngD5v3OzI4ffUTFu\",\"updated_at\":\"2019-10-11T22:44:49.486+02:00\"}}"], ["updated_at", "2019-10-11 20:44:49.488361"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 42ms (Views: 7.6ms | ActiveRecord: 18.7ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 22:44:53 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 22:44:53 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 22:44:53 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 22:44:53 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 22:44:53 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 22:44:53 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 22:44:54 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 22:44:54 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (3.8ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 5ms (ActiveRecord: 3.8ms)
Completed 304 Not Modified in 2ms (ActiveRecord: 1.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 22:45:16 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 22:45:16 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (9.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mType Load (1.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.7ms)
  [1m[36mThingType Load (2.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  [1m[36m (3.3ms)[0m  [1mBEGIN[0m
  Rendered thing_types/index.json.jbuilder (5.9ms)
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (4.9ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"expiry\":1572036316,\"last_token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"updated_at\":\"2019-10-11T22:45:16.958+02:00\"}}"], ["updated_at", "2019-10-11 20:45:17.253929"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36mUser Load (294.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 331ms (Views: 3.1ms | ActiveRecord: 18.7ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 22:45:17 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"expiry\":1572036316,\"last_token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"updated_at\":\"2019-10-11T22:45:17.261+02:00\"}}"], ["updated_at", "2019-10-11 20:45:17.262904"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 327ms (Views: 4.9ms | ActiveRecord: 305.1ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"expiry\":1572036316,\"last_token\":\"$2a$12$2LFCpd7evJeD0Am2KmEele1Kl9l5mhmsGVpWcASI5a7JuquuwH2z6\",\"updated_at\":\"2019-10-11T22:45:17.842+02:00\"}}"], ["updated_at", "2019-10-11 20:45:17.843593"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 581ms (Views: 2.4ms | ActiveRecord: 4.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 22:45:24 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.9ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"expiry\":1572036325,\"last_token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"updated_at\":\"2019-10-11T22:45:25.148+02:00\"}}"], ["updated_at", "2019-10-11 20:45:25.433234"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 605ms (Views: 7.2ms | ActiveRecord: 3.8ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 22:45:27 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 22:45:27 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"expiry\":1572036325,\"last_token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"updated_at\":\"2019-10-11T22:45:27.825+02:00\"}}"], ["updated_at", "2019-10-11 20:45:27.827063"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 322ms (Views: 2.5ms | ActiveRecord: 2.5ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"expiry\":1572036325,\"last_token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"updated_at\":\"2019-10-11T22:45:27.834+02:00\"}}"], ["updated_at", "2019-10-11 20:45:27.835705"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 331ms (Views: 2.5ms | ActiveRecord: 5.1ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 22:45:27 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (1.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (3.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"expiry\":1572036325,\"last_token\":\"$2a$12$rnNyOrGGMWEJgNAv8z7GJ.N5DbyGaEkM8Mc6Ag/hmjBAFp8Lqwhzu\",\"updated_at\":\"2019-10-11T22:45:27.872+02:00\"}}"], ["updated_at", "2019-10-11 20:45:27.874566"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 6.1ms | ActiveRecord: 4.8ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 23:53:03 +0200


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 23:53:03 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (4.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[36mUser Load (4.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThing Load (1.8ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (6.1ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:03.411+02:00\"}}"], ["updated_at", "2019-10-11 21:53:03.712645"], ["id", 3]]
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[36mUser Load (287.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 331ms (Views: 3.6ms | ActiveRecord: 9.1ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 23:53:03 +0200
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:03.721+02:00\"}}"], ["updated_at", "2019-10-11 21:53:03.722544"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 329ms (Views: 8.4ms | ActiveRecord: 297.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:04.307+02:00\"}}"], ["updated_at", "2019-10-11 21:53:04.308359"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 584ms (Views: 2.8ms | ActiveRecord: 2.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:53:04 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.7ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:05.206+02:00\"}}"], ["updated_at", "2019-10-11 21:53:05.208032"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 321ms (Views: 3.6ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 23:53:08 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (680.8ms)
Completed 200 OK in 683ms (Views: 682.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing.component.self-f9c3c69c6cdc0093b3798430f44c966eb8c8a541aada2be314302ef3737d38b6.js?body=1" for 127.0.0.1 at 2019-10-11 23:53:09 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 23:53:09 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 23:53:09 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 23:53:09 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:09.577+02:00\"}}"], ["updated_at", "2019-10-11 21:53:09.578962"], ["id", 3]]
  [1m[35m (9.4ms)[0m  COMMIT
Completed 200 OK in 48ms (Views: 0.4ms | ActiveRecord: 10.7ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 23:53:09 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 23:53:09 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 23:53:09 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 23:53:09 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 23:53:09 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.8ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:09.884+02:00\"}}"], ["updated_at", "2019-10-11 21:53:09.886070"], ["id", 3]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 31ms (Views: 2.0ms | ActiveRecord: 5.8ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 23:53:09 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.6ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.8ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (6.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:09.949+02:00\"}}"], ["updated_at", "2019-10-11 21:53:09.951571"], ["id", 3]]
  [1m[35m (3.1ms)[0m  COMMIT
Completed 200 OK in 35ms (Views: 4.3ms | ActiveRecord: 11.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:53:10 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (2.9ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (9.0ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:10.267+02:00\"}}"], ["updated_at", "2019-10-11 21:53:10.269070"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 54ms (Views: 12.7ms | ActiveRecord: 7.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:53:10 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (8.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (3.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"expiry\":1572040383,\"last_token\":\"$2a$12$s8oumhA9mEhwxQDqbULhx.yWydmkE16ezo/UxzCO2Wxkx4jHULGbO\",\"updated_at\":\"2019-10-11T23:53:10.349+02:00\"}}"], ["updated_at", "2019-10-11 21:53:10.351922"], ["id", 3]]
  [1m[35m (2.9ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 9.7ms | ActiveRecord: 7.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 23:53:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (3.7ms)
  Rendered types/show.json.jbuilder (5.8ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 23:53:23 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"expiry\":1572040403,\"last_token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"updated_at\":\"2019-10-11T23:53:23.359+02:00\"}}"], ["updated_at", "2019-10-11 21:53:23.666533"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 331ms (Views: 7.1ms | ActiveRecord: 4.1ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 23:53:23 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.4ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"expiry\":1572040403,\"last_token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"updated_at\":\"2019-10-11T23:53:23.713+02:00\"}}"], ["updated_at", "2019-10-11 21:53:23.718329"], ["id", 3]]
  [1m[35m (2.1ms)[0m  COMMIT
Completed 200 OK in 354ms (Views: 4.4ms | ActiveRecord: 8.6ms)
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (1.7ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"expiry\":1572040403,\"last_token\":\"$2a$12$AbKNYcplL.8u0TAUjOTSK.1yqqRsFfTEmTAbbJeCzZl.ixAhdNtj2\",\"updated_at\":\"2019-10-11T23:53:24.265+02:00\"}}"], ["updated_at", "2019-10-11 21:53:24.265872"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
Completed 200 OK in 591ms (Views: 2.4ms | ActiveRecord: 3.6ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 23:53:29 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 23:53:29 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 23:53:29 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 23:53:29 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 23:53:29 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 23:53:29 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 23:53:29 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (3.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 3.1ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 23:53:29 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.1ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-11 23:53:48 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-11 23:53:48 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mType Load (2.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:48.540+02:00\"}}"], ["updated_at", "2019-10-11 21:53:48.824985"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 618ms (Views: 2.8ms | ActiveRecord: 7.9ms)
  [1m[36mUser Load (280.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-11 23:53:48 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:48.831+02:00\"}}"], ["updated_at", "2019-10-11 21:53:48.833124"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 628ms (Views: 2.9ms | ActiveRecord: 283.6ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:49.419+02:00\"}}"], ["updated_at", "2019-10-11 21:53:49.419912"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 584ms (Views: 2.2ms | ActiveRecord: 4.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:53:49 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.5ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:50.063+02:00\"}}"], ["updated_at", "2019-10-11 21:53:50.064659"], ["id", 3]]
  [1m[35m (3.9ms)[0m  COMMIT
Completed 200 OK in 330ms (Views: 7.4ms | ActiveRecord: 5.6ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 23:53:52 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 23:53:52 +0200
  [1m[36mType Load (2.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[35m (0.5ms)[0m  BEGIN
Processing by ThingTypesController#type_things as JSON
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (2.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:52.428+02:00\"}}"], ["updated_at", "2019-10-11 21:53:52.429639"], ["id", 3]]
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 27ms (Views: 3.2ms | ActiveRecord: 9.1ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 23:53:52 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (2.3ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.2ms)
  [1m[36m (3.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (3.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:52.472+02:00\"}}"], ["updated_at", "2019-10-11 21:53:52.474387"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 38ms (Views: 3.6ms | ActiveRecord: 12.7ms)
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"expiry\":1572040428,\"last_token\":\"$2a$12$DdP9oaQHMxd3Z7.kbEEz4eqpZ/kH72gwCdhzcnmpa6U4Mlv079T0G\",\"updated_at\":\"2019-10-11T23:53:52.739+02:00\"}}"], ["updated_at", "2019-10-11 21:53:52.740672"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 319ms (Views: 2.3ms | ActiveRecord: 5.7ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 23:57:31 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 23:57:31 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (2.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (1.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (3.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (5.0ms)
  Rendered thing_types/index.json.jbuilder (7.7ms)
  [1m[35m (2.0ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"expiry\":1572040651,\"last_token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"updated_at\":\"2019-10-11T23:57:31.308+02:00\"}}"], ["updated_at", "2019-10-11 21:57:31.611835"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 337ms (Views: 7.2ms | ActiveRecord: 11.5ms)
  [1m[36mUser Load (308.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 23:57:31 +0200
Processing by ThingTypesController#linkable_things as JSON
  [1m[35mSQL (3.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"expiry\":1572040651,\"last_token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"updated_at\":\"2019-10-11T23:57:31.618+02:00\"}}"], ["updated_at", "2019-10-11 21:57:31.619881"], ["id", 3]]
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (8.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 365ms (Views: 9.3ms | ActiveRecord: 324.2ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"expiry\":1572040651,\"last_token\":\"$2a$12$A6N/9BBtYDiRNC8qyggLceFPuFjGiaXBSyJxzlzrHMnzbXMxwLepy\",\"updated_at\":\"2019-10-11T23:57:32.232+02:00\"}}"], ["updated_at", "2019-10-11 21:57:32.233123"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 608ms (Views: 2.0ms | ActiveRecord: 4.7ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-11 23:57:40 +0200


Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-11 23:57:40 +0200
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (1.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:40.710+02:00\"}}"], ["updated_at", "2019-10-11 21:57:40.992355"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (282.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 613ms (Views: 2.6ms | ActiveRecord: 3.9ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-11 23:57:40 +0200
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:40.999+02:00\"}}"], ["updated_at", "2019-10-11 21:57:41.000717"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 615ms (Views: 3.1ms | ActiveRecord: 286.1ms)
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:41.586+02:00\"}}"], ["updated_at", "2019-10-11 21:57:41.587664"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 587ms (Views: 2.1ms | ActiveRecord: 4.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:57:41 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:42.117+02:00\"}}"], ["updated_at", "2019-10-11 21:57:42.119584"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 329ms (Views: 3.9ms | ActiveRecord: 4.4ms)


Started GET "/" for 127.0.0.1 at 2019-10-11 23:57:44 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (720.9ms)
Completed 200 OK in 725ms (Views: 723.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing.component.self-3c24c9c609be51d30737188f207ebc24d59c9a061da7a6edb78747ced5be1a25.js?body=1" for 127.0.0.1 at 2019-10-11 23:57:45 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-11 23:57:45 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-11 23:57:45 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:45.682+02:00\"}}"], ["updated_at", "2019-10-11 21:57:45.684589"], ["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-11 23:57:45 +0200
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 0.4ms | ActiveRecord: 5.0ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-11 23:57:45 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-11 23:57:45 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-11 23:57:46 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-11 23:57:46 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-11 23:57:46 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:46.068+02:00\"}}"], ["updated_at", "2019-10-11 21:57:46.070973"], ["id", 3]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 22ms (Views: 1.8ms | ActiveRecord: 2.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:57:46 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (7.2ms)
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:46.332+02:00\"}}"], ["updated_at", "2019-10-11 21:57:46.335734"], ["id", 3]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 49ms (Views: 9.2ms | ActiveRecord: 6.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-11 23:57:46 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (3.6ms)
  Rendered types/index.json.jbuilder (11.6ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"expiry\":1572040660,\"last_token\":\"$2a$12$rZIS6GfFkcI.GmekKwVBT.VPZP7BuAg2DEzHZZs4SY51DjQ0GUKXu\",\"updated_at\":\"2019-10-11T23:57:46.467+02:00\"}}"], ["updated_at", "2019-10-11 21:57:46.469225"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 44ms (Views: 14.5ms | ActiveRecord: 3.7ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-11 23:58:28 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-11 23:58:28 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (1.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (5.8ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (5.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"expiry\":1572040708,\"last_token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"updated_at\":\"2019-10-11T23:58:28.432+02:00\"}}"], ["updated_at", "2019-10-11 21:58:28.744716"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (5.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 334ms (Views: 6.7ms | ActiveRecord: 4.8ms)
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"expiry\":1572040708,\"last_token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"updated_at\":\"2019-10-11T23:58:28.752+02:00\"}}"], ["updated_at", "2019-10-11 21:58:28.753493"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 346ms (Views: 2.2ms | ActiveRecord: 14.6ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-11 23:58:28 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"expiry\":1572040708,\"last_token\":\"$2a$12$S7BEKpxYUUy13NUDmI9EPuCUoBU4FJUohvEgdiHAB8apieW0D2vza\",\"updated_at\":\"2019-10-11T23:58:29.352+02:00\"}}"], ["updated_at", "2019-10-11 21:58:29.353872"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 592ms (Views: 1.6ms | ActiveRecord: 4.5ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-11 23:58:41 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-11 23:58:41 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-11 23:58:41 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-11 23:58:41 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-11 23:58:41 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-11 23:58:41 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-11 23:58:41 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 4ms (ActiveRecord: 1.9ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-11 23:58:41 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.2ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 00:02:58 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 00:02:58 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:02:58.865+02:00\"}}"], ["updated_at", "2019-10-11 22:02:59.152637"], ["id", 3]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (272.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 623ms (Views: 2.3ms | ActiveRecord: 6.8ms)
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:02:59.162+02:00\"}}"], ["updated_at", "2019-10-11 22:02:59.163903"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 622ms (Views: 2.9ms | ActiveRecord: 275.7ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 00:02:59 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:02:59.757+02:00\"}}"], ["updated_at", "2019-10-11 22:02:59.758341"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 577ms (Views: 1.3ms | ActiveRecord: 2.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:03:01 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:03:01.800+02:00\"}}"], ["updated_at", "2019-10-11 22:03:01.801995"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 329ms (Views: 4.2ms | ActiveRecord: 6.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 00:03:05 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (234.5ms)
Completed 200 OK in 236ms (Views: 235.9ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:03:06.064+02:00\"}}"], ["updated_at", "2019-10-11 22:03:06.065993"], ["id", 3]]
  [1m[36m (5.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 23ms (Views: 1.3ms | ActiveRecord: 8.2ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 00:03:06 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 00:03:06 +0200




Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.7ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:03:06.256+02:00\"}}"], ["updated_at", "2019-10-11 22:03:06.260345"], ["id", 3]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 37ms (Views: 2.3ms | ActiveRecord: 9.3ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 00:03:06 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 00:03:06 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (8.0ms)
  [1m[35m (3.0ms)[0m  BEGIN
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (3.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:03:06.498+02:00\"}}"], ["updated_at", "2019-10-11 22:03:06.499843"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 49ms (Views: 9.3ms | ActiveRecord: 16.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:03:06 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  [1m[36m (0.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (5.2ms)
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:03:06.544+02:00\"}}"], ["updated_at", "2019-10-11 22:03:06.545940"], ["id", 3]]
  [1m[36mUser Load (11.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 36ms (Views: 6.6ms | ActiveRecord: 5.4ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"expiry\":1572040978,\"last_token\":\"$2a$12$ptyyIF8A.6cyyfPpC884/.qyc8q2bwJpdBxoRe1Px0D/FZrrH9RGy\",\"updated_at\":\"2019-10-12T00:03:06.557+02:00\"}}"], ["updated_at", "2019-10-11 22:03:06.561842"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 385ms (Views: 2.6ms | ActiveRecord: 13.7ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:03:18 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:03:18 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.2ms)
  [1m[35mThingType Load (1.6ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  Rendered thing_types/index.json.jbuilder (4.4ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (2.2ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"expiry\":1572040998,\"last_token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"updated_at\":\"2019-10-12T00:03:18.888+02:00\"}}"], ["updated_at", "2019-10-11 22:03:19.178078"], ["id", 3]]
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[35mUser Load (295.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 319ms (Views: 4.0ms | ActiveRecord: 8.8ms)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"expiry\":1572040998,\"last_token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"updated_at\":\"2019-10-12T00:03:19.191+02:00\"}}"], ["updated_at", "2019-10-11 22:03:19.193804"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 326ms (Views: 4.5ms | ActiveRecord: 303.5ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:03:19 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"expiry\":1572040998,\"last_token\":\"$2a$12$C7FzgOzPzXdcb66LpCTL/.vXeMAoWVCiUqx8OVovjIDRrCRAvSmoG\",\"updated_at\":\"2019-10-12T00:03:19.792+02:00\"}}"], ["updated_at", "2019-10-11 22:03:19.793823"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 593ms (Views: 2.6ms | ActiveRecord: 5.6ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 00:03:31 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 00:03:31 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 00:03:31 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 00:03:31 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 00:03:32 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 00:03:32 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 00:03:32 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 00:03:32 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (2.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 6ms (ActiveRecord: 2.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:11:39 +0200

Processing by TypesController#show as JSON

  Parameters: {"id"=>"20"}
Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:11:39 +0200
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (1.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"expiry\":1572041499,\"last_token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"updated_at\":\"2019-10-12T00:11:39.939+02:00\"}}"], ["updated_at", "2019-10-11 22:11:40.223158"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (283.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 620ms (Views: 2.6ms | ActiveRecord: 3.9ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"expiry\":1572041499,\"last_token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"updated_at\":\"2019-10-12T00:11:40.230+02:00\"}}"], ["updated_at", "2019-10-11 22:11:40.231623"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 621ms (Views: 2.8ms | ActiveRecord: 286.6ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:11:40 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"expiry\":1572041499,\"last_token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"updated_at\":\"2019-10-12T00:11:40.823+02:00\"}}"], ["updated_at", "2019-10-11 22:11:40.823912"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 583ms (Views: 2.5ms | ActiveRecord: 4.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:11:41 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"expiry\":1572041499,\"last_token\":\"$2a$12$j/nLxqWs6Ofs9RKCOMVXGuCjyDx9oOSsy3DSVBw4yH6WIZQfai4qS\",\"updated_at\":\"2019-10-12T00:11:42.021+02:00\"}}"], ["updated_at", "2019-10-11 22:11:42.022567"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 324ms (Views: 3.6ms | ActiveRecord: 6.5ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 00:11:47 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 00:11:47 +0200
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (11.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"expiry\":1572041507,\"last_token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"updated_at\":\"2019-10-12T00:11:47.768+02:00\"}}"], ["updated_at", "2019-10-11 22:11:48.074891"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 337ms (Views: 12.9ms | ActiveRecord: 5.4ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 00:11:48 +0200
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (2.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/index.json.jbuilder (2.1ms)
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[36m (1.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mUser Load (2.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"expiry\":1572041507,\"last_token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"updated_at\":\"2019-10-12T00:11:48.110+02:00\"}}"], ["updated_at", "2019-10-11 22:11:48.111858"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 355ms (Views: 3.5ms | ActiveRecord: 10.3ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.7ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"expiry\":1572041507,\"last_token\":\"$2a$12$OZjzqlRBzJVHSF9lo915xu3O3fMx7LN7LBgCkllB0hlSnE8OfCKE6\",\"updated_at\":\"2019-10-12T00:11:48.692+02:00\"}}"], ["updated_at", "2019-10-11 22:11:48.693638"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 595ms (Views: 2.5ms | ActiveRecord: 6.4ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 00:20:35 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 00:20:35 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (2.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.2ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"expiry\":1572042035,\"last_token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"updated_at\":\"2019-10-12T00:20:35.760+02:00\"}}"], ["updated_at", "2019-10-11 22:20:36.046011"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (291.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 619ms (Views: 2.9ms | ActiveRecord: 4.5ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"expiry\":1572042035,\"last_token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"updated_at\":\"2019-10-12T00:20:36.053+02:00\"}}"], ["updated_at", "2019-10-11 22:20:36.055506"], ["id", 3]]
  [1m[36m (1.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 635ms (Views: 2.9ms | ActiveRecord: 297.3ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 00:20:36 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (3.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"expiry\":1572042035,\"last_token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"updated_at\":\"2019-10-12T00:20:36.651+02:00\"}}"], ["updated_at", "2019-10-11 22:20:36.652142"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 585ms (Views: 2.4ms | ActiveRecord: 5.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:20:37 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (3.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"expiry\":1572042035,\"last_token\":\"$2a$12$5s9iKocFJEWYxkHaxMmCau3E/m/niP9cEcIg4qWdpDeiM9HnkVuV6\",\"updated_at\":\"2019-10-12T00:20:37.875+02:00\"}}"], ["updated_at", "2019-10-11 22:20:37.876430"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 328ms (Views: 3.5ms | ActiveRecord: 6.2ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 00:20:41 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (733.4ms)
Completed 200 OK in 735ms (Views: 734.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-5f4eacc73c51e19053c072db6b511b0226e45208bba6bf32d06a398fac8cd42f.js?body=1" for 127.0.0.1 at 2019-10-12 00:20:42 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 00:20:42 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.8ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 00:20:42 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 00:20:43 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 00:20:43 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:20:43 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"expiry\":1572042042,\"last_token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"updated_at\":\"2019-10-12T00:20:42.894+02:00\"}}"], ["updated_at", "2019-10-11 22:20:43.231098"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 353ms (Views: 0.3ms | ActiveRecord: 5.3ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 00:20:43 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:20:43 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (3.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.5ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"expiry\":1572042042,\"last_token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"updated_at\":\"2019-10-12T00:20:43.470+02:00\"}}"], ["updated_at", "2019-10-11 22:20:43.473692"], ["id", 3]]
  [1m[35m (4.9ms)[0m  COMMIT
Completed 200 OK in 377ms (Views: 1.5ms | ActiveRecord: 9.1ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 00:20:43 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 00:20:43 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:20:43 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[36m (4.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (3.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (3.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"expiry\":1572042042,\"last_token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"updated_at\":\"2019-10-12T00:20:43.992+02:00\"}}"], ["updated_at", "2019-10-11 22:20:43.993472"], ["id", 3]]
  [1m[35m (2.0ms)[0m  COMMIT
Completed 200 OK in 391ms (Views: 6.5ms | ActiveRecord: 15.2ms)
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"expiry\":1572042042,\"last_token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"updated_at\":\"2019-10-12T00:20:44.145+02:00\"}}"], ["updated_at", "2019-10-11 22:20:44.146877"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 745ms (Views: 7.4ms | ActiveRecord: 7.6ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:20:44 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.1ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"expiry\":1572042042,\"last_token\":\"$2a$12$rqCURrMRPcksLUZ9skxP9u.5UvBHpOM/jo6EEPBsBler8X14e3H2O\",\"updated_at\":\"2019-10-12T00:20:44.518+02:00\"}}"], ["updated_at", "2019-10-11 22:20:44.521382"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 356ms (Views: 3.9ms | ActiveRecord: 4.4ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:20:59 +0200


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:20:59 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[36mThing Load (1.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  [1m[36m (3.4ms)[0m  [1mBEGIN[0m
  Rendered things/_thing.json.jbuilder (1.5ms)
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered things/index.json.jbuilder (2.9ms)
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Emwo1ChtDL.j.Az6JTgyg.GyD1OLF83ggIahz0fiY0c.i2GQoxEAa\",\"expiry\":1572042059,\"last_token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"updated_at\":\"2019-10-12T00:20:59.412+02:00\"}}"], ["updated_at", "2019-10-11 22:20:59.704087"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
  [1m[36mUser Load (293.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 314ms (Views: 3.1ms | ActiveRecord: 9.1ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:20:59 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Emwo1ChtDL.j.Az6JTgyg.GyD1OLF83ggIahz0fiY0c.i2GQoxEAa\",\"expiry\":1572042059,\"last_token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"updated_at\":\"2019-10-12T00:20:59.711+02:00\"}}"], ["updated_at", "2019-10-11 22:20:59.712485"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
Completed 200 OK in 317ms (Views: 4.6ms | ActiveRecord: 298.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Emwo1ChtDL.j.Az6JTgyg.GyD1OLF83ggIahz0fiY0c.i2GQoxEAa\",\"expiry\":1572042059,\"last_token\":\"$2a$12$glPj.dtiJudy4DoL.r8EVOperoe4wTB5GA2vyXZ8lx2GI8XLJ5C8i\",\"updated_at\":\"2019-10-12T00:21:00.306+02:00\"}}"], ["updated_at", "2019-10-11 22:21:00.307823"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 596ms (Views: 2.8ms | ActiveRecord: 3.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 00:21:03 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 00:21:03 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 00:21:03 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 00:21:03 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 00:21:03 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 00:21:03 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 00:21:03 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (0.8ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 5ms (ActiveRecord: 0.8ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 00:21:03 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.8ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:21:34 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (3.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:21:34 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (1.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (1.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"expiry\":1572042095,\"last_token\":\"$2a$12$Emwo1ChtDL.j.Az6JTgyg.GyD1OLF83ggIahz0fiY0c.i2GQoxEAa\",\"updated_at\":\"2019-10-12T00:21:35.190+02:00\"}}"], ["updated_at", "2019-10-11 22:21:35.475143"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (259.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 623ms (Views: 2.6ms | ActiveRecord: 8.3ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"expiry\":1572042095,\"last_token\":\"$2a$12$Emwo1ChtDL.j.Az6JTgyg.GyD1OLF83ggIahz0fiY0c.i2GQoxEAa\",\"updated_at\":\"2019-10-12T00:21:35.481+02:00\"}}"], ["updated_at", "2019-10-11 22:21:35.482953"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 593ms (Views: 3.0ms | ActiveRecord: 265.7ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:21:35 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"expiry\":1572042095,\"last_token\":\"$2a$12$Emwo1ChtDL.j.Az6JTgyg.GyD1OLF83ggIahz0fiY0c.i2GQoxEAa\",\"updated_at\":\"2019-10-12T00:21:36.071+02:00\"}}"], ["updated_at", "2019-10-11 22:21:36.072753"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 580ms (Views: 2.1ms | ActiveRecord: 4.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:24:03 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (4.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[35m (1.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"expiry\":1572042243,\"last_token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"updated_at\":\"2019-10-12T00:24:03.521+02:00\"}}"], ["updated_at", "2019-10-11 22:24:03.807528"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 616ms (Views: 5.7ms | ActiveRecord: 9.6ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:24:04 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:24:04 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"expiry\":1572042243,\"last_token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"updated_at\":\"2019-10-12T00:24:05.043+02:00\"}}"], ["updated_at", "2019-10-11 22:24:05.045295"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 335ms (Views: 2.3ms | ActiveRecord: 4.9ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:24:05 +0200
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mThing Load (2.8ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.4ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"expiry\":1572042243,\"last_token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"updated_at\":\"2019-10-12T00:24:05.078+02:00\"}}"], ["updated_at", "2019-10-11 22:24:05.080129"], ["id", 3]]
  Rendered thing_types/index.json.jbuilder (4.6ms)
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 347ms (Views: 3.8ms | ActiveRecord: 6.9ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"expiry\":1572042243,\"last_token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"updated_at\":\"2019-10-12T00:24:05.099+02:00\"}}"], ["updated_at", "2019-10-11 22:24:05.103204"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 40ms (Views: 5.7ms | ActiveRecord: 4.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:24:07 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (1.6ms)
  Rendered types/index.json.jbuilder (8.9ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"expiry\":1572042243,\"last_token\":\"$2a$12$ZVyGANfXn4B7WOpXqzPpX.4gLjOr7zcpxVBzn070dkkfRaOBRIrY2\",\"updated_at\":\"2019-10-12T00:24:07.311+02:00\"}}"], ["updated_at", "2019-10-11 22:24:07.312680"], ["id", 3]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 39ms (Views: 11.7ms | ActiveRecord: 7.3ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 00:24:11 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (756.8ms)
Completed 200 OK in 758ms (Views: 758.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-25ae016862ca72e1db3f355b2107e8cf74ad27c790dea716a231b9bc426aa02a.js?body=1" for 127.0.0.1 at 2019-10-12 00:24:12 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 00:24:12 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 00:24:12 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 00:24:12 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 00:24:13 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 00:24:13 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 00:24:13 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:24:13 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (4.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:12.936+02:00\"}}"], ["updated_at", "2019-10-11 22:24:13.272040"], ["id", 3]]
  [1m[36mUser Load (43.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (3.2ms)[0m  COMMIT
Completed 200 OK in 358ms (Views: 0.4ms | ActiveRecord: 9.5ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 00:24:13 +0200
  [1m[35mSQL (1.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:13.285+02:00\"}}"], ["updated_at", "2019-10-11 22:24:13.287251"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 73ms (Views: 3.3ms | ActiveRecord: 48.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:24:13 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:24:13 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (6.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:13.942+02:00\"}}"], ["updated_at", "2019-10-11 22:24:13.944113"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 418ms (Views: 1.8ms | ActiveRecord: 9.7ms)
  [1m[35mType Load (2.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.6ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:14.148+02:00\"}}"], ["updated_at", "2019-10-11 22:24:14.150477"], ["id", 3]]
  [1m[35m (5.2ms)[0m  COMMIT
Completed 200 OK in 710ms (Views: 6.0ms | ActiveRecord: 9.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:24:14 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:14.518+02:00\"}}"], ["updated_at", "2019-10-11 22:24:14.519858"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 350ms (Views: 3.4ms | ActiveRecord: 3.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:24:17 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (1.1ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.4ms)
  Rendered types/show.json.jbuilder (3.8ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:24:17 +0200
  [1m[35m (1.5ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:17.245+02:00\"}}"], ["updated_at", "2019-10-11 22:24:17.247152"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 5.1ms | ActiveRecord: 8.8ms)
  [1m[35mThing Load (1.1ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:24:17 +0200
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/index.json.jbuilder (2.4ms)
Processing by ThingTypesController#type_things as JSON
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.6ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (3.5ms)
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:17.274+02:00\"}}"], ["updated_at", "2019-10-11 22:24:17.279590"], ["id", 3]]
  [1m[36m (2.8ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (3.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (1.6ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 4.7ms | ActiveRecord: 7.8ms)
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"expiry\":1572042252,\"last_token\":\"$2a$12$mLhVfbhw1JxaDZwMWi6iP.vTGWaofNqb95C3N.hPsT077PRu4Jupq\",\"updated_at\":\"2019-10-12T00:24:17.292+02:00\"}}"], ["updated_at", "2019-10-11 22:24:17.295403"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 40ms (Views: 4.5ms | ActiveRecord: 11.2ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 00:24:21 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 00:24:21 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 1.1ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 2ms (ActiveRecord: 1.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:25:14 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:25:14 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (3.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[35mType Load (2.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (6.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  [1m[35mThingType Load (6.1ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (12.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (3.0ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:14.811+02:00\"}}"], ["updated_at", "2019-10-11 22:25:15.117817"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (310.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 339ms (Views: 7.9ms | ActiveRecord: 14.8ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:25:15 +0200
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:15.124+02:00\"}}"], ["updated_at", "2019-10-11 22:25:15.125791"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35m (3.1ms)[0m  COMMIT
Completed 200 OK in 349ms (Views: 4.2ms | ActiveRecord: 325.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:15.711+02:00\"}}"], ["updated_at", "2019-10-11 22:25:15.712105"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 586ms (Views: 2.4ms | ActiveRecord: 4.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:25:16 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (2.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:16.395+02:00\"}}"], ["updated_at", "2019-10-11 22:25:16.399047"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 327ms (Views: 4.2ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 00:25:18 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (675.8ms)
Completed 200 OK in 677ms (Views: 677.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-3f3686a2f2df47293670b88e0a68183735f6860e5300e2180e99e1146f168cdc.js?body=1" for 127.0.0.1 at 2019-10-12 00:25:19 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 00:25:19 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 00:25:19 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.2ms)[0m  [1mBEGIN[0m


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 00:25:19 +0200
  [1m[35mUser Load (5.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:19.973+02:00\"}}"], ["updated_at", "2019-10-11 22:25:19.975281"], ["id", 3]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 37ms (Views: 0.5ms | ActiveRecord: 11.2ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 00:25:20 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 00:25:20 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 00:25:20 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 00:25:20 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:25:20 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.3ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:20.346+02:00\"}}"], ["updated_at", "2019-10-11 22:25:20.352301"], ["id", 3]]
  [1m[35m (3.0ms)[0m  COMMIT
Completed 200 OK in 37ms (Views: 1.9ms | ActiveRecord: 6.0ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 00:25:20 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (2.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:20.406+02:00\"}}"], ["updated_at", "2019-10-11 22:25:20.409056"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 33ms (Views: 5.4ms | ActiveRecord: 5.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:25:20 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (7.1ms)
  [1m[36m (1.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:20.607+02:00\"}}"], ["updated_at", "2019-10-11 22:25:20.614052"], ["id", 3]]
  [1m[35m (3.2ms)[0m  COMMIT
Completed 200 OK in 46ms (Views: 9.7ms | ActiveRecord: 7.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:25:20 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.0ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:20.714+02:00\"}}"], ["updated_at", "2019-10-11 22:25:20.716888"], ["id", 3]]
  [1m[35m (6.0ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 6.3ms | ActiveRecord: 9.5ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:25:23 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:25:23 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mType Load (1.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (5.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.7ms)
  Rendered types/show.json.jbuilder (5.1ms)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:23.433+02:00\"}}"], ["updated_at", "2019-10-11 22:25:23.434643"], ["id", 3]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 39ms (Views: 13.0ms | ActiveRecord: 12.7ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:25:23 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.8ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:23.467+02:00\"}}"], ["updated_at", "2019-10-11 22:25:23.469825"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 29ms (Views: 2.8ms | ActiveRecord: 3.8ms)
  [1m[36mThingType Load (0.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"expiry\":1572042314,\"last_token\":\"$2a$12$xXZ/ibDd3s81x/I9cdqlYenWa7KepCGXKkpsk9LVLcCj6PSkxATMq\",\"updated_at\":\"2019-10-12T00:25:23.716+02:00\"}}"], ["updated_at", "2019-10-11 22:25:23.717477"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 321ms (Views: 2.7ms | ActiveRecord: 5.1ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 00:25:25 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 00:25:25 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 2ms (ActiveRecord: 0.9ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 00:26:42 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 00:26:42 +0200
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.1ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (1.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (4.8ms)
  [1m[35m (2.4ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:42.330+02:00\"}}"], ["updated_at", "2019-10-11 22:26:42.641326"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mUser Load (306.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 335ms (Views: 4.9ms | ActiveRecord: 5.4ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 00:26:42 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:42.646+02:00\"}}"], ["updated_at", "2019-10-11 22:26:42.648042"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 335ms (Views: 4.8ms | ActiveRecord: 313.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:43.239+02:00\"}}"], ["updated_at", "2019-10-11 22:26:43.240346"], ["id", 3]]
  [1m[36m (4.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 594ms (Views: 2.4ms | ActiveRecord: 6.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 00:26:47 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (5.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.7ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:47.422+02:00\"}}"], ["updated_at", "2019-10-11 22:26:47.423357"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 322ms (Views: 5.8ms | ActiveRecord: 7.3ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 00:26:49 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 00:26:49 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:49.513+02:00\"}}"], ["updated_at", "2019-10-11 22:26:49.514998"], ["id", 3]]
  [1m[35m (7.7ms)[0m  COMMIT
Completed 200 OK in 29ms (Views: 3.1ms | ActiveRecord: 10.7ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 00:26:49 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (1.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.9ms)
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mUser Load (5.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:49.561+02:00\"}}"], ["updated_at", "2019-10-11 22:26:49.562733"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 4.2ms | ActiveRecord: 10.9ms)
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.7ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"expiry\":1572042402,\"last_token\":\"$2a$12$grUHoo4MNua2VhImZEqvUeNWyMP5BcRs3lcCDu0Vy6gAIORW/5ph.\",\"updated_at\":\"2019-10-12T00:26:49.818+02:00\"}}"], ["updated_at", "2019-10-11 22:26:49.819263"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 323ms (Views: 2.3ms | ActiveRecord: 3.7ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 14:02:03 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (4213.8ms)
Completed 200 OK in 4304ms (Views: 4269.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/angular/angular.self-a4ec94b978004b45127819f4f8dda67f742334b1e952c2dc446a327714b45fb5.js?body=1" for 127.0.0.1 at 2019-10-12 14:02:07 +0200


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-ee044eab340423aa0bba6c050a4a3ebf1eec6d4594a0b6dc0f3d523cc48f333e.js?body=1" for 127.0.0.1 at 2019-10-12 14:02:08 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 14:02:09 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ks9rErcSWP2f4ZvGsl8si.XhHRz2Z7QwIfmWdUo/cvJ.OwZUgpoQG\",\"expiry\":1572091329,\"last_token\":\"$2a$12$z.UhPmHaCYS9WKT4ds9fW.JTAipiT3Eh.6/vP2SssGSwxUVse/XXm\",\"updated_at\":\"2019-10-12T14:02:09.466+02:00\"}}"], ["updated_at", "2019-10-12 12:02:09.796931"], ["id", 3]]
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 755ms (Views: 0.6ms | ActiveRecord: 14.2ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 14:02:09 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 14:02:09 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 14:02:09 +0200


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 14:02:34 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 14:02:34 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 14:02:34 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 14:02:34 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 14:02:35 +0200
  [1m[36mActiveRecord::SchemaMigration Load (2.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (3.7ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (1.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (11.9ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (6.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$imrsks6ks6X3TpUVjbJslee3sFIUV.c0MHVV44lxn7cr1X6luEscy\",\"expiry\":1572091355,\"last_token\":\"$2a$12$ks9rErcSWP2f4ZvGsl8si.XhHRz2Z7QwIfmWdUo/cvJ.OwZUgpoQG\",\"updated_at\":\"2019-10-12T14:02:35.358+02:00\"}}"], ["updated_at", "2019-10-12 12:02:35.666930"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[36mUser Load (81.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 691ms (Views: 9.0ms | ActiveRecord: 12.2ms)
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$imrsks6ks6X3TpUVjbJslee3sFIUV.c0MHVV44lxn7cr1X6luEscy\",\"expiry\":1572091355,\"last_token\":\"$2a$12$ks9rErcSWP2f4ZvGsl8si.XhHRz2Z7QwIfmWdUo/cvJ.OwZUgpoQG\",\"updated_at\":\"2019-10-12T14:02:35.682+02:00\"}}"], ["updated_at", "2019-10-12 12:02:35.684124"], ["id", 3]]
  [1m[36m (4.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 514ms (Views: 25.0ms | ActiveRecord: 95.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 14:02:35 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$imrsks6ks6X3TpUVjbJslee3sFIUV.c0MHVV44lxn7cr1X6luEscy\",\"expiry\":1572091355,\"last_token\":\"$2a$12$ks9rErcSWP2f4ZvGsl8si.XhHRz2Z7QwIfmWdUo/cvJ.OwZUgpoQG\",\"updated_at\":\"2019-10-12T14:02:36.020+02:00\"}}"], ["updated_at", "2019-10-12 12:02:36.021853"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 305ms (Views: 3.8ms | ActiveRecord: 4.6ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 14:02:46 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 14:02:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/show.json.jbuilder (3.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (1.8ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IqpvvKPSYpwkjUK7yk.cj.yuVRiIC7tcD8hzqebiPZF59tQBQFjUK\",\"expiry\":1572091366,\"last_token\":\"$2a$12$imrsks6ks6X3TpUVjbJslee3sFIUV.c0MHVV44lxn7cr1X6luEscy\",\"updated_at\":\"2019-10-12T14:02:46.142+02:00\"}}"], ["updated_at", "2019-10-12 12:02:46.457021"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 346ms (Views: 7.1ms | ActiveRecord: 5.4ms)
  [1m[36mThingType Load (6.7ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (36.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IqpvvKPSYpwkjUK7yk.cj.yuVRiIC7tcD8hzqebiPZF59tQBQFjUK\",\"expiry\":1572091366,\"last_token\":\"$2a$12$imrsks6ks6X3TpUVjbJslee3sFIUV.c0MHVV44lxn7cr1X6luEscy\",\"updated_at\":\"2019-10-12T14:02:46.536+02:00\"}}"], ["updated_at", "2019-10-12 12:02:46.537908"], ["id", 3]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 414ms (Views: 41.4ms | ActiveRecord: 18.7ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 14:02:46 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IqpvvKPSYpwkjUK7yk.cj.yuVRiIC7tcD8hzqebiPZF59tQBQFjUK\",\"expiry\":1572091366,\"last_token\":\"$2a$12$imrsks6ks6X3TpUVjbJslee3sFIUV.c0MHVV44lxn7cr1X6luEscy\",\"updated_at\":\"2019-10-12T14:02:47.136+02:00\"}}"], ["updated_at", "2019-10-12 12:02:47.136982"], ["id", 3]]
  [1m[35m (1.8ms)[0m  COMMIT
Completed 200 OK in 584ms (Views: 1.7ms | ActiveRecord: 4.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 14:03:55 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 14:03:55 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 14:03:56 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 14:03:56 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 14:03:56 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 14:03:56 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 14:03:56 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 14:03:56 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (12.3ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 40ms (ActiveRecord: 12.3ms)
  [1m[36m (2.6ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 60ms (ActiveRecord: 2.6ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 17:12:23 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 17:12:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (1.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (1.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (5.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.6ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (17.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"expiry\":1572102743,\"last_token\":\"$2a$12$IqpvvKPSYpwkjUK7yk.cj.yuVRiIC7tcD8hzqebiPZF59tQBQFjUK\",\"updated_at\":\"2019-10-12T17:12:23.993+02:00\"}}"], ["updated_at", "2019-10-12 15:12:24.280076"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (225.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 671ms (Views: 14.0ms | ActiveRecord: 5.9ms)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"expiry\":1572102743,\"last_token\":\"$2a$12$IqpvvKPSYpwkjUK7yk.cj.yuVRiIC7tcD8hzqebiPZF59tQBQFjUK\",\"updated_at\":\"2019-10-12T17:12:24.287+02:00\"}}"], ["updated_at", "2019-10-12 15:12:24.289917"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 632ms (Views: 21.1ms | ActiveRecord: 232.4ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 17:12:24 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"expiry\":1572102743,\"last_token\":\"$2a$12$IqpvvKPSYpwkjUK7yk.cj.yuVRiIC7tcD8hzqebiPZF59tQBQFjUK\",\"updated_at\":\"2019-10-12T17:12:24.896+02:00\"}}"], ["updated_at", "2019-10-12 15:12:24.898751"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 583ms (Views: 1.7ms | ActiveRecord: 5.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 17:13:04 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"expiry\":1572102784,\"last_token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"updated_at\":\"2019-10-12T17:13:04.858+02:00\"}}"], ["updated_at", "2019-10-12 15:13:05.142682"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 598ms (Views: 3.6ms | ActiveRecord: 5.4ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 17:13:09 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 17:13:09 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (3.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"expiry\":1572102784,\"last_token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"updated_at\":\"2019-10-12T17:13:09.984+02:00\"}}"], ["updated_at", "2019-10-12 15:13:09.985589"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 337ms (Views: 2.3ms | ActiveRecord: 6.0ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 17:13:09 +0200
  [1m[35mThingType Load (1.1ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (6.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"expiry\":1572102784,\"last_token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"updated_at\":\"2019-10-12T17:13:10.007+02:00\"}}"], ["updated_at", "2019-10-12 15:13:10.009608"], ["id", 3]]
  [1m[35mThing Load (5.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 364ms (Views: 2.9ms | ActiveRecord: 13.2ms)
  Rendered things/_thing.json.jbuilder (1.8ms)
  Rendered things/index.json.jbuilder (6.1ms)
  [1m[36m (3.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"expiry\":1572102784,\"last_token\":\"$2a$12$g0v8gvKxDU/6PlOBTaPHauWOR1FmRP9hcWNPoiX.XFvydPe3eXLeC\",\"updated_at\":\"2019-10-12T17:13:10.044+02:00\"}}"], ["updated_at", "2019-10-12 15:13:10.046015"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 51ms (Views: 7.6ms | ActiveRecord: 13.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:00:04 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (1.4ms)
  Rendered types/index.json.jbuilder (9.5ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"expiry\":1572109204,\"last_token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"updated_at\":\"2019-10-12T19:00:04.675+02:00\"}}"], ["updated_at", "2019-10-12 17:00:04.960179"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 329ms (Views: 11.7ms | ActiveRecord: 8.0ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:00:07 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (743.6ms)
Completed 200 OK in 746ms (Views: 745.4ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing.component.self-a545138b00cece15927f4aa13275d2fc2ed749965cd982a12aa06dd520f6b6c7.js?body=1" for 127.0.0.1 at 2019-10-12 19:00:08 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:00:09 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:00:09 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"expiry\":1572109204,\"last_token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"updated_at\":\"2019-10-12T19:00:09.466+02:00\"}}"], ["updated_at", "2019-10-12 17:00:09.470476"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 384ms (Views: 0.4ms | ActiveRecord: 5.6ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:00:09 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:00:09 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:00:09 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:00:09 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:00:09 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:00:09 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (3.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (1.1ms)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"expiry\":1572109204,\"last_token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"updated_at\":\"2019-10-12T19:00:10.150+02:00\"}}"], ["updated_at", "2019-10-12 17:00:10.152427"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 403ms (Views: 15.0ms | ActiveRecord: 9.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:00:10 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"expiry\":1572109204,\"last_token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"updated_at\":\"2019-10-12T19:00:10.205+02:00\"}}"], ["updated_at", "2019-10-12 17:00:10.207859"], ["id", 3]]
  [1m[35m (1.5ms)[0m  COMMIT
Completed 200 OK in 42ms (Views: 7.4ms | ActiveRecord: 5.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:00:10 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (4.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"expiry\":1572109204,\"last_token\":\"$2a$12$XNEMZc15SIT6xMcKAQvfT./71vF4JX9weezBFqdcIILXwRaUNUhRy\",\"updated_at\":\"2019-10-12T19:00:10.254+02:00\"}}"], ["updated_at", "2019-10-12 17:00:10.257039"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 13.1ms | ActiveRecord: 4.3ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:01:02 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:01:02 +0200
  [1m[35mType Load (8.8ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.8ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[36mThingType Load (6.8ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (13.8ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"expiry\":1572109262,\"last_token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"updated_at\":\"2019-10-12T19:01:02.551+02:00\"}}"], ["updated_at", "2019-10-12 17:01:02.845621"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (296.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 333ms (Views: 3.1ms | ActiveRecord: 16.0ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"expiry\":1572109262,\"last_token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"updated_at\":\"2019-10-12T19:01:02.852+02:00\"}}"], ["updated_at", "2019-10-12 17:01:02.853742"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 328ms (Views: 8.5ms | ActiveRecord: 305.3ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:01:02 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"expiry\":1572109262,\"last_token\":\"$2a$12$GgO4NcHum39i//QfexfQletu4vZd65qkEDpwmCqeIKxV4R1SUyTvG\",\"updated_at\":\"2019-10-12T19:01:03.446+02:00\"}}"], ["updated_at", "2019-10-12 17:01:03.447504"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 583ms (Views: 0.9ms | ActiveRecord: 5.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:01:13 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:01:13 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:01:13 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:01:13 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:01:13 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:01:13 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:01:13 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.2ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:01:13 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.2ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:01:44 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:01:44 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (3.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (3.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:44.884+02:00\"}}"], ["updated_at", "2019-10-12 17:01:45.164857"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (282.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 650ms (Views: 3.2ms | ActiveRecord: 9.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:01:45 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:45.173+02:00\"}}"], ["updated_at", "2019-10-12 17:01:45.174601"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 654ms (Views: 2.4ms | ActiveRecord: 287.0ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:45.758+02:00\"}}"], ["updated_at", "2019-10-12 17:01:45.759531"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 582ms (Views: 1.1ms | ActiveRecord: 4.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:01:48 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (2.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:48.969+02:00\"}}"], ["updated_at", "2019-10-12 17:01:48.972635"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 315ms (Views: 3.2ms | ActiveRecord: 4.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:01:51 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (1.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:01:51 +0200
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[35m (0.2ms)[0m  BEGIN
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (3.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:51.959+02:00\"}}"], ["updated_at", "2019-10-12 17:01:51.961363"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 36ms (Views: 3.3ms | ActiveRecord: 7.3ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:01:51 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (3.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (5.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:52.010+02:00\"}}"], ["updated_at", "2019-10-12 17:01:52.012499"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 48ms (Views: 4.8ms | ActiveRecord: 12.4ms)
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"expiry\":1572109304,\"last_token\":\"$2a$12$hdFK.7hH3oEr1Q2yx9y8DOQF6Dx0.n1apw89Gj7/msqaRH6SYX6PO\",\"updated_at\":\"2019-10-12T19:01:52.295+02:00\"}}"], ["updated_at", "2019-10-12 17:01:52.296236"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 354ms (Views: 2.8ms | ActiveRecord: 5.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:37:20 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.1ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.4ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$2Twx30hHIda7w7QzL4llS.ofrapmdpWEnj6Ltr1SfX3bw8Lct6B7e\",\"expiry\":1572111440,\"last_token\":\"$2a$12$Af09lfd9ccTItqBf6GgeP.5OLTI/jbIZfZw1DU8Q2I.9/ysWwAXO6\",\"updated_at\":\"2019-10-12T19:37:20.365+02:00\"}}"], ["updated_at", "2019-10-12 17:37:20.652818"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 318ms (Views: 6.8ms | ActiveRecord: 3.6ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:37:31 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (796.3ms)
Completed 200 OK in 803ms (Views: 801.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-563c7b496084e244632d0efbb8c0cad33fbc669ffb11128ce1525de36cd74954.js?body=1" for 127.0.0.1 at 2019-10-12 19:37:32 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:37:32 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:37:32 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:37:33 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:37:33 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:37:33 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (1.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (4.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"expiry\":1572111453,\"last_token\":\"$2a$12$2Twx30hHIda7w7QzL4llS.ofrapmdpWEnj6Ltr1SfX3bw8Lct6B7e\",\"updated_at\":\"2019-10-12T19:37:33.212+02:00\"}}"], ["updated_at", "2019-10-12 17:37:33.588740"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (101.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 733ms (Views: 0.3ms | ActiveRecord: 4.0ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:37:33 +0200
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"expiry\":1572111453,\"last_token\":\"$2a$12$2Twx30hHIda7w7QzL4llS.ofrapmdpWEnj6Ltr1SfX3bw8Lct6B7e\",\"updated_at\":\"2019-10-12T19:37:33.597+02:00\"}}"], ["updated_at", "2019-10-12 17:37:33.609024"], ["id", 3]]
  [1m[35m (2.1ms)[0m  COMMIT
Completed 200 OK in 517ms (Views: 2.1ms | ActiveRecord: 112.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:37:33 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:37:33 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:37:33 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:37:33 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.8ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"expiry\":1572111453,\"last_token\":\"$2a$12$2Twx30hHIda7w7QzL4llS.ofrapmdpWEnj6Ltr1SfX3bw8Lct6B7e\",\"updated_at\":\"2019-10-12T19:37:34.197+02:00\"}}"], ["updated_at", "2019-10-12 17:37:34.201254"], ["id", 3]]
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 391ms (Views: 6.3ms | ActiveRecord: 8.2ms)
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (5.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"expiry\":1572111453,\"last_token\":\"$2a$12$2Twx30hHIda7w7QzL4llS.ofrapmdpWEnj6Ltr1SfX3bw8Lct6B7e\",\"updated_at\":\"2019-10-12T19:37:34.371+02:00\"}}"], ["updated_at", "2019-10-12 17:37:34.374431"], ["id", 3]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 745ms (Views: 6.8ms | ActiveRecord: 7.9ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:37:34 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"expiry\":1572111453,\"last_token\":\"$2a$12$2Twx30hHIda7w7QzL4llS.ofrapmdpWEnj6Ltr1SfX3bw8Lct6B7e\",\"updated_at\":\"2019-10-12T19:37:34.741+02:00\"}}"], ["updated_at", "2019-10-12 17:37:34.742947"], ["id", 3]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 355ms (Views: 2.5ms | ActiveRecord: 5.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:37:58 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:37:58 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[35mThingType Load (0.6ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.8ms)
  [1m[35m (3.7ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"expiry\":1572111478,\"last_token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"updated_at\":\"2019-10-12T19:37:58.786+02:00\"}}"], ["updated_at", "2019-10-12 17:37:59.075549"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 315ms (Views: 2.7ms | ActiveRecord: 8.8ms)
  [1m[35mUser Load (294.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"expiry\":1572111478,\"last_token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"updated_at\":\"2019-10-12T19:37:59.081+02:00\"}}"], ["updated_at", "2019-10-12 17:37:59.083358"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 318ms (Views: 4.5ms | ActiveRecord: 297.7ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:37:59 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (5.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"expiry\":1572111478,\"last_token\":\"$2a$12$IMEJdj2ERwqWbAeoIs1vCeO2RgWcaiOJ98QZo8r1uVQCgWQjKRWIO\",\"updated_at\":\"2019-10-12T19:37:59.687+02:00\"}}"], ["updated_at", "2019-10-12 17:37:59.688244"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 595ms (Views: 1.3ms | ActiveRecord: 7.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:38:02 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:38:02 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:38:02 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:38:02 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:38:02 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:38:02 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:38:02 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.5ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 1.5ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:38:02 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.4ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.4ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:39:52 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:39:52 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (2.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"expiry\":1572111592,\"last_token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"updated_at\":\"2019-10-12T19:39:52.368+02:00\"}}"], ["updated_at", "2019-10-12 17:39:52.651036"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (282.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 628ms (Views: 2.6ms | ActiveRecord: 8.6ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:39:52 +0200
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"expiry\":1572111592,\"last_token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"updated_at\":\"2019-10-12T19:39:52.658+02:00\"}}"], ["updated_at", "2019-10-12 17:39:52.660902"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 637ms (Views: 4.0ms | ActiveRecord: 285.3ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"expiry\":1572111592,\"last_token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"updated_at\":\"2019-10-12T19:39:53.242+02:00\"}}"], ["updated_at", "2019-10-12 17:39:53.243484"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 586ms (Views: 1.6ms | ActiveRecord: 6.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:39:54 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (1.1ms)
  Rendered types/index.json.jbuilder (7.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"expiry\":1572111592,\"last_token\":\"$2a$12$P0M6evzTuVcbUobVHskTc.6tvaEmKMHstrCEvWnBVQ21YAFrGqACq\",\"updated_at\":\"2019-10-12T19:39:54.723+02:00\"}}"], ["updated_at", "2019-10-12 17:39:54.724862"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 341ms (Views: 8.4ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:40:36 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (657.1ms)
Completed 200 OK in 661ms (Views: 659.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:40:38 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:40:38 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:40:38 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:40:38 +0200
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"expiry\":1572111638,\"last_token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"updated_at\":\"2019-10-12T19:40:38.434+02:00\"}}"], ["updated_at", "2019-10-12 17:40:38.748437"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 661ms (Views: 0.3ms | ActiveRecord: 3.5ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:40:38 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:40:38 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:40:38 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:40:38 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.5ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"expiry\":1572111638,\"last_token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"updated_at\":\"2019-10-12T19:40:39.267+02:00\"}}"], ["updated_at", "2019-10-12 17:40:39.269154"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 378ms (Views: 2.0ms | ActiveRecord: 3.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:40:39 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"expiry\":1572111638,\"last_token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"updated_at\":\"2019-10-12T19:40:39.318+02:00\"}}"], ["updated_at", "2019-10-12 17:40:39.323422"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 47ms (Views: 7.8ms | ActiveRecord: 4.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:40:39 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"expiry\":1572111638,\"last_token\":\"$2a$12$1nyhZTCptNgGqd7D6w.GSemo8PvTzEiODv9taxF7tk7FWvCUJHLm.\",\"updated_at\":\"2019-10-12T19:40:39.374+02:00\"}}"], ["updated_at", "2019-10-12 17:40:39.376484"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 37ms (Views: 8.3ms | ActiveRecord: 3.9ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:40:46 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:40:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  Rendered types/_type.json.jbuilder (0.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/show.json.jbuilder (1.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"expiry\":1572111646,\"last_token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"updated_at\":\"2019-10-12T19:40:46.608+02:00\"}}"], ["updated_at", "2019-10-12 17:40:46.921379"], ["id", 3]]
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 332ms (Views: 3.0ms | ActiveRecord: 5.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:40:46 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"expiry\":1572111646,\"last_token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"updated_at\":\"2019-10-12T19:40:46.930+02:00\"}}"], ["updated_at", "2019-10-12 17:40:46.932397"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 341ms (Views: 1.7ms | ActiveRecord: 4.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.7ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"expiry\":1572111646,\"last_token\":\"$2a$12$kVi6tKGeyYA.VDQYoBuZa.rwj8A0bEOsFprt3k1cLB9/xUfz/j5fS\",\"updated_at\":\"2019-10-12T19:40:47.519+02:00\"}}"], ["updated_at", "2019-10-12 17:40:47.520574"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 584ms (Views: 3.6ms | ActiveRecord: 4.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:40:49 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:40:49 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 2ms (ActiveRecord: 0.9ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (0.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 0.9ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:41:09 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:41:09 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (2.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:09.773+02:00\"}}"], ["updated_at", "2019-10-12 17:41:10.055087"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (272.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 609ms (Views: 3.4ms | ActiveRecord: 2.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:41:10 +0200
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:10.060+02:00\"}}"], ["updated_at", "2019-10-12 17:41:10.064421"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (3.9ms)[0m  COMMIT
Completed 200 OK in 625ms (Views: 4.3ms | ActiveRecord: 280.0ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:10.656+02:00\"}}"], ["updated_at", "2019-10-12 17:41:10.657736"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 588ms (Views: 1.1ms | ActiveRecord: 4.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:41:13 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:13.739+02:00\"}}"], ["updated_at", "2019-10-12 17:41:13.740140"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 311ms (Views: 6.5ms | ActiveRecord: 5.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:41:15 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:41:15 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mType Load (1.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:15.321+02:00\"}}"], ["updated_at", "2019-10-12 17:41:15.323405"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 31ms (Views: 5.1ms | ActiveRecord: 6.2ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:41:15 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (3.4ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:15.364+02:00\"}}"], ["updated_at", "2019-10-12 17:41:15.365866"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 31ms (Views: 4.4ms | ActiveRecord: 7.8ms)
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"expiry\":1572111669,\"last_token\":\"$2a$12$H4vytkyxWlHG6DWS1PwOlOzaD.DuftVICgqkiIK3vqA9ks3f3pfY6\",\"updated_at\":\"2019-10-12T19:41:15.622+02:00\"}}"], ["updated_at", "2019-10-12 17:41:15.623378"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 327ms (Views: 3.0ms | ActiveRecord: 5.2ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:42:23 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:42:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (3.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mUser Load (5.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (5.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.0ms)
  [1m[36mThingType Load (0.8ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (10.1ms)
  Rendered types/show.json.jbuilder (6.4ms)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:23.924+02:00\"}}"], ["updated_at", "2019-10-12 17:42:24.224077"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (304.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 348ms (Views: 12.6ms | ActiveRecord: 13.3ms)
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:24.231+02:00\"}}"], ["updated_at", "2019-10-12 17:42:24.234305"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 368ms (Views: 20.9ms | ActiveRecord: 315.5ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:42:24 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (2.7ms)
  Rendered things/index.json.jbuilder (4.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:24.851+02:00\"}}"], ["updated_at", "2019-10-12 17:42:24.852516"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 597ms (Views: 5.1ms | ActiveRecord: 5.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:42:27 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (3.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:27.957+02:00\"}}"], ["updated_at", "2019-10-12 17:42:27.958653"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 311ms (Views: 4.9ms | ActiveRecord: 3.6ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 19:42:29 +0200


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 19:42:30 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (3.5ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:30.034+02:00\"}}"], ["updated_at", "2019-10-12 17:42:30.038567"], ["id", 3]]
  [1m[35m (1.8ms)[0m  COMMIT
Completed 200 OK in 50ms (Views: 5.2ms | ActiveRecord: 6.1ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 19:42:30 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (2.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (6.0ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:30.101+02:00\"}}"], ["updated_at", "2019-10-12 17:42:30.107304"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 42ms (Views: 11.8ms | ActiveRecord: 5.6ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"expiry\":1572111743,\"last_token\":\"$2a$12$TcRtAMqpexiKMKS/nE5ete8XOlvUENRWjkRnaGMI6rHS453xHjKFm\",\"updated_at\":\"2019-10-12T19:42:30.334+02:00\"}}"], ["updated_at", "2019-10-12 17:42:30.335253"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 328ms (Views: 2.5ms | ActiveRecord: 2.8ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 19:47:41 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (3.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.8ms)
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 19:47:41 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (3.4ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (6.2ms)
  Rendered things/index.json.jbuilder (7.9ms)
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:41.862+02:00\"}}"], ["updated_at", "2019-10-12 17:47:42.175116"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (280.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 343ms (Views: 3.1ms | ActiveRecord: 12.0ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 19:47:42 +0200
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:42.182+02:00\"}}"], ["updated_at", "2019-10-12 17:47:42.184616"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 319ms (Views: 9.6ms | ActiveRecord: 287.9ms)
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (5.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:42.803+02:00\"}}"], ["updated_at", "2019-10-12 17:47:42.805727"], ["id", 3]]
  [1m[35m (3.2ms)[0m  COMMIT
Completed 200 OK in 621ms (Views: 5.9ms | ActiveRecord: 5.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:47:43 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:44.294+02:00\"}}"], ["updated_at", "2019-10-12 17:47:44.295294"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 309ms (Views: 4.0ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:47:47 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (613.7ms)
Completed 200 OK in 616ms (Views: 615.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-9723d0c990836382bdd91423837072c27b0873030d2e2fd8b63e5dab2e2fc2d8.js?body=1" for 127.0.0.1 at 2019-10-12 19:47:47 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:47:48 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:47:48 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (2.7ms)[0m  BEGIN
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:47:48 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:48.133+02:00\"}}"], ["updated_at", "2019-10-12 17:47:48.138825"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 30ms (Views: 0.5ms | ActiveRecord: 7.3ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:47:48 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:47:48 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:47:48 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:47:48 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:47:48 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:47:48 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (5.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.7ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (2.9ms)[0m  BEGIN
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (5.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:48.466+02:00\"}}"], ["updated_at", "2019-10-12 17:47:48.468719"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 45ms (Views: 3.2ms | ActiveRecord: 20.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:47:48 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:48.730+02:00\"}}"], ["updated_at", "2019-10-12 17:47:48.732912"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 366ms (Views: 2.9ms | ActiveRecord: 4.2ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (12.2ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:48.760+02:00\"}}"], ["updated_at", "2019-10-12 17:47:48.763750"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 56ms (Views: 14.6ms | ActiveRecord: 4.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:47:48 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.3ms)
  [1m[35m (2.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"expiry\":1572112061,\"last_token\":\"$2a$12$FsDZKxuk3v.hnvxr3HieA.6dxwIWWjVbHf.0Kz/UqjV4JQap9ZrsO\",\"updated_at\":\"2019-10-12T19:47:48.821+02:00\"}}"], ["updated_at", "2019-10-12 17:47:48.823280"], ["id", 3]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 5.6ms | ActiveRecord: 6.4ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:47:54 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:47:54 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/show.json.jbuilder (2.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (6.2ms)
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"expiry\":1572112074,\"last_token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"updated_at\":\"2019-10-12T19:47:54.435+02:00\"}}"], ["updated_at", "2019-10-12 17:47:54.727723"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 317ms (Views: 4.0ms | ActiveRecord: 4.2ms)
  [1m[36mUser Load (287.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:47:54 +0200
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"expiry\":1572112074,\"last_token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"updated_at\":\"2019-10-12T19:47:54.735+02:00\"}}"], ["updated_at", "2019-10-12 17:47:54.736877"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 318ms (Views: 8.1ms | ActiveRecord: 291.5ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"expiry\":1572112074,\"last_token\":\"$2a$12$HzypWcSYYX4CKYF/kuOmYefmNqrkzVEaBovCYp.EDZkPfruyo6W7O\",\"updated_at\":\"2019-10-12T19:47:55.315+02:00\"}}"], ["updated_at", "2019-10-12 17:47:55.316424"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 582ms (Views: 1.2ms | ActiveRecord: 5.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:48:02 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:48:02 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (2.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 2.3ms)
  [1m[35m (2.4ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 2.4ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:49:40 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:49:40 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (3.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (3.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:40.533+02:00\"}}"], ["updated_at", "2019-10-12 17:49:40.818879"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (289.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 621ms (Views: 2.6ms | ActiveRecord: 7.3ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:49:40 +0200
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:40.825+02:00\"}}"], ["updated_at", "2019-10-12 17:49:40.828007"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 629ms (Views: 3.8ms | ActiveRecord: 292.0ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:41.408+02:00\"}}"], ["updated_at", "2019-10-12 17:49:41.409338"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 580ms (Views: 1.1ms | ActiveRecord: 4.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:49:44 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:44.753+02:00\"}}"], ["updated_at", "2019-10-12 17:49:44.755195"], ["id", 3]]
  [1m[35m (6.6ms)[0m  COMMIT
Completed 200 OK in 314ms (Views: 3.6ms | ActiveRecord: 9.4ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:49:46 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (1255.2ms)
Completed 200 OK in 1265ms (Views: 1264.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-ef54c7410ba0862b7bf8834e6da375c7beb2b4e7187898d8759a069d9e3da1c8.js?body=1" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:49:48 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:48.704+02:00\"}}"], ["updated_at", "2019-10-12 17:49:48.707853"], ["id", 3]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 0.5ms | ActiveRecord: 6.8ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:49:48 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:49:48 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:49:49 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.6ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (2.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (2.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:49.100+02:00\"}}"], ["updated_at", "2019-10-12 17:49:49.101793"], ["id", 3]]
  [1m[36m (6.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 34ms (Views: 1.9ms | ActiveRecord: 11.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:49.340+02:00\"}}"], ["updated_at", "2019-10-12 17:49:49.342468"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 358ms (Views: 3.7ms | ActiveRecord: 6.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:49:49 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.5ms)
  [1m[35m (2.4ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:49.443+02:00\"}}"], ["updated_at", "2019-10-12 17:49:49.444920"], ["id", 3]]
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 40ms (Views: 5.9ms | ActiveRecord: 13.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:49:49 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (5.6ms)
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"expiry\":1572112180,\"last_token\":\"$2a$12$dBmOexL.jIC3VipXkvxg5eMqk1DfFuTtwi9otZg/Bdy47aYy9desW\",\"updated_at\":\"2019-10-12T19:49:49.500+02:00\"}}"], ["updated_at", "2019-10-12 17:49:49.502475"], ["id", 3]]
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 43ms (Views: 9.2ms | ActiveRecord: 9.9ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:49:54 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:49:54 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[35mThingType Load (4.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (7.9ms)
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (4.1ms)
  [1m[36m (1.9ms)[0m  [1mBEGIN[0m
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"expiry\":1572112194,\"last_token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"updated_at\":\"2019-10-12T19:49:54.998+02:00\"}}"], ["updated_at", "2019-10-12 17:49:55.284060"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[35mUser Load (293.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 316ms (Views: 6.5ms | ActiveRecord: 10.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:49:55 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"expiry\":1572112194,\"last_token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"updated_at\":\"2019-10-12T19:49:55.291+02:00\"}}"], ["updated_at", "2019-10-12 17:49:55.293068"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35m (1.6ms)[0m  COMMIT
Completed 200 OK in 322ms (Views: 6.0ms | ActiveRecord: 297.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"expiry\":1572112194,\"last_token\":\"$2a$12$bIPuGD71yYgnOd/9TZQWOewUGHYokHC5X/u.NApmIQZVfjnWwNDlq\",\"updated_at\":\"2019-10-12T19:49:55.875+02:00\"}}"], ["updated_at", "2019-10-12 17:49:55.876048"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 581ms (Views: 1.1ms | ActiveRecord: 2.6ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:49:59 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:49:59 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:49:59 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:49:59 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:49:59 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:49:59 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:50:00 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:50:00 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (6.3ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 8ms (ActiveRecord: 6.3ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:51:23 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:51:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mType Load (1.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (4.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:23.921+02:00\"}}"], ["updated_at", "2019-10-12 17:51:24.203240"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (277.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 616ms (Views: 2.2ms | ActiveRecord: 4.7ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:51:24 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:24.208+02:00\"}}"], ["updated_at", "2019-10-12 17:51:24.209938"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
Completed 200 OK in 625ms (Views: 5.3ms | ActiveRecord: 280.0ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.8ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:24.799+02:00\"}}"], ["updated_at", "2019-10-12 17:51:24.800640"], ["id", 3]]
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 590ms (Views: 1.2ms | ActiveRecord: 3.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:51:26 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:26.632+02:00\"}}"], ["updated_at", "2019-10-12 17:51:26.633601"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 312ms (Views: 4.0ms | ActiveRecord: 6.4ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:51:28 +0200

Processing by TypesController#show as JSON

  Parameters: {"id"=>"20"}
Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:51:28 +0200
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (1.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.2ms)
  Rendered types/show.json.jbuilder (3.6ms)
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:28.716+02:00\"}}"], ["updated_at", "2019-10-12 17:51:28.717439"], ["id", 3]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 11.0ms | ActiveRecord: 6.6ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:51:28 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (3.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.0ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (1.0ms)
  Rendered things/index.json.jbuilder (2.6ms)
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:28.761+02:00\"}}"], ["updated_at", "2019-10-12 17:51:28.763941"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 4.0ms | ActiveRecord: 11.0ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (1.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"expiry\":1572112283,\"last_token\":\"$2a$12$F3BW58o94ZfV7pP3uIJqxe1AXjLFSvOSE1ozGEj4RPAxN/eQpHaFy\",\"updated_at\":\"2019-10-12T19:51:29.014+02:00\"}}"], ["updated_at", "2019-10-12 17:51:29.015106"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 316ms (Views: 2.4ms | ActiveRecord: 6.1ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:55:06 +0200


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:55:06 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mUser Load (3.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.1ms)
  Rendered types/show.json.jbuilder (2.6ms)
  [1m[35m (3.2ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.0ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (2.1ms)
  Rendered things/index.json.jbuilder (3.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:06.275+02:00\"}}"], ["updated_at", "2019-10-12 17:55:06.578981"], ["id", 3]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (283.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 345ms (Views: 4.1ms | ActiveRecord: 10.9ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:55:06 +0200
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:06.585+02:00\"}}"], ["updated_at", "2019-10-12 17:55:06.587388"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 362ms (Views: 6.1ms | ActiveRecord: 290.8ms)
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[36m (1.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:07.203+02:00\"}}"], ["updated_at", "2019-10-12 17:55:07.204462"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 611ms (Views: 3.3ms | ActiveRecord: 5.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:55:08 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:08.537+02:00\"}}"], ["updated_at", "2019-10-12 17:55:08.541056"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 315ms (Views: 3.8ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:55:10 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (700.7ms)
Completed 200 OK in 702ms (Views: 702.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-4f6c59cb395db6fcf88f777f8c6a9a1fec42626849d6b9576897295e6d841789.js?body=1" for 127.0.0.1 at 2019-10-12 19:55:11 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:55:12 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:55:12 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]

  [1m[35m (4.0ms)[0m  BEGIN

Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:55:12 +0200
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (2.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:12.043+02:00\"}}"], ["updated_at", "2019-10-12 17:55:12.045542"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 0.4ms | ActiveRecord: 10.3ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:55:12 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:55:12 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:55:12 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:55:12 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:55:12 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.6ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:12.294+02:00\"}}"], ["updated_at", "2019-10-12 17:55:12.297657"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 26ms (Views: 2.1ms | ActiveRecord: 5.7ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:55:12 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:12.346+02:00\"}}"], ["updated_at", "2019-10-12 17:55:12.349180"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 35ms (Views: 4.7ms | ActiveRecord: 5.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:55:12 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:12.609+02:00\"}}"], ["updated_at", "2019-10-12 17:55:12.612280"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 44ms (Views: 7.9ms | ActiveRecord: 7.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:55:12 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (4.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/index.json.jbuilder (5.3ms)
  [1m[35m (3.5ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:12.676+02:00\"}}"], ["updated_at", "2019-10-12 17:55:12.678446"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 48ms (Views: 7.1ms | ActiveRecord: 12.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:55:14 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:55:14 +0200
Processing by ThingTypesController#linkable_things as JSON
Processing by TypesController#show as JSON
  Parameters: {"type_id"=>"23"}
  Parameters: {"id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (3.6ms)
  [1m[36m (3.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:14.621+02:00\"}}"], ["updated_at", "2019-10-12 17:55:14.637385"], ["id", 3]]
  [1m[35m (3.1ms)[0m  COMMIT
Completed 200 OK in 53ms (Views: 5.8ms | ActiveRecord: 10.5ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:55:14 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (1.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (2.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (5.5ms)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:14.685+02:00\"}}"], ["updated_at", "2019-10-12 17:55:14.687155"], ["id", 3]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 36ms (Views: 4.6ms | ActiveRecord: 7.2ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"expiry\":1572112506,\"last_token\":\"$2a$12$9xUUQb0W0BuUOhseboKpV.U2/csPZKSiVQRqF7A73PkYEbC77GOyG\",\"updated_at\":\"2019-10-12T19:55:14.911+02:00\"}}"], ["updated_at", "2019-10-12 17:55:14.912373"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 321ms (Views: 1.2ms | ActiveRecord: 2.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:55:16 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:55:16 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:55:16 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:55:16 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:55:16 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:55:16 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:55:16 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 1.3ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:55:16 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:55:28 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:55:28 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered types/_type.json.jbuilder (3.0ms)
  Rendered types/show.json.jbuilder (4.6ms)
  Rendered thing_types/index.json.jbuilder (5.7ms)
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:28.845+02:00\"}}"], ["updated_at", "2019-10-12 17:55:29.141070"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (305.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 329ms (Views: 7.1ms | ActiveRecord: 6.6ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:29.148+02:00\"}}"], ["updated_at", "2019-10-12 17:55:29.150128"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 344ms (Views: 6.3ms | ActiveRecord: 313.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:55:29 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (5.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:29.753+02:00\"}}"], ["updated_at", "2019-10-12 17:55:29.755395"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 601ms (Views: 1.7ms | ActiveRecord: 9.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:55:31 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (3.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:31.749+02:00\"}}"], ["updated_at", "2019-10-12 17:55:31.752813"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 316ms (Views: 4.9ms | ActiveRecord: 4.2ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:55:33 +0200


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:55:33 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (2.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (3.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.7ms)
  Rendered types/show.json.jbuilder (4.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:33.315+02:00\"}}"], ["updated_at", "2019-10-12 17:55:33.316257"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 47ms (Views: 7.4ms | ActiveRecord: 10.6ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:55:33 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (6.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:33.351+02:00\"}}"], ["updated_at", "2019-10-12 17:55:33.353752"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 31ms (Views: 8.2ms | ActiveRecord: 2.8ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"expiry\":1572112528,\"last_token\":\"$2a$12$5oRbdm9H/KqqycfjzlNkBO7314AIu62Ld/pE4O6tov7GeCYQcZGfG\",\"updated_at\":\"2019-10-12T19:55:33.603+02:00\"}}"], ["updated_at", "2019-10-12 17:55:33.604382"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 334ms (Views: 2.2ms | ActiveRecord: 5.7ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:57:13 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:57:13 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (2.3ms)
  [1m[35m (3.0ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mThingType Load (3.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (6.1ms)
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:13.186+02:00\"}}"], ["updated_at", "2019-10-12 17:57:13.490748"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 339ms (Views: 7.7ms | ActiveRecord: 5.9ms)
  [1m[36mUser Load (302.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:13.496+02:00\"}}"], ["updated_at", "2019-10-12 17:57:13.498492"], ["id", 3]]
  [1m[36m (4.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 337ms (Views: 6.7ms | ActiveRecord: 313.1ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:57:13 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:14.109+02:00\"}}"], ["updated_at", "2019-10-12 17:57:14.110463"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 591ms (Views: 2.3ms | ActiveRecord: 4.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:57:16 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:16.420+02:00\"}}"], ["updated_at", "2019-10-12 17:57:16.423139"], ["id", 3]]
  [1m[35m (5.5ms)[0m  COMMIT
Completed 200 OK in 316ms (Views: 3.6ms | ActiveRecord: 7.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 19:57:18 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 19:57:18 +0200
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (3.0ms)
Processing by ThingTypesController#linkable_things as JSON
  [1m[35m (1.8ms)[0m  BEGIN
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:18.538+02:00\"}}"], ["updated_at", "2019-10-12 17:57:18.540395"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 26ms (Views: 4.6ms | ActiveRecord: 7.2ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 19:57:18 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (3.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (3.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:18.594+02:00\"}}"], ["updated_at", "2019-10-12 17:57:18.596944"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 54ms (Views: 8.8ms | ActiveRecord: 9.2ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"expiry\":1572112633,\"last_token\":\"$2a$12$oGPxtxilbJVpRuY6fwrTM.t17Y0xPCnJot048iU3Kd0Z9MSxaJEFK\",\"updated_at\":\"2019-10-12T19:57:18.852+02:00\"}}"], ["updated_at", "2019-10-12 17:57:18.853252"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 325ms (Views: 2.8ms | ActiveRecord: 4.3ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 19:58:32 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 19:58:32 +0200
  [1m[36mType Load (5.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (2.4ms)
  [1m[35m (1.5ms)[0m  BEGIN
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (1.1ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (1.3ms)
  Rendered things/index.json.jbuilder (2.8ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:32.666+02:00\"}}"], ["updated_at", "2019-10-12 17:58:32.972303"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 344ms (Views: 4.1ms | ActiveRecord: 9.6ms)
  [1m[36mUser Load (281.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 19:58:32 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:32.982+02:00\"}}"], ["updated_at", "2019-10-12 17:58:32.983784"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (1.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 326ms (Views: 8.3ms | ActiveRecord: 286.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:33.571+02:00\"}}"], ["updated_at", "2019-10-12 17:58:33.572666"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 587ms (Views: 2.9ms | ActiveRecord: 3.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:58:34 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:34.789+02:00\"}}"], ["updated_at", "2019-10-12 17:58:34.793261"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 318ms (Views: 4.4ms | ActiveRecord: 2.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 19:58:38 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (631.5ms)
Completed 200 OK in 633ms (Views: 632.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-e94fa8e76aa4e22e00f4c3451ee768bce9dfc28dfdd81f7063aaeb4427838326.js?body=1" for 127.0.0.1 at 2019-10-12 19:58:39 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 19:58:39 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 19:58:39 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 19:58:39 +0200
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:39.707+02:00\"}}"], ["updated_at", "2019-10-12 17:58:39.709503"], ["id", 3]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 27ms (Views: 3.1ms | ActiveRecord: 7.4ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 19:58:39 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 19:58:39 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 19:58:40 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 19:58:40 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 19:58:40 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:58:40 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  [1m[36mType Load (4.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered authn/whoami.json.jbuilder (1.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:40.412+02:00\"}}"], ["updated_at", "2019-10-12 17:58:40.415275"], ["id", 3]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (8.3ms)
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 378ms (Views: 2.6ms | ActiveRecord: 3.7ms)
  [1m[35m (5.4ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:40.435+02:00\"}}"], ["updated_at", "2019-10-12 17:58:40.437390"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 52ms (Views: 9.8ms | ActiveRecord: 12.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:58:40 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (3.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (5.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (10.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (2.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:40.526+02:00\"}}"], ["updated_at", "2019-10-12 17:58:40.530121"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 48ms (Views: 11.8ms | ActiveRecord: 11.3ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:58:43 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:58:43 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (1.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[35mType Load (3.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.9ms)
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered types/show.json.jbuilder (2.0ms)
  Rendered thing_types/index.json.jbuilder (4.0ms)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:43.414+02:00\"}}"], ["updated_at", "2019-10-12 17:58:43.417397"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[35mUser Load (10.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 35ms (Views: 3.2ms | ActiveRecord: 8.3ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:58:43 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:43.426+02:00\"}}"], ["updated_at", "2019-10-12 17:58:43.428379"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35m (1.9ms)[0m  COMMIT
Completed 200 OK in 45ms (Views: 5.0ms | ActiveRecord: 17.0ms)
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (2.3ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"expiry\":1572112712,\"last_token\":\"$2a$12$zYaxWTfKaU2G8cNOmyQ8d.BhR.oqBcMZJySAeZfHeLR3zrIl8GfcG\",\"updated_at\":\"2019-10-12T19:58:43.452+02:00\"}}"], ["updated_at", "2019-10-12 17:58:43.454545"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 27ms (Views: 1.4ms | ActiveRecord: 5.9ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 19:58:45 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 19:58:45 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 19:58:45 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 19:58:45 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 19:58:45 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 19:58:45 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 19:58:45 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 19:58:45 +0200
  [1m[35m (4.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 6ms (ActiveRecord: 4.1ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (0.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 19:59:17 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 19:59:17 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mType Load (1.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.6ms)
  [1m[36mUser Load (9.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (12.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (5.4ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:17.275+02:00\"}}"], ["updated_at", "2019-10-12 17:59:17.576997"], ["id", 3]]
  [1m[36m (5.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (305.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 341ms (Views: 4.8ms | ActiveRecord: 20.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 19:59:17 +0200
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:17.587+02:00\"}}"], ["updated_at", "2019-10-12 17:59:17.589412"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 353ms (Views: 7.1ms | ActiveRecord: 318.5ms)
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:18.217+02:00\"}}"], ["updated_at", "2019-10-12 17:59:18.218258"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 626ms (Views: 1.4ms | ActiveRecord: 5.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 19:59:21 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:22.218+02:00\"}}"], ["updated_at", "2019-10-12 17:59:22.219488"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 321ms (Views: 5.3ms | ActiveRecord: 5.1ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 19:59:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 19:59:23 +0200
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (2.4ms)
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (4.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:23.872+02:00\"}}"], ["updated_at", "2019-10-12 17:59:23.874869"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 45ms (Views: 3.9ms | ActiveRecord: 12.0ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 19:59:23 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.4ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (1.8ms)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:23.930+02:00\"}}"], ["updated_at", "2019-10-12 17:59:23.931987"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 5.0ms | ActiveRecord: 6.9ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"expiry\":1572112757,\"last_token\":\"$2a$12$L5arbA01sFvlVYTqMUdCyu4KtHVi16lvjyGvWj2NpYgtH4WN6Syhe\",\"updated_at\":\"2019-10-12T19:59:24.188+02:00\"}}"], ["updated_at", "2019-10-12 17:59:24.189301"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 336ms (Views: 3.3ms | ActiveRecord: 6.2ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:02:31 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.1ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.4ms)
  Rendered types/show.json.jbuilder (3.8ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:02:31 +0200
  [1m[36m (10.3ms)[0m  [1mBEGIN[0m
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (5.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mUser Load (9.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (1.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:31.231+02:00\"}}"], ["updated_at", "2019-10-12 18:02:31.547500"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (276.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 363ms (Views: 5.0ms | ActiveRecord: 20.8ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:02:31 +0200
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:31.556+02:00\"}}"], ["updated_at", "2019-10-12 18:02:31.557971"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 342ms (Views: 4.6ms | ActiveRecord: 290.2ms)
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:32.146+02:00\"}}"], ["updated_at", "2019-10-12 18:02:32.147805"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 584ms (Views: 3.1ms | ActiveRecord: 4.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:02:32 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (1.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (6.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:32.900+02:00\"}}"], ["updated_at", "2019-10-12 18:02:32.901542"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 328ms (Views: 8.1ms | ActiveRecord: 4.6ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:02:35 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (640.0ms)
Completed 200 OK in 643ms (Views: 642.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-1a4a1dd2ea3b495183c6a7cedd70663746f619d19884c30c64444b4550491d24.js?body=1" for 127.0.0.1 at 2019-10-12 20:02:36 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:02:36 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:02:36 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]

  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:36.922+02:00\"}}"], ["updated_at", "2019-10-12 18:02:36.924818"], ["id", 3]]

Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:02:36 +0200
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 26ms (Views: 0.3ms | ActiveRecord: 9.7ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:02:37 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:02:37 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:02:37 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:02:37 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:02:37 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:02:37 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (7.2ms)
  [1m[36m (3.9ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:37.560+02:00\"}}"], ["updated_at", "2019-10-12 18:02:37.561846"], ["id", 3]]
  [1m[35m (4.6ms)[0m  COMMIT
Completed 200 OK in 45ms (Views: 8.6ms | ActiveRecord: 13.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (2.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:37.607+02:00\"}}"], ["updated_at", "2019-10-12 18:02:37.610324"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 359ms (Views: 4.1ms | ActiveRecord: 3.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:02:37 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (3.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:37.759+02:00\"}}"], ["updated_at", "2019-10-12 18:02:37.762895"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 36ms (Views: 5.0ms | ActiveRecord: 6.6ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:02:40 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:02:40 +0200
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (2.4ms)
  [1m[36m (2.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:40.051+02:00\"}}"], ["updated_at", "2019-10-12 18:02:40.053248"], ["id", 3]]
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.8ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 5.4ms | ActiveRecord: 6.9ms)
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (8.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:40.084+02:00\"}}"], ["updated_at", "2019-10-12 18:02:40.086212"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 45ms (Views: 11.6ms | ActiveRecord: 6.3ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:02:40 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (1.0ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"expiry\":1572112951,\"last_token\":\"$2a$12$wNdZQ.LFZcC8onALDmxgpegiWcZVZ5Wa5N79xU32q2kg97Jf7MelK\",\"updated_at\":\"2019-10-12T20:02:40.129+02:00\"}}"], ["updated_at", "2019-10-12 18:02:40.132003"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 28ms (Views: 1.8ms | ActiveRecord: 5.5ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:02:41 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:02:41 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:02:41 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:02:41 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:02:42 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:02:42 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:02:42 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.5ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.5ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:02:42 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:03:51 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.1ms)
  Rendered types/show.json.jbuilder (3.4ms)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:51.195+02:00\"}}"], ["updated_at", "2019-10-12 18:03:51.496518"], ["id", 3]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 327ms (Views: 5.2ms | ActiveRecord: 5.3ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:03:51 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:52.090+02:00\"}}"], ["updated_at", "2019-10-12 18:03:52.093467"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 590ms (Views: 3.9ms | ActiveRecord: 4.9ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:03:52 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:52.713+02:00\"}}"], ["updated_at", "2019-10-12 18:03:52.714168"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 609ms (Views: 1.1ms | ActiveRecord: 4.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:03:52 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:53.023+02:00\"}}"], ["updated_at", "2019-10-12 18:03:53.027226"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 307ms (Views: 4.6ms | ActiveRecord: 3.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:03:53 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.1ms)
  Rendered types/show.json.jbuilder (3.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:53.233+02:00\"}}"], ["updated_at", "2019-10-12 18:03:53.236547"], ["id", 3]]
  [1m[35m (3.4ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 5.0ms | ActiveRecord: 7.0ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:03:53 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (2.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (1.7ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (5.0ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:53.291+02:00\"}}"], ["updated_at", "2019-10-12 18:03:53.296047"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 40ms (Views: 5.4ms | ActiveRecord: 6.9ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:03:53 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.0ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (3.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:53.341+02:00\"}}"], ["updated_at", "2019-10-12 18:03:53.342546"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 33ms (Views: 5.4ms | ActiveRecord: 6.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:03:54 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (6.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:54.870+02:00\"}}"], ["updated_at", "2019-10-12 18:03:54.873152"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 8.5ms | ActiveRecord: 4.3ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:03:57 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (2.5ms)
  Rendered types/show.json.jbuilder (3.9ms)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (5.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:57.547+02:00\"}}"], ["updated_at", "2019-10-12 18:03:57.550896"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 46ms (Views: 5.2ms | ActiveRecord: 11.8ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:03:57 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.6ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (3.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:57.603+02:00\"}}"], ["updated_at", "2019-10-12 18:03:57.605529"], ["id", 3]]
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 6.4ms | ActiveRecord: 6.1ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:03:57 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (2.4ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (1.1ms)
  Rendered things/index.json.jbuilder (2.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"expiry\":1572113031,\"last_token\":\"$2a$12$9fybIiZeXoUa0AMXcJwuv.XtjmmE/p8uzFkWV5UcZyMoKMIqSujom\",\"updated_at\":\"2019-10-12T20:03:57.656+02:00\"}}"], ["updated_at", "2019-10-12 18:03:57.657499"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 31ms (Views: 3.9ms | ActiveRecord: 5.2ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:04:57 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:04:57 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (2.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.5ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:04:57.616+02:00\"}}"], ["updated_at", "2019-10-12 18:04:57.936604"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36mUser Load (16.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 341ms (Views: 3.2ms | ActiveRecord: 3.4ms)
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:04:57.944+02:00\"}}"], ["updated_at", "2019-10-12 18:04:57.948185"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 363ms (Views: 2.3ms | ActiveRecord: 21.2ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:04:57 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:04:58.552+02:00\"}}"], ["updated_at", "2019-10-12 18:04:58.553764"], ["id", 3]]
  [1m[35m (1.5ms)[0m  COMMIT
Completed 200 OK in 593ms (Views: 2.4ms | ActiveRecord: 3.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:04:58 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/index.json.jbuilder (6.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:04:58.951+02:00\"}}"], ["updated_at", "2019-10-12 18:04:58.952092"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 323ms (Views: 8.0ms | ActiveRecord: 2.5ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:05:01 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (662.4ms)
Completed 200 OK in 664ms (Views: 663.7ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-b3ff75cc2b0bc5c2a75177509e559b6a72e1285f8605625e4481e84c9791366a.js?body=1" for 127.0.0.1 at 2019-10-12 20:05:02 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:05:02 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:05:02 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:02.582+02:00\"}}"], ["updated_at", "2019-10-12 18:05:02.585115"], ["id", 3]]
  [1m[36m (2.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 0.4ms | ActiveRecord: 4.7ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:05:02 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:05:02 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:05:02 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:05:02 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:02.869+02:00\"}}"], ["updated_at", "2019-10-12 18:05:02.871674"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 30ms (Views: 2.8ms | ActiveRecord: 5.0ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:05:02 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:05:02 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:05:03 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (5.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:05:03 +0200
  [1m[35m (4.3ms)[0m  BEGIN
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by TypesController#index as JSON
  [1m[36mUser Load (3.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:03.126+02:00\"}}"], ["updated_at", "2019-10-12 18:05:03.129597"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 45ms (Views: 6.9ms | ActiveRecord: 9.0ms)
  [1m[35mType Load (2.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:03.482+02:00\"}}"], ["updated_at", "2019-10-12 18:05:03.483845"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 370ms (Views: 6.0ms | ActiveRecord: 9.5ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:05:05 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:05:05 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[35mType Load (1.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.1ms)
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.8ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.8ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:05.076+02:00\"}}"], ["updated_at", "2019-10-12 18:05:05.078296"], ["id", 3]]
  [1m[35mUser Load (6.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (4.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 3.3ms | ActiveRecord: 9.7ms)
  [1m[36mSQL (2.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:05.090+02:00\"}}"], ["updated_at", "2019-10-12 18:05:05.092329"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 35ms (Views: 4.9ms | ActiveRecord: 12.6ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:05:05 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (2.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (2.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"expiry\":1572113097,\"last_token\":\"$2a$12$kCxbb2TQUZ2TvbayK8uTgOeV0QQf44xAEiY4u6WJlyATTF2CjKn7K\",\"updated_at\":\"2019-10-12T20:05:05.137+02:00\"}}"], ["updated_at", "2019-10-12 18:05:05.138925"], ["id", 3]]
  [1m[36m (1.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 1.9ms | ActiveRecord: 9.2ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:05:07 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:05:07 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:05:07 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:05:07 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:05:07 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:05:07 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:05:07 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:05:07 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:05:24 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:05:24 +0200
  [1m[35mType Load (12.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (3.6ms)
  [1m[35mUser Load (9.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (3.1ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"expiry\":1572113124,\"last_token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"updated_at\":\"2019-10-12T20:05:24.507+02:00\"}}"], ["updated_at", "2019-10-12 18:05:24.803833"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[35mUser Load (302.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 351ms (Views: 5.5ms | ActiveRecord: 16.0ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:05:24 +0200
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"expiry\":1572113124,\"last_token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"updated_at\":\"2019-10-12T20:05:24.809+02:00\"}}"], ["updated_at", "2019-10-12 18:05:24.810899"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35m (1.5ms)[0m  COMMIT
Completed 200 OK in 339ms (Views: 2.2ms | ActiveRecord: 318.6ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"expiry\":1572113124,\"last_token\":\"$2a$12$tsM5scnS2uw5IOIG5dXR4erkYhJGYp5pjPc39DvNm8gezzN1SFtLa\",\"updated_at\":\"2019-10-12T20:05:25.389+02:00\"}}"], ["updated_at", "2019-10-12 18:05:25.390471"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 577ms (Views: 3.1ms | ActiveRecord: 2.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:05:44 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"expiry\":1572113144,\"last_token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"updated_at\":\"2019-10-12T20:05:44.770+02:00\"}}"], ["updated_at", "2019-10-12 18:05:45.054240"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 590ms (Views: 4.0ms | ActiveRecord: 2.6ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:05:46 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:05:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"expiry\":1572113144,\"last_token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"updated_at\":\"2019-10-12T20:05:47.183+02:00\"}}"], ["updated_at", "2019-10-12 18:05:47.184277"], ["id", 3]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (2.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 325ms (Views: 2.6ms | ActiveRecord: 4.4ms)
  [1m[36mSQL (5.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"expiry\":1572113144,\"last_token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"updated_at\":\"2019-10-12T20:05:47.192+02:00\"}}"], ["updated_at", "2019-10-12 18:05:47.193929"], ["id", 3]]
  [1m[35m (5.6ms)[0m  COMMIT
Completed 200 OK in 352ms (Views: 2.2ms | ActiveRecord: 15.3ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:05:47 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (1.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"expiry\":1572113144,\"last_token\":\"$2a$12$l0qVYONk7BjMcujHDV8PT.6jObILWG2ahO7lgWOSJGDx56x7OIZXa\",\"updated_at\":\"2019-10-12T20:05:47.244+02:00\"}}"], ["updated_at", "2019-10-12 18:05:47.246397"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 4.1ms | ActiveRecord: 4.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:07:36 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:07:36 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (1.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.0ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/show.json.jbuilder (4.1ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.8ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (4.6ms)
  [1m[36m (5.0ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:36.639+02:00\"}}"], ["updated_at", "2019-10-12 18:07:36.942030"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[35mUser Load (299.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 333ms (Views: 5.6ms | ActiveRecord: 6.0ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:36.951+02:00\"}}"], ["updated_at", "2019-10-12 18:07:36.953054"], ["id", 3]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 334ms (Views: 5.5ms | ActiveRecord: 308.9ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:07:36 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (1.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:37.549+02:00\"}}"], ["updated_at", "2019-10-12 18:07:37.550429"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 585ms (Views: 2.7ms | ActiveRecord: 4.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:07:37 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:38.102+02:00\"}}"], ["updated_at", "2019-10-12 18:07:38.103484"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 324ms (Views: 6.6ms | ActiveRecord: 5.4ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:07:40 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (609.5ms)
Completed 200 OK in 611ms (Views: 611.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-391a2a7e7788d54b351e849d27ee2ecf6bf3fba345cc4bf6d0f79a3701a25357.js?body=1" for 127.0.0.1 at 2019-10-12 20:07:41 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:07:41 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:07:41 +0200
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:41.493+02:00\"}}"], ["updated_at", "2019-10-12 18:07:41.506211"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 34ms (Views: 0.5ms | ActiveRecord: 3.4ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:07:41 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:07:41 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:07:41 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:07:41 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.0ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:41.671+02:00\"}}"], ["updated_at", "2019-10-12 18:07:41.673494"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 35ms (Views: 5.1ms | ActiveRecord: 5.0ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:07:41 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (4.8ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:41.760+02:00\"}}"], ["updated_at", "2019-10-12 18:07:41.763963"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 33ms (Views: 2.4ms | ActiveRecord: 7.6ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:07:41 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:07:41 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:07:41 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.0ms)
  [1m[36m (2.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:42.007+02:00\"}}"], ["updated_at", "2019-10-12 18:07:42.009082"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 5.4ms | ActiveRecord: 9.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:07:42 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (4.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (6.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:42.053+02:00\"}}"], ["updated_at", "2019-10-12 18:07:42.055306"], ["id", 3]]
  [1m[35m (4.2ms)[0m  COMMIT
Completed 200 OK in 42ms (Views: 8.4ms | ActiveRecord: 11.9ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:07:45 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:07:45 +0200
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.0ms)
  [1m[35m (1.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:45.790+02:00\"}}"], ["updated_at", "2019-10-12 18:07:45.793755"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 3.8ms | ActiveRecord: 9.7ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:07:45 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.0ms)
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:45.827+02:00\"}}"], ["updated_at", "2019-10-12 18:07:45.829017"], ["id", 3]]
  [1m[35m (4.1ms)[0m  COMMIT
Completed 200 OK in 26ms (Views: 4.0ms | ActiveRecord: 7.4ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"expiry\":1572113256,\"last_token\":\"$2a$12$ggaaAeAs4UrEiA3lnkp06OOGo9b14oyD2xDcg6gcVzXhtKpOC7G2G\",\"updated_at\":\"2019-10-12T20:07:46.106+02:00\"}}"], ["updated_at", "2019-10-12 18:07:46.107484"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 317ms (Views: 1.2ms | ActiveRecord: 2.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:07:47 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:07:47 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:07:47 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:07:47 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:07:47 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:07:47 +0200




Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:07:47 +0200
Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:07:47 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36m (2.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 2.0ms)
Completed 304 Not Modified in 2ms (ActiveRecord: 1.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:08:37 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:08:37 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (2.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[36mThingType Load (2.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (6.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  Rendered thing_types/index.json.jbuilder (12.3ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:37.681+02:00\"}}"], ["updated_at", "2019-10-12 18:08:37.983518"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 343ms (Views: 9.1ms | ActiveRecord: 11.1ms)
  [1m[36mUser Load (308.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:08:37 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:37.990+02:00\"}}"], ["updated_at", "2019-10-12 18:08:37.992636"], ["id", 3]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 354ms (Views: 12.2ms | ActiveRecord: 317.6ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:38.577+02:00\"}}"], ["updated_at", "2019-10-12 18:08:38.578150"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 583ms (Views: 1.0ms | ActiveRecord: 3.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:08:38 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:39.240+02:00\"}}"], ["updated_at", "2019-10-12 18:08:39.241175"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 314ms (Views: 3.5ms | ActiveRecord: 4.3ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:08:40 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (634.6ms)
Completed 200 OK in 636ms (Views: 635.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-2054120d84733612f9c66597ace65c647fa345d460d235b22d57928b0b44fada.js?body=1" for 127.0.0.1 at 2019-10-12 20:08:41 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:08:41 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:08:41 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:41.755+02:00\"}}"], ["updated_at", "2019-10-12 18:08:41.757675"], ["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:08:41 +0200
  [1m[35m (7.5ms)[0m  COMMIT
Completed 200 OK in 27ms (Views: 0.3ms | ActiveRecord: 10.0ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:08:41 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:08:41 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:08:42 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:08:42 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:08:42 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:08:42 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.7ms)
  [1m[36m (5.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:42.363+02:00\"}}"], ["updated_at", "2019-10-12 18:08:42.365176"], ["id", 3]]
  [1m[35m (4.3ms)[0m  COMMIT
Completed 200 OK in 51ms (Views: 8.8ms | ActiveRecord: 16.9ms)
  [1m[36m (4.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:42.433+02:00\"}}"], ["updated_at", "2019-10-12 18:08:42.435145"], ["id", 3]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 372ms (Views: 1.9ms | ActiveRecord: 9.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:08:42 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (3.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.4ms)
  [1m[35m (3.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:42.599+02:00\"}}"], ["updated_at", "2019-10-12 18:08:42.601699"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 47ms (Views: 6.9ms | ActiveRecord: 10.5ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:08:44 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:08:44 +0200
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (4.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.2ms)
  [1m[36mThingType Load (1.8ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[36m (2.1ms)[0m  [1mBEGIN[0m
  Rendered thing_types/index.json.jbuilder (6.2ms)
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:44.745+02:00\"}}"], ["updated_at", "2019-10-12 18:08:44.748525"], ["id", 3]]
  [1m[36mUser Load (16.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (3.6ms)[0m  COMMIT
Completed 200 OK in 54ms (Views: 4.0ms | ActiveRecord: 11.2ms)
  [1m[35mSQL (3.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:44.764+02:00\"}}"], ["updated_at", "2019-10-12 18:08:44.765862"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 51ms (Views: 6.1ms | ActiveRecord: 27.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:08:44 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (1.0ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"expiry\":1572113317,\"last_token\":\"$2a$12$GX7aAH4csDQ5q55GHgIHUOfOtPftZPLUzVGdNTt6KkwT0k2EudWVq\",\"updated_at\":\"2019-10-12T20:08:44.812+02:00\"}}"], ["updated_at", "2019-10-12 18:08:44.814602"], ["id", 3]]
  [1m[35m (1.8ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 1.6ms | ActiveRecord: 4.7ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:08:45 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:08:46 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:08:46 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:08:46 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:08:46 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:08:46 +0200


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:09:46 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:09:46 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[36mThingType Load (2.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (6.0ms)
  Rendered thing_types/index.json.jbuilder (8.0ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:46.897+02:00\"}}"], ["updated_at", "2019-10-12 18:09:47.196112"], ["id", 3]]
  [1m[36m (4.5ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (306.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 334ms (Views: 7.4ms | ActiveRecord: 10.8ms)
  [1m[35mSQL (6.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:47.205+02:00\"}}"], ["updated_at", "2019-10-12 18:09:47.209798"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 354ms (Views: 7.2ms | ActiveRecord: 317.9ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:09:47 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:47.809+02:00\"}}"], ["updated_at", "2019-10-12 18:09:47.809945"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 583ms (Views: 1.5ms | ActiveRecord: 4.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:09:48 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (3.7ms)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:48.651+02:00\"}}"], ["updated_at", "2019-10-12 18:09:48.652736"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 323ms (Views: 5.2ms | ActiveRecord: 5.3ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:09:50 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (2.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:09:50 +0200
  Rendered types/_type.json.jbuilder (1.6ms)
  Rendered types/show.json.jbuilder (2.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:50.910+02:00\"}}"], ["updated_at", "2019-10-12 18:09:50.912909"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 6.2ms | ActiveRecord: 5.5ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:09:50 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.9ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (4.4ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:50.962+02:00\"}}"], ["updated_at", "2019-10-12 18:09:50.964690"], ["id", 3]]
  [1m[35m (4.1ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 5.8ms | ActiveRecord: 6.9ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"expiry\":1572113386,\"last_token\":\"$2a$12$3Swx8/OfkJ5mcqwqfg1OAumNEqYVwDnFtuTWXf5GGT7MlJ73m8dgy\",\"updated_at\":\"2019-10-12T20:09:51.224+02:00\"}}"], ["updated_at", "2019-10-12 18:09:51.225853"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 317ms (Views: 2.3ms | ActiveRecord: 2.7ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:10:54 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:10:54 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.8ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.2ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mThingType Load (4.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (8.3ms)
  [1m[35m (1.7ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:54.887+02:00\"}}"], ["updated_at", "2019-10-12 18:10:55.188037"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (302.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 328ms (Views: 3.8ms | ActiveRecord: 4.8ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:10:55 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:55.195+02:00\"}}"], ["updated_at", "2019-10-12 18:10:55.197348"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Completed 200 OK in 340ms (Views: 5.3ms | ActiveRecord: 312.6ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:55.782+02:00\"}}"], ["updated_at", "2019-10-12 18:10:55.783564"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 584ms (Views: 2.4ms | ActiveRecord: 6.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:10:57 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[36m (3.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:57.785+02:00\"}}"], ["updated_at", "2019-10-12 18:10:57.786820"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 325ms (Views: 4.3ms | ActiveRecord: 7.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 20:10:59 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 20:10:59 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:59.316+02:00\"}}"], ["updated_at", "2019-10-12 18:10:59.319764"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 39ms (Views: 5.0ms | ActiveRecord: 6.3ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 20:10:59 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (1.9ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:59.368+02:00\"}}"], ["updated_at", "2019-10-12 18:10:59.370651"], ["id", 3]]
  [1m[35m (2.9ms)[0m  COMMIT
Completed 200 OK in 35ms (Views: 4.7ms | ActiveRecord: 7.4ms)
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"expiry\":1572113454,\"last_token\":\"$2a$12$pLhzGIyhUCSLpA93cc5MOusRv/D/0vDIX3PK1WDWaXJxcMDVMmR2y\",\"updated_at\":\"2019-10-12T20:10:59.627+02:00\"}}"], ["updated_at", "2019-10-12 18:10:59.627971"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 336ms (Views: 3.2ms | ActiveRecord: 4.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 20:14:07 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 20:14:07 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[36mType Load (3.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (4.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (7.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (9.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  [1m[36mThingType Load (6.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (3.8ms)
  Rendered thing_types/index.json.jbuilder (10.3ms)
  [1m[35m (3.5ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:07.362+02:00\"}}"], ["updated_at", "2019-10-12 18:14:07.667886"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (311.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 354ms (Views: 12.7ms | ActiveRecord: 20.5ms)
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:07.675+02:00\"}}"], ["updated_at", "2019-10-12 18:14:07.677366"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 369ms (Views: 15.3ms | ActiveRecord: 330.8ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 20:14:07 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:08.275+02:00\"}}"], ["updated_at", "2019-10-12 18:14:08.276403"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
Completed 200 OK in 599ms (Views: 2.2ms | ActiveRecord: 4.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:14:08 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (4.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:08.690+02:00\"}}"], ["updated_at", "2019-10-12 18:14:08.691784"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 324ms (Views: 3.7ms | ActiveRecord: 8.4ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:14:11 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (658.2ms)
Completed 200 OK in 661ms (Views: 660.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-3189e313bc15fbd1a7d8a88963dbef2cb8019a4ce9e3ed496820d8f554d98baf.js?body=1" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:14:12 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:12.643+02:00\"}}"], ["updated_at", "2019-10-12 18:14:12.645274"], ["id", 3]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 19ms (Views: 0.3ms | ActiveRecord: 3.2ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:14:12 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:12.838+02:00\"}}"], ["updated_at", "2019-10-12 18:14:12.842507"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 39ms (Views: 3.1ms | ActiveRecord: 5.4ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:14:12 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:14:13 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:14:13 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (4.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (12.0ms)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:13.139+02:00\"}}"], ["updated_at", "2019-10-12 18:14:13.141126"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 47ms (Views: 14.3ms | ActiveRecord: 9.3ms)
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.1ms)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:13.433+02:00\"}}"], ["updated_at", "2019-10-12 18:14:13.436008"], ["id", 3]]
  [1m[36m (3.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 367ms (Views: 5.5ms | ActiveRecord: 5.6ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:14:16 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:14:16 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (5.5ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (9.3ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:16.469+02:00\"}}"], ["updated_at", "2019-10-12 18:14:16.471519"], ["id", 3]]
  [1m[35mUser Load (4.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (3.8ms)[0m  COMMIT
Completed 200 OK in 33ms (Views: 7.0ms | ActiveRecord: 7.4ms)
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:16.481+02:00\"}}"], ["updated_at", "2019-10-12 18:14:16.483638"], ["id", 3]]
  [1m[35m (1.9ms)[0m  COMMIT
Completed 200 OK in 42ms (Views: 10.7ms | ActiveRecord: 10.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:14:16 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (2.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"expiry\":1572113647,\"last_token\":\"$2a$12$7VMqxETB2MqHWwsVGF1rfONxbZb2Wf1fw90tKAfgehFyOD2aoLqIW\",\"updated_at\":\"2019-10-12T20:14:16.525+02:00\"}}"], ["updated_at", "2019-10-12 18:14:16.526770"], ["id", 3]]
  [1m[36m (1.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 1.9ms | ActiveRecord: 8.2ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:14:18 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:14:18 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:14:18 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:14:18 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:14:18 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:14:18 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:14:18 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 5ms (ActiveRecord: 1.0ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:14:18 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (0.8ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 2ms (ActiveRecord: 0.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:15:55 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:15:55 +0200
Processing by ThingTypesController#type_things as JSON
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mType Load (1.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (12.2ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (12.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:55.088+02:00\"}}"], ["updated_at", "2019-10-12 18:15:55.388595"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (300.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 339ms (Views: 3.2ms | ActiveRecord: 15.9ms)
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:55.393+02:00\"}}"], ["updated_at", "2019-10-12 18:15:55.395034"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 349ms (Views: 14.7ms | ActiveRecord: 307.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:15:55 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:55.992+02:00\"}}"], ["updated_at", "2019-10-12 18:15:55.993524"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 584ms (Views: 1.3ms | ActiveRecord: 2.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:15:56 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (3.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:56.542+02:00\"}}"], ["updated_at", "2019-10-12 18:15:56.543945"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 318ms (Views: 3.8ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:15:57 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (672.2ms)
Completed 200 OK in 674ms (Views: 673.5ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-d05de2c13314b911b61d98ff5920ec9e9cdd3b87d0c8f67c318099008dfcda5a.js?body=1" for 127.0.0.1 at 2019-10-12 20:15:58 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:15:59 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m


  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:15:59 +0200
  [1m[36mSQL (1.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:59.105+02:00\"}}"], ["updated_at", "2019-10-12 18:15:59.107272"], ["id", 3]]
  [1m[35m (4.1ms)[0m  COMMIT
Completed 200 OK in 28ms (Views: 0.7ms | ActiveRecord: 7.2ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:15:59 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:15:59 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:15:59 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:15:59 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.6ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (1.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:59.370+02:00\"}}"], ["updated_at", "2019-10-12 18:15:59.372328"], ["id", 3]]
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 34ms (Views: 4.0ms | ActiveRecord: 4.5ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:15:59 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:59.447+02:00\"}}"], ["updated_at", "2019-10-12 18:15:59.449217"], ["id", 3]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 27ms (Views: 2.7ms | ActiveRecord: 3.0ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:15:59 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:15:59 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:15:59 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (5.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:59.698+02:00\"}}"], ["updated_at", "2019-10-12 18:15:59.699947"], ["id", 3]]
  [1m[35m (3.6ms)[0m  COMMIT
Completed 200 OK in 40ms (Views: 8.2ms | ActiveRecord: 6.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:15:59 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (6.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (6.7ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:15:59.757+02:00\"}}"], ["updated_at", "2019-10-12 18:15:59.761338"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 49ms (Views: 10.3ms | ActiveRecord: 9.7ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:16:02 +0200


Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:16:02 +0200
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:16:02.769+02:00\"}}"], ["updated_at", "2019-10-12 18:16:02.770602"], ["id", 3]]
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 34ms (Views: 4.2ms | ActiveRecord: 8.1ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:16:02 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (5.3ms)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:16:02.818+02:00\"}}"], ["updated_at", "2019-10-12 18:16:02.819910"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 31ms (Views: 6.3ms | ActiveRecord: 6.3ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"expiry\":1572113755,\"last_token\":\"$2a$12$UZy7QnTEB0x7tkHdxZfNXe2pBHczT7tDf/Fw5J7khXeacZikEw5mW\",\"updated_at\":\"2019-10-12T20:16:03.074+02:00\"}}"], ["updated_at", "2019-10-12 18:16:03.075238"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 318ms (Views: 1.0ms | ActiveRecord: 3.9ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:16:05 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:16:05 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:16:05 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:16:05 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:16:05 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:16:05 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:16:05 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (0.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:16:05 +0200
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:16:51 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:16:51 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (2.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.0ms)
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  Rendered thing_types/index.json.jbuilder (3.1ms)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:51.388+02:00\"}}"], ["updated_at", "2019-10-12 18:16:51.687729"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (306.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 330ms (Views: 3.4ms | ActiveRecord: 9.6ms)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:51.694+02:00\"}}"], ["updated_at", "2019-10-12 18:16:51.696908"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 335ms (Views: 3.9ms | ActiveRecord: 312.0ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:16:51 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:52.286+02:00\"}}"], ["updated_at", "2019-10-12 18:16:52.287417"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 576ms (Views: 1.1ms | ActiveRecord: 4.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:16:52 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (15.9ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:52.870+02:00\"}}"], ["updated_at", "2019-10-12 18:16:52.872032"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 333ms (Views: 19.2ms | ActiveRecord: 4.1ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:16:54 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:16:54 +0200
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.5ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:54.772+02:00\"}}"], ["updated_at", "2019-10-12 18:16:54.775506"], ["id", 3]]
  [1m[35m (4.7ms)[0m  COMMIT
Completed 200 OK in 36ms (Views: 4.7ms | ActiveRecord: 7.8ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:16:54 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (1.8ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (8.0ms)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (3.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:54.823+02:00\"}}"], ["updated_at", "2019-10-12 18:16:54.825368"], ["id", 3]]
  [1m[36m (4.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 46ms (Views: 9.2ms | ActiveRecord: 12.7ms)
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"expiry\":1572113811,\"last_token\":\"$2a$12$Q9kMbMUTE9DABW0eCVKBfukYXLFgrXhg0zroJLElSEP0k/PQlxB2.\",\"updated_at\":\"2019-10-12T20:16:55.098+02:00\"}}"], ["updated_at", "2019-10-12 18:16:55.099840"], ["id", 3]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 332ms (Views: 2.6ms | ActiveRecord: 4.5ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 20:38:59 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 20:38:59 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (3.7ms)
  Rendered types/show.json.jbuilder (7.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (1.9ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (5.8ms)
  [1m[36m (2.9ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:38:59.633+02:00\"}}"], ["updated_at", "2019-10-12 18:38:59.933466"], ["id", 3]]
  [1m[35m (3.4ms)[0m  COMMIT
Completed 200 OK in 332ms (Views: 9.9ms | ActiveRecord: 7.8ms)
  [1m[35mUser Load (297.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:38:59.943+02:00\"}}"], ["updated_at", "2019-10-12 18:38:59.944965"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 336ms (Views: 9.6ms | ActiveRecord: 304.9ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 20:38:59 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:00.541+02:00\"}}"], ["updated_at", "2019-10-12 18:39:00.542568"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 587ms (Views: 2.1ms | ActiveRecord: 4.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:39:00 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.6ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (6.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:01.198+02:00\"}}"], ["updated_at", "2019-10-12 18:39:01.199096"], ["id", 3]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 321ms (Views: 7.6ms | ActiveRecord: 5.7ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:39:03 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (689.5ms)
Completed 200 OK in 691ms (Views: 690.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-2f8e4c4d50b563e86b0f16feb729875781ff57404109e18f9e83125575b16771.js?body=1" for 127.0.0.1 at 2019-10-12 20:39:03 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:39:04 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:39:04 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:04.183+02:00\"}}"], ["updated_at", "2019-10-12 18:39:04.185090"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 19ms (Views: 0.4ms | ActiveRecord: 4.2ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:39:04 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:39:04 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:39:04 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:39:04 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:39:04 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:39:04 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:39:04 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.6ms)
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered types/_type.json.jbuilder (1.1ms)
  Rendered authn/whoami.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (13.3ms)
  [1m[36m (1.4ms)[0m  [1mBEGIN[0m
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:04.721+02:00\"}}"], ["updated_at", "2019-10-12 18:39:04.723454"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[35mUser Load (14.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 369ms (Views: 3.2ms | ActiveRecord: 7.9ms)
  [1m[36mSQL (3.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:04.737+02:00\"}}"], ["updated_at", "2019-10-12 18:39:04.738912"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 64ms (Views: 15.1ms | ActiveRecord: 24.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:39:04 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (1.4ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.8ms)
  [1m[36m (4.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:04.931+02:00\"}}"], ["updated_at", "2019-10-12 18:39:04.933636"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 8.3ms | ActiveRecord: 11.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:39:07 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:39:07 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.7ms)
  Rendered types/show.json.jbuilder (3.7ms)
  [1m[36mThingType Load (3.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (7.2ms)
  [1m[35m (1.4ms)[0m  BEGIN
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:07.463+02:00\"}}"], ["updated_at", "2019-10-12 18:39:07.465932"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (13.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 37ms (Views: 5.3ms | ActiveRecord: 5.4ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:39:07 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:07.482+02:00\"}}"], ["updated_at", "2019-10-12 18:39:07.484706"], ["id", 3]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 44ms (Views: 5.3ms | ActiveRecord: 22.6ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (1.4ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.3ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"expiry\":1572115139,\"last_token\":\"$2a$12$3Zh/e4XwfjkdSqp.L/QVR.eFnCBjU.zWrAF3WVgyQPLS1saYIjtwW\",\"updated_at\":\"2019-10-12T20:39:07.523+02:00\"}}"], ["updated_at", "2019-10-12 18:39:07.525764"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 38ms (Views: 1.9ms | ActiveRecord: 7.6ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:39:08 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:39:08 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (0.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
Completed 304 Not Modified in 2ms (ActiveRecord: 0.9ms)
  [1m[35m (4.8ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 6ms (ActiveRecord: 4.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:40:11 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:40:11 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.0ms)
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/show.json.jbuilder (3.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (3.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (7.0ms)
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:11.614+02:00\"}}"], ["updated_at", "2019-10-12 18:40:11.917535"], ["id", 3]]
  [1m[35m (3.2ms)[0m  COMMIT
  [1m[36mUser Load (300.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 329ms (Views: 5.2ms | ActiveRecord: 6.2ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:40:11 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:11.926+02:00\"}}"], ["updated_at", "2019-10-12 18:40:11.928881"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 332ms (Views: 5.4ms | ActiveRecord: 310.4ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:12.511+02:00\"}}"], ["updated_at", "2019-10-12 18:40:12.512169"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 584ms (Views: 1.5ms | ActiveRecord: 4.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:40:12 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:13.085+02:00\"}}"], ["updated_at", "2019-10-12 18:40:13.086336"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 320ms (Views: 4.1ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 20:40:16 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (677.4ms)
Completed 200 OK in 679ms (Views: 678.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-591bc3e72381c6971377dc960c6d296497ebc83e49b443391bdbd7c7af320bb7.js?body=1" for 127.0.0.1 at 2019-10-12 20:40:17 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 20:40:17 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 20:40:17 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 20:40:17 +0200
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:17.782+02:00\"}}"], ["updated_at", "2019-10-12 18:40:17.784693"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 27ms (Views: 0.4ms | ActiveRecord: 5.9ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 20:40:17 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 20:40:17 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 20:40:18 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 20:40:18 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 20:40:18 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:40:18 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (3.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (10.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.6ms)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:18.480+02:00\"}}"], ["updated_at", "2019-10-12 18:40:18.481794"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 58ms (Views: 6.5ms | ActiveRecord: 18.6ms)
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (2.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:18.517+02:00\"}}"], ["updated_at", "2019-10-12 18:40:18.519724"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 382ms (Views: 5.3ms | ActiveRecord: 5.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 20:40:18 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (2.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.3ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:18.657+02:00\"}}"], ["updated_at", "2019-10-12 18:40:18.659904"], ["id", 3]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 49ms (Views: 13.2ms | ActiveRecord: 9.4ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 20:40:20 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 20:40:20 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (4.4ms)
  [1m[36mThingType Load (3.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[36m (2.5ms)[0m  [1mBEGIN[0m
  Rendered thing_types/index.json.jbuilder (9.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:20.080+02:00\"}}"], ["updated_at", "2019-10-12 18:40:20.086201"], ["id", 3]]
  [1m[36mUser Load (14.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 44ms (Views: 6.3ms | ActiveRecord: 8.7ms)
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:20.101+02:00\"}}"], ["updated_at", "2019-10-12 18:40:20.104748"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 56ms (Views: 8.2ms | ActiveRecord: 22.7ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 20:40:20 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (4.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"expiry\":1572115211,\"last_token\":\"$2a$12$XAKSRbB8JuLF5dyG/ye6IeMfpi1EcoTt5xdGjfEqi.1zdQeDoDlzC\",\"updated_at\":\"2019-10-12T20:40:20.172+02:00\"}}"], ["updated_at", "2019-10-12 18:40:20.176291"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 50ms (Views: 3.2ms | ActiveRecord: 10.5ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 20:40:21 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 20:40:21 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 20:40:21 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 20:40:21 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 20:40:21 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 20:40:21 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 20:40:21 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 1.1ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 20:40:21 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.3ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:10:42 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:10:42 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mType Load (2.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (4.3ms)
  [1m[36mThingType Load (3.0ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[35m (0.7ms)[0m  BEGIN
  Rendered thing_types/index.json.jbuilder (6.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (4.4ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"expiry\":1572117042,\"last_token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"updated_at\":\"2019-10-12T21:10:42.611+02:00\"}}"], ["updated_at", "2019-10-12 19:10:42.912835"], ["id", 3]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (302.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 331ms (Views: 7.5ms | ActiveRecord: 7.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:10:42 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"expiry\":1572117042,\"last_token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"updated_at\":\"2019-10-12T21:10:42.921+02:00\"}}"], ["updated_at", "2019-10-12 19:10:42.923411"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 340ms (Views: 5.5ms | ActiveRecord: 314.5ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"expiry\":1572117042,\"last_token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"updated_at\":\"2019-10-12T21:10:43.503+02:00\"}}"], ["updated_at", "2019-10-12 19:10:43.504579"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 582ms (Views: 1.2ms | ActiveRecord: 4.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:10:43 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"expiry\":1572117042,\"last_token\":\"$2a$12$ByS2SUhW2AR852E0TV1Wb.lYpeGvDz7Ygd0KUvYy0DzzzsmfdO3vK\",\"updated_at\":\"2019-10-12T21:10:44.181+02:00\"}}"], ["updated_at", "2019-10-12 19:10:44.182471"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 322ms (Views: 4.0ms | ActiveRecord: 6.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:10:55 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:10:55 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[35mType Load (0.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[35m (3.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DX7D3/sPD9ky3N/Csvty/uj6WmabYbhuzSurwmG65QAMZRk/UmK..\",\"expiry\":1572117055,\"last_token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"updated_at\":\"2019-10-12T21:10:55.967+02:00\"}}"], ["updated_at", "2019-10-12 19:10:56.277483"], ["id", 3]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (9.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 339ms (Views: 2.9ms | ActiveRecord: 10.9ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:10:56 +0200
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DX7D3/sPD9ky3N/Csvty/uj6WmabYbhuzSurwmG65QAMZRk/UmK..\",\"expiry\":1572117055,\"last_token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"updated_at\":\"2019-10-12T21:10:56.287+02:00\"}}"], ["updated_at", "2019-10-12 19:10:56.288738"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (3.2ms)[0m  COMMIT
Completed 200 OK in 341ms (Views: 3.0ms | ActiveRecord: 15.1ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DX7D3/sPD9ky3N/Csvty/uj6WmabYbhuzSurwmG65QAMZRk/UmK..\",\"expiry\":1572117055,\"last_token\":\"$2a$12$TgftAQyLJ7psyH7MAs.UD.d3uAsekEFOWisq/.k60m4CmDGNIBLk2\",\"updated_at\":\"2019-10-12T21:10:56.872+02:00\"}}"], ["updated_at", "2019-10-12 19:10:56.872855"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 582ms (Views: 1.0ms | ActiveRecord: 4.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:11:02 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$xKaHFiD8J1B6JtCTwacgZOSWyPKNpHIuKGYIJbwgaRVLc5mlXmYyW\",\"expiry\":1572117062,\"last_token\":\"$2a$12$DX7D3/sPD9ky3N/Csvty/uj6WmabYbhuzSurwmG65QAMZRk/UmK..\",\"updated_at\":\"2019-10-12T21:11:02.444+02:00\"}}"], ["updated_at", "2019-10-12 19:11:02.729580"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 595ms (Views: 4.5ms | ActiveRecord: 4.1ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:11:08 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (682.4ms)
Completed 200 OK in 684ms (Views: 683.8ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-214bfc59f4a791f017e741c676de50cceb3ddea9288a25df2254a104abd3ff73.js?body=1" for 127.0.0.1 at 2019-10-12 21:11:08 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:11:09 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:11:09 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (4.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:11:09 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:11:09 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:11:09 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:11:09 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:11:09 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35m (0.7ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"expiry\":1572117069,\"last_token\":\"$2a$12$xKaHFiD8J1B6JtCTwacgZOSWyPKNpHIuKGYIJbwgaRVLc5mlXmYyW\",\"updated_at\":\"2019-10-12T21:11:09.597+02:00\"}}"], ["updated_at", "2019-10-12 19:11:09.941826"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (132.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 717ms (Views: 0.4ms | ActiveRecord: 9.4ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:11:09 +0200
  [1m[36mSQL (4.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"expiry\":1572117069,\"last_token\":\"$2a$12$xKaHFiD8J1B6JtCTwacgZOSWyPKNpHIuKGYIJbwgaRVLc5mlXmYyW\",\"updated_at\":\"2019-10-12T21:11:09.950+02:00\"}}"], ["updated_at", "2019-10-12 19:11:09.952688"], ["id", 3]]
  [1m[35m (1.5ms)[0m  COMMIT
Completed 200 OK in 509ms (Views: 2.6ms | ActiveRecord: 140.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:11:09 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:11:10 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (5.4ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"expiry\":1572117069,\"last_token\":\"$2a$12$xKaHFiD8J1B6JtCTwacgZOSWyPKNpHIuKGYIJbwgaRVLc5mlXmYyW\",\"updated_at\":\"2019-10-12T21:11:10.588+02:00\"}}"], ["updated_at", "2019-10-12 19:11:10.590752"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 413ms (Views: 8.2ms | ActiveRecord: 8.6ms)
  [1m[35mType Load (1.1ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.2ms)
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"expiry\":1572117069,\"last_token\":\"$2a$12$xKaHFiD8J1B6JtCTwacgZOSWyPKNpHIuKGYIJbwgaRVLc5mlXmYyW\",\"updated_at\":\"2019-10-12T21:11:10.709+02:00\"}}"], ["updated_at", "2019-10-12 19:11:10.710933"], ["id", 3]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 743ms (Views: 5.5ms | ActiveRecord: 8.4ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:11:10 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.3ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"expiry\":1572117069,\"last_token\":\"$2a$12$xKaHFiD8J1B6JtCTwacgZOSWyPKNpHIuKGYIJbwgaRVLc5mlXmYyW\",\"updated_at\":\"2019-10-12T21:11:11.059+02:00\"}}"], ["updated_at", "2019-10-12 19:11:11.060479"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 334ms (Views: 1.7ms | ActiveRecord: 4.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:11:29 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:11:29 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (2.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (3.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (4.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (1.9ms)
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36m (2.8ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"expiry\":1572117090,\"last_token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"updated_at\":\"2019-10-12T21:11:30.011+02:00\"}}"], ["updated_at", "2019-10-12 19:11:30.295089"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (286.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 316ms (Views: 3.1ms | ActiveRecord: 8.6ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:11:30 +0200
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"expiry\":1572117090,\"last_token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"updated_at\":\"2019-10-12T21:11:30.301+02:00\"}}"], ["updated_at", "2019-10-12 19:11:30.303309"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[35m (1.2ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Completed 200 OK in 317ms (Views: 1.4ms | ActiveRecord: 298.5ms)
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"expiry\":1572117090,\"last_token\":\"$2a$12$rIXFM9D98ryZNJ./UZ1/me4ojfQfIv/qNk88Xr3UVZE18oNtqz55S\",\"updated_at\":\"2019-10-12T21:11:30.889+02:00\"}}"], ["updated_at", "2019-10-12 19:11:30.890379"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 588ms (Views: 3.5ms | ActiveRecord: 4.5ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 21:11:32 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:11:32 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (2.4ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 2.4ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 1.2ms)


Started GET "/api/geocoder/positions?lat=40.4640717&lng=-3.692763" for 127.0.0.1 at 2019-10-12 21:11:32 +0200
Processing by GeocoderController#positions as JSON
  Parameters: {"lat"=>"40.4640717", "lng"=>"-3.692763"}
Completed 304 Not Modified in 34ms (ActiveRecord: 0.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:20:45 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:20:45 +0200
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (1.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (4.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:46.048+02:00\"}}"], ["updated_at", "2019-10-12 19:20:46.331367"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[35mUser Load (268.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 629ms (Views: 2.5ms | ActiveRecord: 2.7ms)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:46.336+02:00\"}}"], ["updated_at", "2019-10-12 19:20:46.338848"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 626ms (Views: 4.7ms | ActiveRecord: 272.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:20:46 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:46.965+02:00\"}}"], ["updated_at", "2019-10-12 19:20:46.966117"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 616ms (Views: 1.3ms | ActiveRecord: 4.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:20:46 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:47.286+02:00\"}}"], ["updated_at", "2019-10-12 19:20:47.287788"], ["id", 3]]
  [1m[36m (3.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 312ms (Views: 4.0ms | ActiveRecord: 5.3ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:20:49 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (780.6ms)
Completed 200 OK in 784ms (Views: 783.0ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-fca7effebccfa38f54c8ca2125ea77c2dc8b15a15a27c7d2513929657dbdb4ca.js?body=1" for 127.0.0.1 at 2019-10-12 21:20:50 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:20:50 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:50.699+02:00\"}}"], ["updated_at", "2019-10-12 19:20:50.701508"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 22ms (Views: 0.5ms | ActiveRecord: 4.9ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:20:50 +0200


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:20:50 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:20:51 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:20:51 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:20:51 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:20:51 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:20:51 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:51.535+02:00\"}}"], ["updated_at", "2019-10-12 19:20:51.537041"], ["id", 3]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:20:51 +0200
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 368ms (Views: 2.1ms | ActiveRecord: 5.8ms)
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/index.json.jbuilder (11.0ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (3.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:51.578+02:00\"}}"], ["updated_at", "2019-10-12 19:20:51.580682"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 45ms (Views: 13.2ms | ActiveRecord: 9.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:20:51 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (7.8ms)
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (3.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"expiry\":1572117646,\"last_token\":\"$2a$12$z/uOhd6wTgNJ.wpk9FvswO/06te4R0NqP8dtuLOLJcX5GjgDR9qbO\",\"updated_at\":\"2019-10-12T21:20:51.635+02:00\"}}"], ["updated_at", "2019-10-12 19:20:51.637310"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 9.6ms | ActiveRecord: 7.6ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:20:59 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (264.4ms)
Completed 200 OK in 268ms (Views: 266.7ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:21:00 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:21:00 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:21:00 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:21:00 +0200
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"expiry\":1572117660,\"last_token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"updated_at\":\"2019-10-12T21:21:00.330+02:00\"}}"], ["updated_at", "2019-10-12 19:21:00.680012"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 365ms (Views: 0.4ms | ActiveRecord: 3.9ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:21:00 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:21:00 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:21:00 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:21:00 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"expiry\":1572117660,\"last_token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"updated_at\":\"2019-10-12T21:21:01.147+02:00\"}}"], ["updated_at", "2019-10-12 19:21:01.148694"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 337ms (Views: 2.5ms | ActiveRecord: 3.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:21:01 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.9ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"expiry\":1572117660,\"last_token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"updated_at\":\"2019-10-12T21:21:01.181+02:00\"}}"], ["updated_at", "2019-10-12 19:21:01.183645"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 37ms (Views: 6.2ms | ActiveRecord: 3.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:21:01 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (5.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"expiry\":1572117660,\"last_token\":\"$2a$12$5M4OA5sgA18qqy.Sf5Q/9uPUMVrKg.JOqsKepuv5XHxMbBnz8Zayq\",\"updated_at\":\"2019-10-12T21:21:01.224+02:00\"}}"], ["updated_at", "2019-10-12 19:21:01.226002"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 24ms (Views: 6.6ms | ActiveRecord: 3.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:21:10 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:21:10 +0200
  [1m[35mType Load (1.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.1ms)
  Rendered types/show.json.jbuilder (2.9ms)
  [1m[36m (2.8ms)[0m  [1mBEGIN[0m
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mUser Load (1.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"expiry\":1572117670,\"last_token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"updated_at\":\"2019-10-12T21:21:10.031+02:00\"}}"], ["updated_at", "2019-10-12 19:21:10.334814"], ["id", 3]]
  [1m[35m (2.1ms)[0m  COMMIT
Completed 200 OK in 332ms (Views: 4.5ms | ActiveRecord: 8.3ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:21:10 +0200
  [1m[36mThing Load (0.9ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.9ms)[0m  BEGIN
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"expiry\":1572117670,\"last_token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"updated_at\":\"2019-10-12T21:21:10.352+02:00\"}}"], ["updated_at", "2019-10-12 19:21:10.353839"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 333ms (Views: 1.3ms | ActiveRecord: 5.0ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"expiry\":1572117670,\"last_token\":\"$2a$12$B4iRtS1qKb6D3fa0J1HdBeOGeKPgSxnkyVAL/925rXM8wKrXhXYs2\",\"updated_at\":\"2019-10-12T21:21:10.930+02:00\"}}"], ["updated_at", "2019-10-12 19:21:10.932122"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 588ms (Views: 3.6ms | ActiveRecord: 2.5ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 21:21:13 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 21:21:13 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 21:21:13 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 21:21:13 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 21:21:13 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 21:21:13 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 21:21:13 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (2.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 2.3ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:21:13 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (2.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 4ms (ActiveRecord: 2.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:21:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:21:46 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (5.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:46.499+02:00\"}}"], ["updated_at", "2019-10-12 19:21:46.781390"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (270.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 615ms (Views: 2.5ms | ActiveRecord: 4.7ms)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:46.788+02:00\"}}"], ["updated_at", "2019-10-12 19:21:46.789721"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 606ms (Views: 2.8ms | ActiveRecord: 279.0ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:21:46 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:47.377+02:00\"}}"], ["updated_at", "2019-10-12 19:21:47.379205"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 580ms (Views: 1.1ms | ActiveRecord: 4.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:21:47 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (4.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:47.997+02:00\"}}"], ["updated_at", "2019-10-12 19:21:47.998765"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 316ms (Views: 7.0ms | ActiveRecord: 5.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 21:21:49 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:49.916+02:00\"}}"], ["updated_at", "2019-10-12 19:21:49.918627"], ["id", 3]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 21:21:49 +0200
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 23ms (Views: 2.6ms | ActiveRecord: 5.4ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 21:21:49 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (3.8ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (7.9ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:49.962+02:00\"}}"], ["updated_at", "2019-10-12 19:21:49.963658"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 6.4ms | ActiveRecord: 8.1ms)
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"expiry\":1572117706,\"last_token\":\"$2a$12$WsAgET7nRicO8pAXt1xZy.NZE/bjwYut4WcJpvCyvAzG7p7k70RYK\",\"updated_at\":\"2019-10-12T21:21:50.246+02:00\"}}"], ["updated_at", "2019-10-12 19:21:50.247921"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 318ms (Views: 2.6ms | ActiveRecord: 2.7ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 21:23:31 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 21:23:31 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.8ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.5ms)
  [1m[36mUser Load (2.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/show.json.jbuilder (6.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (3.2ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (5.5ms)
  [1m[36m (5.4ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:31.555+02:00\"}}"], ["updated_at", "2019-10-12 19:23:31.858919"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (295.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 328ms (Views: 8.3ms | ActiveRecord: 4.7ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 21:23:31 +0200
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:31.866+02:00\"}}"], ["updated_at", "2019-10-12 19:23:31.867909"], ["id", 3]]
  [1m[35m (1.9ms)[0m  COMMIT
Completed 200 OK in 329ms (Views: 3.9ms | ActiveRecord: 310.4ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:32.451+02:00\"}}"], ["updated_at", "2019-10-12 19:23:32.452648"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 580ms (Views: 2.1ms | ActiveRecord: 4.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:23:33 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:33.321+02:00\"}}"], ["updated_at", "2019-10-12 19:23:33.326077"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 324ms (Views: 4.3ms | ActiveRecord: 3.9ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 21:23:35 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 21:23:35 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (3.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:35.258+02:00\"}}"], ["updated_at", "2019-10-12 19:23:35.260954"], ["id", 3]]
  [1m[35m (4.0ms)[0m  COMMIT
Completed 200 OK in 37ms (Views: 4.1ms | ActiveRecord: 6.3ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 21:23:35 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (3.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (3.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.7ms)
  [1m[35m (2.3ms)[0m  BEGIN
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:35.315+02:00\"}}"], ["updated_at", "2019-10-12 19:23:35.317173"], ["id", 3]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 38ms (Views: 2.9ms | ActiveRecord: 15.0ms)
  [1m[36mThingType Load (0.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"expiry\":1572117811,\"last_token\":\"$2a$12$8tnXH/FwYsMgsJKVDPz4VuBskOSPLDF1nKn3PuC4o33Uwzi7ouW0m\",\"updated_at\":\"2019-10-12T21:23:35.564+02:00\"}}"], ["updated_at", "2019-10-12 19:23:35.565610"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 326ms (Views: 2.1ms | ActiveRecord: 6.9ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 21:24:05 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 21:24:05 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.7ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (5.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered thing_types/index.json.jbuilder (3.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/show.json.jbuilder (2.1ms)
  [1m[36m (3.5ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:05.993+02:00\"}}"], ["updated_at", "2019-10-12 19:24:06.292711"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (297.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 324ms (Views: 4.7ms | ActiveRecord: 6.5ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 21:24:06 +0200
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:06.298+02:00\"}}"], ["updated_at", "2019-10-12 19:24:06.300384"], ["id", 3]]
  [1m[35m (2.0ms)[0m  COMMIT
Completed 200 OK in 330ms (Views: 4.7ms | ActiveRecord: 309.3ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (2.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:06.936+02:00\"}}"], ["updated_at", "2019-10-12 19:24:06.937864"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 617ms (Views: 3.8ms | ActiveRecord: 3.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:24:08 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:09.048+02:00\"}}"], ["updated_at", "2019-10-12 19:24:09.049018"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 312ms (Views: 5.5ms | ActiveRecord: 4.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:24:10 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:24:10 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[36mType Load (7.1ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.3ms)
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (4.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:10.436+02:00\"}}"], ["updated_at", "2019-10-12 19:24:10.438898"], ["id", 3]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 57ms (Views: 3.9ms | ActiveRecord: 11.5ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:24:10 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (2.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:10.504+02:00\"}}"], ["updated_at", "2019-10-12 19:24:10.508595"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 37ms (Views: 3.1ms | ActiveRecord: 5.6ms)
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"expiry\":1572117845,\"last_token\":\"$2a$12$BhUSbIr.XkzL6ijXxKp0qOlIR2xxU5XWOMZddkwM3Nzqroy6.0z6C\",\"updated_at\":\"2019-10-12T21:24:10.738+02:00\"}}"], ["updated_at", "2019-10-12 19:24:10.739727"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 328ms (Views: 3.1ms | ActiveRecord: 10.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:24:56 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:24:56 +0200
Processing by TypesController#show as JSON
Processing by ThingTypesController#type_things as JSON
  Parameters: {"id"=>"23"}
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (3.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[35mThingType Load (3.0ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.2ms)
  Rendered thing_types/index.json.jbuilder (6.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36m (1.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:24:56.540+02:00\"}}"], ["updated_at", "2019-10-12 19:24:56.836715"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (307.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 328ms (Views: 6.8ms | ActiveRecord: 7.1ms)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:24:56.846+02:00\"}}"], ["updated_at", "2019-10-12 19:24:56.848054"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 337ms (Views: 3.2ms | ActiveRecord: 315.3ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:24:56 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:24:57.443+02:00\"}}"], ["updated_at", "2019-10-12 19:24:57.443924"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 583ms (Views: 1.7ms | ActiveRecord: 5.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:24:57 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:24:58.251+02:00\"}}"], ["updated_at", "2019-10-12 19:24:58.252600"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 315ms (Views: 3.4ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:25:00 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (709.8ms)
Completed 200 OK in 711ms (Views: 710.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-d5231af920aa1c13d23f89c4bc43abd24761e4f7bfb0158481979e4af4de9bf0.js?body=1" for 127.0.0.1 at 2019-10-12 21:25:01 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:25:01 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:25:01 +0200
  [1m[36m (5.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:25:01.421+02:00\"}}"], ["updated_at", "2019-10-12 19:25:01.423685"], ["id", 3]]
  [1m[35m (1.5ms)[0m  COMMIT
Completed 200 OK in 26ms (Views: 0.5ms | ActiveRecord: 7.7ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:25:01 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:25:01 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:25:01 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:25:01 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (3.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:25:01.736+02:00\"}}"], ["updated_at", "2019-10-12 19:25:01.739072"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 2.5ms | ActiveRecord: 6.3ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:25:01 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (2.4ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.7ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (4.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:25:01.874+02:00\"}}"], ["updated_at", "2019-10-12 19:25:01.878693"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 2.6ms | ActiveRecord: 10.1ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:25:01 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:25:01 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:25:02 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.1ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (6.5ms)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:25:02.198+02:00\"}}"], ["updated_at", "2019-10-12 19:25:02.199524"], ["id", 3]]
  [1m[35m (1.9ms)[0m  COMMIT
Completed 200 OK in 51ms (Views: 15.1ms | ActiveRecord: 6.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:25:02 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (5.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (14.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"expiry\":1572117896,\"last_token\":\"$2a$12$YvalChdww.69Kbu1CH0YnukUiOoy717Ihfnp902L2c0WO.yvdbiFO\",\"updated_at\":\"2019-10-12T21:25:02.256+02:00\"}}"], ["updated_at", "2019-10-12 19:25:02.259708"], ["id", 3]]
  [1m[35m (1.8ms)[0m  COMMIT
Completed 200 OK in 47ms (Views: 15.4ms | ActiveRecord: 10.5ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:25:07 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (270.1ms)
Completed 200 OK in 272ms (Views: 271.5ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:25:08 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:25:08 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:25:08 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:25:08 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:25:08 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"expiry\":1572117908,\"last_token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"updated_at\":\"2019-10-12T21:25:08.166+02:00\"}}"], ["updated_at", "2019-10-12 19:25:08.498895"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 348ms (Views: 0.4ms | ActiveRecord: 2.9ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:25:08 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:25:08 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (1.5ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"expiry\":1572117908,\"last_token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"updated_at\":\"2019-10-12T21:25:08.648+02:00\"}}"], ["updated_at", "2019-10-12 19:25:08.650475"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 355ms (Views: 4.0ms | ActiveRecord: 2.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:25:08 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"expiry\":1572117908,\"last_token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"updated_at\":\"2019-10-12T21:25:08.899+02:00\"}}"], ["updated_at", "2019-10-12 19:25:08.900301"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 351ms (Views: 1.4ms | ActiveRecord: 2.2ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:25:08 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:25:08 +0200
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (2.1ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (6.5ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"expiry\":1572117908,\"last_token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"updated_at\":\"2019-10-12T21:25:09.280+02:00\"}}"], ["updated_at", "2019-10-12 19:25:09.282140"], ["id", 3]]
  [1m[35m (4.0ms)[0m  COMMIT
Completed 200 OK in 623ms (Views: 8.0ms | ActiveRecord: 5.7ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:25:09 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"expiry\":1572117908,\"last_token\":\"$2a$12$yQBvGvIgHfoKjhCY9gNgeeV73WpLac4C1o8Jmj0mrsFnUjiVLYLRa\",\"updated_at\":\"2019-10-12T21:25:09.646+02:00\"}}"], ["updated_at", "2019-10-12 19:25:09.648047"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 353ms (Views: 3.9ms | ActiveRecord: 4.5ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:25:15 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (234.6ms)
Completed 200 OK in 236ms (Views: 235.8ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:25:16 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:25:16 +0200
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:25:16 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:25:16 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:25:16 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.8ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[35m (1.1ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"expiry\":1572117916,\"last_token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"updated_at\":\"2019-10-12T21:25:16.401+02:00\"}}"], ["updated_at", "2019-10-12 19:25:16.731341"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (185.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 347ms (Views: 0.6ms | ActiveRecord: 4.3ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:25:16 +0200
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"expiry\":1572117916,\"last_token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"updated_at\":\"2019-10-12T21:25:16.739+02:00\"}}"], ["updated_at", "2019-10-12 19:25:16.742503"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 215ms (Views: 3.5ms | ActiveRecord: 190.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:25:16 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:25:16 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:25:16 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:25:16 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (3.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"expiry\":1572117916,\"last_token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"updated_at\":\"2019-10-12T21:25:17.231+02:00\"}}"], ["updated_at", "2019-10-12 19:25:17.233312"], ["id", 3]]
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 353ms (Views: 4.2ms | ActiveRecord: 6.8ms)
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (2.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"expiry\":1572117916,\"last_token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"updated_at\":\"2019-10-12T21:25:17.420+02:00\"}}"], ["updated_at", "2019-10-12 19:25:17.421349"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 664ms (Views: 3.4ms | ActiveRecord: 3.9ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:25:17 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"expiry\":1572117916,\"last_token\":\"$2a$12$MzpqkRHwmL37zLgw.cxOeuHeD2/V.IF62fDlSlyHksUR8lGnA5B.G\",\"updated_at\":\"2019-10-12T21:25:17.721+02:00\"}}"], ["updated_at", "2019-10-12 19:25:17.722458"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 293ms (Views: 1.4ms | ActiveRecord: 2.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:25:38 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:25:38 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[35mThingType Load (2.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered thing_types/index.json.jbuilder (6.2ms)
  Rendered types/show.json.jbuilder (3.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36m (2.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"expiry\":1572117938,\"last_token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"updated_at\":\"2019-10-12T21:25:38.823+02:00\"}}"], ["updated_at", "2019-10-12 19:25:39.109041"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[35mUser Load (299.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 322ms (Views: 6.6ms | ActiveRecord: 6.2ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"expiry\":1572117938,\"last_token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"updated_at\":\"2019-10-12T21:25:39.115+02:00\"}}"], ["updated_at", "2019-10-12 19:25:39.117492"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 329ms (Views: 5.1ms | ActiveRecord: 308.2ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:25:39 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"expiry\":1572117938,\"last_token\":\"$2a$12$6p3k8ixOOQhcvjHD.4eVgOUESH8H9PPav9glCaoXalWmtf3FP4W2u\",\"updated_at\":\"2019-10-12T21:25:39.705+02:00\"}}"], ["updated_at", "2019-10-12 19:25:39.706190"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 582ms (Views: 1.3ms | ActiveRecord: 4.7ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 21:25:40 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 21:25:41 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 21:25:41 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 21:25:41 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 21:25:41 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 21:25:41 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 21:25:41 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.0ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:25:41 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (0.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:25:57 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:25:57 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mType Load (0.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:25:58.000+02:00\"}}"], ["updated_at", "2019-10-12 19:25:58.284724"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (288.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 627ms (Views: 1.6ms | ActiveRecord: 7.4ms)
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:25:58.292+02:00\"}}"], ["updated_at", "2019-10-12 19:25:58.293985"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 639ms (Views: 2.5ms | ActiveRecord: 292.9ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:25:58 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (1.8ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (4.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:25:58.923+02:00\"}}"], ["updated_at", "2019-10-12 19:25:58.924141"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 619ms (Views: 3.8ms | ActiveRecord: 6.1ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:26:00 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:26:00.346+02:00\"}}"], ["updated_at", "2019-10-12 19:26:00.347318"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 309ms (Views: 4.2ms | ActiveRecord: 4.4ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 21:26:01 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]

  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]

Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 21:26:01 +0200
  [1m[35mType Load (2.0ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.7ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:26:01.912+02:00\"}}"], ["updated_at", "2019-10-12 19:26:01.914110"], ["id", 3]]
  [1m[35m (3.4ms)[0m  COMMIT
Completed 200 OK in 33ms (Views: 3.3ms | ActiveRecord: 9.3ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 21:26:01 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (4.8ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (1.0ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (3.2ms)
  [1m[35m (2.9ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:26:01.964+02:00\"}}"], ["updated_at", "2019-10-12 19:26:01.966327"], ["id", 3]]
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 35ms (Views: 3.6ms | ActiveRecord: 12.1ms)
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"expiry\":1572117958,\"last_token\":\"$2a$12$1dqwB9pANMRkyIhB5SOLK.lNbiTi/Nx2u4MDPPjk5Y5aZv36oaR6i\",\"updated_at\":\"2019-10-12T21:26:02.223+02:00\"}}"], ["updated_at", "2019-10-12 19:26:02.224793"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
Completed 200 OK in 326ms (Views: 2.7ms | ActiveRecord: 4.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 21:26:57 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]


  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 21:26:57 +0200
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (2.0ms)
Processing by ThingTypesController#type_things as JSON
  [1m[36m (2.3ms)[0m  [1mBEGIN[0m
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.3ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (4.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:26:57.684+02:00\"}}"], ["updated_at", "2019-10-12 19:26:57.993715"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 334ms (Views: 3.3ms | ActiveRecord: 7.4ms)
  [1m[36mUser Load (293.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:26:58.000+02:00\"}}"], ["updated_at", "2019-10-12 19:26:58.003331"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 333ms (Views: 9.8ms | ActiveRecord: 297.2ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 21:26:58 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:26:58.601+02:00\"}}"], ["updated_at", "2019-10-12 19:26:58.602483"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 587ms (Views: 2.5ms | ActiveRecord: 4.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:27:00 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:27:01.081+02:00\"}}"], ["updated_at", "2019-10-12 19:27:01.085583"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 328ms (Views: 4.4ms | ActiveRecord: 4.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 21:27:03 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (2.1ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 21:27:03 +0200
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:27:03.064+02:00\"}}"], ["updated_at", "2019-10-12 19:27:03.065442"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 5.6ms | ActiveRecord: 6.6ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 21:27:03 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (7.7ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:27:03.104+02:00\"}}"], ["updated_at", "2019-10-12 19:27:03.106385"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 36ms (Views: 9.0ms | ActiveRecord: 3.1ms)
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.9ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"expiry\":1572118017,\"last_token\":\"$2a$12$Zm5g2G2Qyu5BL/aIcd8UbefQZDiudjJM7/dCCog9QeVSjQi8AQgly\",\"updated_at\":\"2019-10-12T21:27:03.377+02:00\"}}"], ["updated_at", "2019-10-12 19:27:03.378326"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 314ms (Views: 2.1ms | ActiveRecord: 5.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 21:46:15 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (2049.7ms)
Completed 200 OK in 2084ms (Views: 2071.1ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-2376c988877ce6157707ee6b1e81ce444d84ac075089f09e8fe2bf828da5ee5b.js?body=1" for 127.0.0.1 at 2019-10-12 21:46:18 +0200


Started GET "/assets/spa-demo/subjects/types/types.component.self-f78dac754ebe081b5e1d86c0870f2e6f9f8fac0de1b4c2b28ec2d7a7c69ce57e.js?body=1" for 127.0.0.1 at 2019-10-12 21:46:18 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:46:18 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:46:18 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:46:19 +0200
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$m.vTk75/Dmij5rz8FiTXPui170cEWIdr.qfl487MR43Bxn8oKh9Se\",\"expiry\":1572119179,\"last_token\":\"$2a$12$AQK8P8aZls/naawD6G/D4uIVXZym1a.ZvFVn7aYVPpf/PFzTWT1P.\",\"updated_at\":\"2019-10-12T21:46:19.431+02:00\"}}"], ["updated_at", "2019-10-12 19:46:19.736248"], ["id", 3]]
  [1m[35m (3.2ms)[0m  COMMIT
Completed 200 OK in 728ms (Views: 1.2ms | ActiveRecord: 10.6ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:46:19 +0200


Started GET "/assets/spa-demo/pages/subjects_page-d07c30ba44f1034b5f3c13b58370f2edad3ef47b2f9c48fc1637ed1c0cc5b96a.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_images-c3753bab2a231eada127c95394e4d053ead90a31ff2bc130b30f06e10868eaf9.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_thing_info-2e24ad465c87f9b898c8e540dd72f2317eb3bc1e2fd98a79b61b8fa9ebb12028.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_image_viewer-6e2b1180de5e34285509998cd11d2573db371feeaab5cd7665b02c8dd1f405bf.html" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 21:46:58 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:46:58 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (2.4ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 47ms (ActiveRecord: 2.4ms)
  [1m[36m (1.6ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 69ms (ActiveRecord: 1.6ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:46:58 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (2.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:46:58 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (10.3ms)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mRole Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 2]]
  Rendered things/_thing.json.jbuilder (2.1ms)
  Rendered things/show.json.jbuilder (19.9ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"expiry\":1572119219,\"last_token\":\"$2a$12$m.vTk75/Dmij5rz8FiTXPui170cEWIdr.qfl487MR43Bxn8oKh9Se\",\"updated_at\":\"2019-10-12T21:46:59.364+02:00\"}}"], ["updated_at", "2019-10-12 19:46:59.699715"], ["id", 3]]
  [1m[35mUser Load (218.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 775ms (Views: 39.4ms | ActiveRecord: 10.2ms)
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"expiry\":1572119219,\"last_token\":\"$2a$12$m.vTk75/Dmij5rz8FiTXPui170cEWIdr.qfl487MR43Bxn8oKh9Se\",\"updated_at\":\"2019-10-12T21:46:59.715+02:00\"}}"], ["updated_at", "2019-10-12 19:46:59.717572"], ["id", 3]]
  [1m[35m (1.3ms)[0m  COMMIT
Completed 200 OK in 741ms (Views: 27.8ms | ActiveRecord: 237.2ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:46:59 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:46:59 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.4ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  Rendered things/_thing.json.jbuilder (1.8ms)
  Rendered things/show.json.jbuilder (9.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"expiry\":1572119219,\"last_token\":\"$2a$12$m.vTk75/Dmij5rz8FiTXPui170cEWIdr.qfl487MR43Bxn8oKh9Se\",\"updated_at\":\"2019-10-12T21:47:00.232+02:00\"}}"], ["updated_at", "2019-10-12 19:47:00.234183"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 438ms (Views: 17.4ms | ActiveRecord: 7.4ms)
  [1m[36mRole Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 2]]
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/show.json.jbuilder (1.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"expiry\":1572119219,\"last_token\":\"$2a$12$m.vTk75/Dmij5rz8FiTXPui170cEWIdr.qfl487MR43Bxn8oKh9Se\",\"updated_at\":\"2019-10-12T21:47:00.435+02:00\"}}"], ["updated_at", "2019-10-12 19:47:00.436967"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 688ms (Views: 2.0ms | ActiveRecord: 4.6ms)


Started GET "/api/images/11/content?width=100" for 127.0.0.1 at 2019-10-12 21:47:00 +0200
Processing by ImagesController#content as JPEG
  Parameters: {"width"=>"100", "id"=>"11"}
  [1m[36mImage Load (0.3ms)[0m  [1mSELECT  "images".* FROM "images" WHERE "images"."id" = $1 LIMIT 1[0m  [["id", 11]]
  Rendered text template (0.0ms)
Sent data National Aquarium buildings.jpg (6.9ms)
Completed 200 OK in 57ms (Views: 6.7ms | ActiveRecord: 2.2ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:47:00 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.4ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/show.json.jbuilder (2.2ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"expiry\":1572119219,\"last_token\":\"$2a$12$m.vTk75/Dmij5rz8FiTXPui170cEWIdr.qfl487MR43Bxn8oKh9Se\",\"updated_at\":\"2019-10-12T21:47:00.842+02:00\"}}"], ["updated_at", "2019-10-12 19:47:00.844612"], ["id", 3]]
  [1m[36m (3.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 327ms (Views: 3.3ms | ActiveRecord: 7.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 21:47:38 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 21:47:38 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 21:47:38 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 21:47:38 +0200
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:38.490+02:00\"}}"], ["updated_at", "2019-10-12 19:47:38.800208"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 332ms (Views: 0.7ms | ActiveRecord: 3.7ms)


Started GET "/assets/spa-demo/pages/subjects_page-d07c30ba44f1034b5f3c13b58370f2edad3ef47b2f9c48fc1637ed1c0cc5b96a.html" for 127.0.0.1 at 2019-10-12 21:47:42 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 21:47:42 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 21:47:42 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 21:47:42 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 21:47:42 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 21:47:42 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_images-c3753bab2a231eada127c95394e4d053ead90a31ff2bc130b30f06e10868eaf9.html" for 127.0.0.1 at 2019-10-12 21:47:43 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_thing_info-2e24ad465c87f9b898c8e540dd72f2317eb3bc1e2fd98a79b61b8fa9ebb12028.html" for 127.0.0.1 at 2019-10-12 21:47:43 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_image_viewer-6e2b1180de5e34285509998cd11d2573db371feeaab5cd7665b02c8dd1f405bf.html" for 127.0.0.1 at 2019-10-12 21:47:43 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 21:47:43 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:47:43 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mThing Load (0.4ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:43.453+02:00\"}}"], ["updated_at", "2019-10-12 19:47:43.455351"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 342ms (Views: 1.7ms | ActiveRecord: 4.7ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:47:43 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 2]]
  [1m[35mRole Exists (5.7ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.7ms)
  [1m[36mThing Load (2.9ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  Rendered things/show.json.jbuilder (3.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered things/_thing.json.jbuilder (1.2ms)
  Rendered things/show.json.jbuilder (3.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:43.495+02:00\"}}"], ["updated_at", "2019-10-12 19:47:43.497323"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36mUser Load (7.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 357ms (Views: 5.0ms | ActiveRecord: 4.7ms)
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:43.506+02:00\"}}"], ["updated_at", "2019-10-12 19:47:43.508195"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 40ms (Views: 5.4ms | ActiveRecord: 18.2ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:47:43 +0200


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-12 21:47:43 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.7ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (2.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  [1m[36mRole Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 2]]
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/show.json.jbuilder (4.7ms)
  Rendered things/show.json.jbuilder (2.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:43.578+02:00\"}}"], ["updated_at", "2019-10-12 19:47:43.580771"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36mUser Load (9.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 30ms (Views: 5.7ms | ActiveRecord: 4.8ms)
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:43.589+02:00\"}}"], ["updated_at", "2019-10-12 19:47:43.590900"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 45ms (Views: 7.6ms | ActiveRecord: 16.2ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 21:47:47 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 21:47:47 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 21:47:47 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:47:48 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:48.096+02:00\"}}"], ["updated_at", "2019-10-12 19:47:48.097554"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 48ms (Views: 10.4ms | ActiveRecord: 6.3ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:47:50 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:47:50 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.8ms)
  Rendered types/show.json.jbuilder (3.6ms)
  [1m[35m (1.8ms)[0m  BEGIN
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.8ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:50.051+02:00\"}}"], ["updated_at", "2019-10-12 19:47:50.053353"], ["id", 3]]
  [1m[35mType Load (0.9ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 38ms (Views: 6.3ms | ActiveRecord: 8.4ms)
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.6ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (19.0ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:50.123+02:00\"}}"], ["updated_at", "2019-10-12 19:47:50.124609"], ["id", 3]]
  [1m[35m (1.7ms)[0m  COMMIT
Completed 200 OK in 83ms (Views: 28.9ms | ActiveRecord: 12.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:47:50 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (2.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"expiry\":1572119258,\"last_token\":\"$2a$12$GYxYFapSYFKMztcg6QYWdOTxs6lzDP4zTlVzjZy472zHoTB2bKoAG\",\"updated_at\":\"2019-10-12T21:47:50.159+02:00\"}}"], ["updated_at", "2019-10-12 19:47:50.160863"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 1.6ms | ActiveRecord: 4.8ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 21:47:52 +0200


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:48:18 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:48:18 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (1.0ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  [1m[35mThingType Load (0.8ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.5ms)
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.1ms)
  [1m[36m (2.8ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:18.033+02:00\"}}"], ["updated_at", "2019-10-12 19:48:18.336946"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[35mUser Load (308.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 328ms (Views: 4.3ms | ActiveRecord: 8.4ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:48:18 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:18.343+02:00\"}}"], ["updated_at", "2019-10-12 19:48:18.345393"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 343ms (Views: 5.2ms | ActiveRecord: 313.0ms)
  [1m[35mType Load (0.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.9ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:18.958+02:00\"}}"], ["updated_at", "2019-10-12 19:48:18.962343"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 618ms (Views: 1.3ms | ActiveRecord: 5.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:48:20 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (7.5ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:21.104+02:00\"}}"], ["updated_at", "2019-10-12 19:48:21.105454"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 311ms (Views: 12.1ms | ActiveRecord: 3.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 21:48:23 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 21:48:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/show.json.jbuilder (2.9ms)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:23.082+02:00\"}}"], ["updated_at", "2019-10-12 19:48:23.083854"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (3.3ms)[0m  COMMIT
Completed 200 OK in 33ms (Views: 4.3ms | ActiveRecord: 8.3ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 21:48:23 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (5.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (2.3ms)
  Rendered things/index.json.jbuilder (4.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:23.131+02:00\"}}"], ["updated_at", "2019-10-12 19:48:23.135368"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 31ms (Views: 6.3ms | ActiveRecord: 8.2ms)
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (17.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"expiry\":1572119298,\"last_token\":\"$2a$12$U3.eY4gUKUGx21zp5WfcBuI2bftwiOSqOvoUykCK51dv6gvupfLTK\",\"updated_at\":\"2019-10-12T21:48:23.429+02:00\"}}"], ["updated_at", "2019-10-12 19:48:23.432726"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 355ms (Views: 20.4ms | ActiveRecord: 5.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 21:48:56 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 21:48:56 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.6ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  [1m[35mType Load (3.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (1.4ms)
  Rendered types/show.json.jbuilder (3.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mThingType Load (2.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (7.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:48:56.905+02:00\"}}"], ["updated_at", "2019-10-12 19:48:57.206403"], ["id", 3]]
  [1m[35m (3.1ms)[0m  COMMIT
  [1m[35mUser Load (308.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 338ms (Views: 7.2ms | ActiveRecord: 5.8ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:48:57.215+02:00\"}}"], ["updated_at", "2019-10-12 19:48:57.219949"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 343ms (Views: 6.2ms | ActiveRecord: 316.4ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 21:48:57 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.9ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:48:57.857+02:00\"}}"], ["updated_at", "2019-10-12 19:48:57.860709"], ["id", 3]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 631ms (Views: 3.0ms | ActiveRecord: 5.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:48:59 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:48:59.885+02:00\"}}"], ["updated_at", "2019-10-12 19:48:59.888168"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 335ms (Views: 4.3ms | ActiveRecord: 4.3ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 21:49:01 +0200


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 21:49:01 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (2.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:49:01.839+02:00\"}}"], ["updated_at", "2019-10-12 19:49:01.840985"], ["id", 3]]
  [1m[35m (2.9ms)[0m  COMMIT
Completed 200 OK in 24ms (Views: 3.7ms | ActiveRecord: 5.7ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 21:49:01 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (2.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (5.4ms)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:49:01.881+02:00\"}}"], ["updated_at", "2019-10-12 19:49:01.883661"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 5.9ms | ActiveRecord: 5.4ms)
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/index.json.jbuilder (2.0ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"expiry\":1572119336,\"last_token\":\"$2a$12$iy6AynCRTW5Kj.M.Kso2FOrAD/itJ/fY2rxyh2a3wHjlldmqjvsse\",\"updated_at\":\"2019-10-12T21:49:02.143+02:00\"}}"], ["updated_at", "2019-10-12 19:49:02.145082"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 324ms (Views: 3.2ms | ActiveRecord: 5.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 21:49:33 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.4ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"expiry\":1572119373,\"last_token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"updated_at\":\"2019-10-12T21:49:33.026+02:00\"}}"], ["updated_at", "2019-10-12 19:49:33.308006"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 307ms (Views: 4.3ms | ActiveRecord: 4.7ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 21:49:35 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 21:49:35 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"expiry\":1572119373,\"last_token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"updated_at\":\"2019-10-12T21:49:35.440+02:00\"}}"], ["updated_at", "2019-10-12 19:49:35.441758"], ["id", 3]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.7ms)[0m  COMMIT
  [1m[35mUser Load (3.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 326ms (Views: 3.0ms | ActiveRecord: 4.6ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"expiry\":1572119373,\"last_token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"updated_at\":\"2019-10-12T21:49:35.452+02:00\"}}"], ["updated_at", "2019-10-12 19:49:35.453748"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 329ms (Views: 3.0ms | ActiveRecord: 6.2ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 21:49:35 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (2.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"expiry\":1572119373,\"last_token\":\"$2a$12$EXmMtNy.lvgfhDWVBmFZ8u8UB1j5/OHGwtmCfE7suwPg7UbHTijW2\",\"updated_at\":\"2019-10-12T21:49:35.492+02:00\"}}"], ["updated_at", "2019-10-12 19:49:35.496196"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 31ms (Views: 1.5ms | ActiveRecord: 6.8ms)


Started GET "/api/geocoder/addresses?address=3400+N+Charles+Street" for 127.0.0.1 at 2019-10-12 21:50:15 +0200
Processing by GeocoderController#addresses as JSON
  Parameters: {"address"=>"3400 N Charles Street"}
Completed 304 Not Modified in 16ms (ActiveRecord: 0.0ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&order=ASC" for 127.0.0.1 at 2019-10-12 21:50:15 +0200


Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "order"=>"ASC"}
Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:50:15 +0200
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 2ms (ActiveRecord: 1.0ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=2&order=ASC" for 127.0.0.1 at 2019-10-12 21:50:20 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=2&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:50:20 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"2", "order"=>"ASC", "subject"=>"thing"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"2", "order"=>"ASC"}
  [1m[36m (1.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  [1m[35m (1.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[35mThingImage Load (1.1ms)[0m  SELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.30158172942928 AND images.lat<39.35940967057072 AND images.lng>-76.65742695257843 AND images.lng<-76.5826658474216) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 2.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND "thing_images"."priority" = $1  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC  [["priority", 0]]
  [1m[36mThingImage Load (3.9ms)[0m  [1mSELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.30158172942928 AND images.lat<39.35940967057072 AND images.lng>-76.65742695257843 AND images.lng<-76.5826658474216) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 2.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL)  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC[0m
  Rendered thing_images/index.json.jbuilder (0.6ms)
Completed 200 OK in 31ms (Views: 13.1ms | ActiveRecord: 3.3ms)
  Rendered thing_images/index.json.jbuilder (2.1ms)
Completed 200 OK in 45ms (Views: 9.2ms | ActiveRecord: 6.8ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=3&order=ASC" for 127.0.0.1 at 2019-10-12 21:50:36 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=3&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 21:50:36 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"3", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"3", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.5ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36m (1.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  [1m[36mThingImage Load (3.9ms)[0m  [1mSELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.287124744143924 AND images.lat<39.373866655856084 AND images.lng>-76.67611722487311 AND images.lng<-76.56397557512692) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 3.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL)  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC[0m
  [1m[35mThingImage Load (1.0ms)[0m  SELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.287124744143924 AND images.lat<39.373866655856084 AND images.lng>-76.67611722487311 AND images.lng<-76.56397557512692) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 3.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND "thing_images"."priority" = $1  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC  [["priority", 0]]
  Rendered thing_images/index.json.jbuilder (2.2ms)
Completed 200 OK in 16ms (Views: 3.6ms | ActiveRecord: 5.4ms)
  Rendered thing_images/index.json.jbuilder (3.1ms)
Completed 200 OK in 25ms (Views: 7.2ms | ActiveRecord: 3.0ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=4&order=ASC" for 127.0.0.1 at 2019-10-12 22:26:49 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=4&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:26:49 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"4", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"4", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (1.4ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  [1m[35m (5.6ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36mThingImage Load (2.4ms)[0m  [1mSELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.272667758858574 AND images.lat<39.38832364114144 AND images.lng>-76.69480749237434 AND images.lng<-76.54528530762568) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 4.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL)  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC[0m
  [1m[35mThingImage Load (2.2ms)[0m  SELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.272667758858574 AND images.lat<39.38832364114144 AND images.lng>-76.69480749237434 AND images.lng<-76.54528530762568) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 4.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND "thing_images"."priority" = $1  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC  [["priority", 0]]
  Rendered thing_images/index.json.jbuilder (5.7ms)
Completed 200 OK in 19ms (Views: 7.1ms | ActiveRecord: 3.6ms)
  Rendered thing_images/index.json.jbuilder (49.4ms)
Completed 200 OK in 70ms (Views: 51.6ms | ActiveRecord: 7.9ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=5&order=ASC" for 127.0.0.1 at 2019-10-12 22:26:49 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=5&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:26:49 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"5", "order"=>"ASC", "subject"=>"thing"}
Processing by ThingImagesController#subjects as JSON
  [1m[36m (1.3ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"5", "order"=>"ASC"}
  [1m[35m (1.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36mThingImage Load (2.8ms)[0m  [1mSELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.25821077357321 AND images.lat<39.4027806264268 AND images.lng>-76.71349775348433 AND images.lng<-76.5265950465157) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 5.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL)  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC[0m
  [1m[35mThingImage Load (4.3ms)[0m  SELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.25821077357321 AND images.lat<39.4027806264268 AND images.lng>-76.71349775348433 AND images.lng<-76.5265950465157) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 5.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND "thing_images"."priority" = $1  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC  [["priority", 0]]
  Rendered thing_images/index.json.jbuilder (6.8ms)
Completed 200 OK in 27ms (Views: 8.3ms | ActiveRecord: 5.6ms)
  Rendered thing_images/index.json.jbuilder (38.3ms)
Completed 200 OK in 60ms (Views: 40.2ms | ActiveRecord: 4.1ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=3&order=ASC" for 127.0.0.1 at 2019-10-12 22:26:54 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"3", "order"=>"ASC"}


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=3&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:26:54 +0200
  [1m[35m (1.2ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 1.2ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"3", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (2.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 2.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 22:27:25 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 22:27:25 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.1ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  Rendered types/_type.json.jbuilder (1.8ms)
  [1m[36mType Load (1.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  Rendered types/show.json.jbuilder (7.7ms)
  [1m[35mUser Load (2.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (2.7ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (11.2ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"expiry\":1572121645,\"last_token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"updated_at\":\"2019-10-12T22:27:25.586+02:00\"}}"], ["updated_at", "2019-10-12 20:27:25.888688"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
  [1m[36mUser Load (292.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 329ms (Views: 9.4ms | ActiveRecord: 5.3ms)
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"expiry\":1572121645,\"last_token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"updated_at\":\"2019-10-12T22:27:25.895+02:00\"}}"], ["updated_at", "2019-10-12 20:27:25.900072"], ["id", 3]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 337ms (Views: 9.9ms | ActiveRecord: 302.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 22:27:25 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (1.1ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (1.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"expiry\":1572121645,\"last_token\":\"$2a$12$bTUiGZ3Bktq86SWwBvSjYOhKU.aEXDLGcqNespTrtpu/fxN5bsctq\",\"updated_at\":\"2019-10-12T22:27:26.519+02:00\"}}"], ["updated_at", "2019-10-12 20:27:26.523762"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 617ms (Views: 1.6ms | ActiveRecord: 6.3ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-12 22:27:37 +0200


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-12 22:27:37 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.5ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 3]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (3.7ms)
  [1m[36mRole Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/show.json.jbuilder (5.0ms)
  [1m[35mThing Load (0.7ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 3]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mRole Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (2.7ms)
  Rendered things/show.json.jbuilder (3.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"expiry\":1572121658,\"last_token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"updated_at\":\"2019-10-12T22:27:38.234+02:00\"}}"], ["updated_at", "2019-10-12 20:27:38.566738"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (335.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 696ms (Views: 6.1ms | ActiveRecord: 5.2ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-12 22:27:38 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"expiry\":1572121658,\"last_token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"updated_at\":\"2019-10-12T22:27:38.574+02:00\"}}"], ["updated_at", "2019-10-12 20:27:38.575741"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 700ms (Views: 4.7ms | ActiveRecord: 339.9ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-12 22:27:38 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.5ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.6ms)
  Rendered things/show.json.jbuilder (2.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mRole Exists (0.8ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"expiry\":1572121658,\"last_token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"updated_at\":\"2019-10-12T22:27:39.197+02:00\"}}"], ["updated_at", "2019-10-12 20:27:39.198504"], ["id", 3]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (4.4ms)
  Rendered things/show.json.jbuilder (5.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 623ms (Views: 3.2ms | ActiveRecord: 5.4ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"expiry\":1572121658,\"last_token\":\"$2a$12$TqISPqpO4ARXYG93z0N/keZ.ZbJj114le6gcrIpEad9hgx6DHbEMC\",\"updated_at\":\"2019-10-12T22:27:39.209+02:00\"}}"], ["updated_at", "2019-10-12 20:27:39.211645"], ["id", 3]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 628ms (Views: 6.5ms | ActiveRecord: 4.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:27:47 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mb12mvmIiW4vNdcqsRtADOTvpgCKYjGxqnbQbmtHGq/Mq2hRwZXxO\",\"expiry\":1572121668,\"last_token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"updated_at\":\"2019-10-12T22:27:48.186+02:00\"}}"], ["updated_at", "2019-10-12 20:27:48.471783"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 593ms (Views: 4.2ms | ActiveRecord: 4.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 22:27:49 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 22:27:50 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mb12mvmIiW4vNdcqsRtADOTvpgCKYjGxqnbQbmtHGq/Mq2hRwZXxO\",\"expiry\":1572121668,\"last_token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"updated_at\":\"2019-10-12T22:27:50.319+02:00\"}}"], ["updated_at", "2019-10-12 20:27:50.320158"], ["id", 3]]
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 317ms (Views: 2.2ms | ActiveRecord: 3.4ms)
  Rendered thing_types/index.json.jbuilder (3.4ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 22:27:50 +0200
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mb12mvmIiW4vNdcqsRtADOTvpgCKYjGxqnbQbmtHGq/Mq2hRwZXxO\",\"expiry\":1572121668,\"last_token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"updated_at\":\"2019-10-12T22:27:50.332+02:00\"}}"], ["updated_at", "2019-10-12 20:27:50.333969"], ["id", 3]]
  [1m[35mThing Load (5.7ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 340ms (Views: 4.0ms | ActiveRecord: 7.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$mb12mvmIiW4vNdcqsRtADOTvpgCKYjGxqnbQbmtHGq/Mq2hRwZXxO\",\"expiry\":1572121668,\"last_token\":\"$2a$12$g.qukbuINxBwV/sLMx0KoOudPgserMxJZeYHJXlhUpjlzVYrCYiTC\",\"updated_at\":\"2019-10-12T22:27:50.355+02:00\"}}"], ["updated_at", "2019-10-12 20:27:50.357308"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 31ms (Views: 1.9ms | ActiveRecord: 12.4ms)



Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=4&order=ASC" for 127.0.0.1 at 2019-10-12 22:28:13 +0200

Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=4&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:28:13 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"4", "order"=>"ASC", "subject"=>"thing"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"4", "order"=>"ASC"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36m (2.7ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 3ms (ActiveRecord: 0.9ms)
Completed 304 Not Modified in 4ms (ActiveRecord: 2.7ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=5&order=ASC" for 127.0.0.1 at 2019-10-12 22:28:14 +0200


Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"5", "order"=>"ASC"}
Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=5&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:28:14 +0200
  [1m[35m (1.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 2ms (ActiveRecord: 1.3ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"5", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (2.6ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 2.6ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=6&order=ASC" for 127.0.0.1 at 2019-10-12 22:28:14 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=6&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:28:14 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"6", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"6", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36m (1.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  [1m[36mThingImage Load (4.6ms)[0m  [1mSELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.243753788287854 AND images.lat<39.41723761171217 AND images.lng>-76.73218800660527 AND images.lng<-76.50790479339474) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 6.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL)  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC[0m
  [1m[35mThingImage Load (3.3ms)[0m  SELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.243753788287854 AND images.lat<39.41723761171217 AND images.lng>-76.73218800660527 AND images.lng<-76.50790479339474) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 6.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND "thing_images"."priority" = $1  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC  [["priority", 0]]
  Rendered thing_images/index.json.jbuilder (12.1ms)
Completed 200 OK in 27ms (Views: 13.7ms | ActiveRecord: 4.3ms)
  Rendered thing_images/index.json.jbuilder (74.9ms)
Completed 200 OK in 112ms (Views: 79.6ms | ActiveRecord: 5.5ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=7&order=ASC" for 127.0.0.1 at 2019-10-12 22:28:16 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&miles=7&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:28:16 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"7", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "miles"=>"7", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (0.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36m (1.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
  [1m[36mThingImage Load (2.5ms)[0m  [1mSELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.22929680300249 AND images.lat<39.43169459699752 AND images.lng>-76.75087825013937 AND images.lng<-76.48921454986065) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 7.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL)  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC[0m
  [1m[35mThingImage Load (1.6ms)[0m  SELECT thing_images.*, images.id as image_id, images.lng, images.lat, things.name as thing_name, images.caption as image_caption, -1.0 as distance FROM "thing_images" right outer join images on images.id = thing_images.image_id left outer join things on things.id = thing_images.thing_id WHERE (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND (images.lat>39.22929680300249 AND images.lat<39.43169459699752 AND images.lng>-76.75087825013937 AND images.lng<-76.48921454986065) AND ((
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          <= 7.0)) AND (images.lat IS NOT NULL AND images.lng IS NOT NULL) AND "thing_images"."priority" = $1  ORDER BY 
          (ACOS(least(1,COS(0.686446646406472)*COS(-1.3372720827108284)*COS(RADIANS(images.lat))*COS(RADIANS(images.lng))+
          COS(0.686446646406472)*SIN(-1.3372720827108284)*COS(RADIANS(images.lat))*SIN(RADIANS(images.lng))+
          SIN(0.686446646406472)*SIN(RADIANS(images.lat))))*3963.1899999999996)
          ASC  [["priority", 0]]
  Rendered thing_images/index.json.jbuilder (5.4ms)
Completed 200 OK in 20ms (Views: 8.1ms | ActiveRecord: 2.7ms)
  Rendered thing_images/index.json.jbuilder (31.8ms)
Completed 200 OK in 53ms (Views: 33.4ms | ActiveRecord: 3.4ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 22:28:51 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (722.1ms)
Completed 200 OK in 724ms (Views: 723.3ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/types.component.self-8710b76dcfce6778e47e9fae8cb570fcd5af924f45a7ee5900fc3377608dd381.js?body=1" for 127.0.0.1 at 2019-10-12 22:28:51 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (3.2ms)[0m  [1mBEGIN[0m


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"expiry\":1572121732,\"last_token\":\"$2a$12$mb12mvmIiW4vNdcqsRtADOTvpgCKYjGxqnbQbmtHGq/Mq2hRwZXxO\",\"updated_at\":\"2019-10-12T22:28:52.118+02:00\"}}"], ["updated_at", "2019-10-12 20:28:52.463632"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 367ms (Views: 0.5ms | ActiveRecord: 5.8ms)


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 22:28:52 +0200


Processing by ThingImagesController#subjects as JSON
Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:28:52 +0200
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.1ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 2ms (ActiveRecord: 1.1ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (2.6ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 6ms (ActiveRecord: 2.6ms)


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&order=ASC" for 127.0.0.1 at 2019-10-12 22:29:00 +0200


Started GET "/api/subjects?distance=true&lat=39.3304957&lng=-76.6200464&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:29:00 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "order"=>"ASC"}
  [1m[35m (1.2ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Processing by ThingImagesController#subjects as JSON
  Parameters: {"distance"=>"true", "lat"=>"39.3304957", "lng"=>"-76.6200464", "order"=>"ASC", "subject"=>"thing"}
Completed 304 Not Modified in 3ms (ActiveRecord: 1.2ms)
  [1m[35m (0.8ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 0.8ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 22:29:16 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 22:29:16 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 22:29:16 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 22:29:16 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:29:17 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.3ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.7ms)
  [1m[36m (6.1ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"expiry\":1572121757,\"last_token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"updated_at\":\"2019-10-12T22:29:17.317+02:00\"}}"], ["updated_at", "2019-10-12 20:29:17.630148"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[35mUser Load (237.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 640ms (Views: 5.6ms | ActiveRecord: 3.6ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"expiry\":1572121757,\"last_token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"updated_at\":\"2019-10-12T22:29:17.636+02:00\"}}"], ["updated_at", "2019-10-12 20:29:17.638183"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 586ms (Views: 5.0ms | ActiveRecord: 247.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:29:17 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.6ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"expiry\":1572121757,\"last_token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"updated_at\":\"2019-10-12T22:29:17.955+02:00\"}}"], ["updated_at", "2019-10-12 20:29:17.956850"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 303ms (Views: 3.4ms | ActiveRecord: 4.5ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-12 22:29:19 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-12 22:29:19 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (3.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (1.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (4.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/show.json.jbuilder (1.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"expiry\":1572121757,\"last_token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"updated_at\":\"2019-10-12T22:29:19.247+02:00\"}}"], ["updated_at", "2019-10-12 20:29:19.248760"], ["id", 3]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 35ms (Views: 2.5ms | ActiveRecord: 15.8ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-12 22:29:19 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (2.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"expiry\":1572121757,\"last_token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"updated_at\":\"2019-10-12T22:29:19.282+02:00\"}}"], ["updated_at", "2019-10-12 20:29:19.285906"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 24ms (Views: 3.4ms | ActiveRecord: 3.3ms)
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"expiry\":1572121757,\"last_token\":\"$2a$12$.WhA0Uf.mq7HVtpPQUlNBO9l4ZSzJJ1WKCXop.UP7Bm/X08u4pJ/a\",\"updated_at\":\"2019-10-12T22:29:19.540+02:00\"}}"], ["updated_at", "2019-10-12 20:29:19.541924"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 320ms (Views: 2.7ms | ActiveRecord: 8.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:29:56 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (5.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"expiry\":1572121796,\"last_token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"updated_at\":\"2019-10-12T22:29:56.212+02:00\"}}"], ["updated_at", "2019-10-12 20:29:56.494040"], ["id", 3]]
  [1m[36m (2.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 320ms (Views: 7.9ms | ActiveRecord: 5.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 22:29:59 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 22:29:59 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (3.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.3ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"expiry\":1572121796,\"last_token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"updated_at\":\"2019-10-12T22:30:00.097+02:00\"}}"], ["updated_at", "2019-10-12 20:30:00.099436"], ["id", 3]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[35m (0.9ms)[0m  COMMIT
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 331ms (Views: 2.6ms | ActiveRecord: 6.1ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 22:30:00 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"expiry\":1572121796,\"last_token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"updated_at\":\"2019-10-12T22:30:00.106+02:00\"}}"], ["updated_at", "2019-10-12 20:30:00.108654"], ["id", 3]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 339ms (Views: 4.2ms | ActiveRecord: 6.5ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (1.1ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"expiry\":1572121796,\"last_token\":\"$2a$12$Z6g4Wy8BPHfvVL3e32yXWe0JL0ibF5PKztN5sofeiuhG/ClNZeh9m\",\"updated_at\":\"2019-10-12T22:30:00.148+02:00\"}}"], ["updated_at", "2019-10-12 20:30:00.149337"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 35ms (Views: 3.3ms | ActiveRecord: 7.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:30:50 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (7.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"expiry\":1572121850,\"last_token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"updated_at\":\"2019-10-12T22:30:50.248+02:00\"}}"], ["updated_at", "2019-10-12 20:30:50.530269"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 315ms (Views: 8.5ms | ActiveRecord: 4.5ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 22:30:51 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (1.1ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 22:30:51 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mThingType Load (0.3ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"expiry\":1572121850,\"last_token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"updated_at\":\"2019-10-12T22:30:52.254+02:00\"}}"], ["updated_at", "2019-10-12 20:30:52.255294"], ["id", 3]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (5.0ms)[0m  COMMIT
Completed 200 OK in 332ms (Views: 2.4ms | ActiveRecord: 8.4ms)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"expiry\":1572121850,\"last_token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"updated_at\":\"2019-10-12T22:30:52.261+02:00\"}}"], ["updated_at", "2019-10-12 20:30:52.262487"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 320ms (Views: 3.2ms | ActiveRecord: 2.6ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 22:30:52 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (1.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/index.json.jbuilder (3.1ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"expiry\":1572121850,\"last_token\":\"$2a$12$ALptVkpnsOrn0mcUE6yee.41ydQGWfwFrFwk4sgEs.cwV0fLALs1C\",\"updated_at\":\"2019-10-12T22:30:52.297+02:00\"}}"], ["updated_at", "2019-10-12 20:30:52.299413"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 26ms (Views: 5.3ms | ActiveRecord: 3.9ms)


Started GET "/" for 127.0.0.1 at 2019-10-12 22:31:46 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (233.0ms)
Completed 200 OK in 235ms (Views: 234.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-12 22:31:46 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:46.754+02:00\"}}"], ["updated_at", "2019-10-12 20:31:47.043284"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 304ms (Views: 0.4ms | ActiveRecord: 2.0ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-12 22:31:47 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-12 22:31:47 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-12 22:31:47 +0200


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-12 22:31:50 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-12 22:31:50 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-12 22:31:50 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-12 22:31:50 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.3ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:50.610+02:00\"}}"], ["updated_at", "2019-10-12 20:31:50.611907"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 309ms (Views: 2.0ms | ActiveRecord: 3.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:31:50 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.6ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (4.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:50.648+02:00\"}}"], ["updated_at", "2019-10-12 20:31:50.651742"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 6.5ms | ActiveRecord: 2.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:31:50 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:50.676+02:00\"}}"], ["updated_at", "2019-10-12 20:31:50.677608"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 21ms (Views: 3.5ms | ActiveRecord: 3.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 22:31:51 +0200


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 22:31:51 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (6.7ms)
  [1m[36m (1.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:51.757+02:00\"}}"], ["updated_at", "2019-10-12 20:31:51.758557"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 30ms (Views: 8.0ms | ActiveRecord: 5.3ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 22:31:51 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (2.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (5.4ms)
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:51.791+02:00\"}}"], ["updated_at", "2019-10-12 20:31:51.793883"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 32ms (Views: 4.4ms | ActiveRecord: 6.2ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"expiry\":1572121906,\"last_token\":\"$2a$12$yMH4bWOzt.km0KFtURd.ZezlitTw.F1PlTAd52krLx5ISOiQjuVvi\",\"updated_at\":\"2019-10-12T22:31:52.044+02:00\"}}"], ["updated_at", "2019-10-12 20:31:52.045371"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 315ms (Views: 1.1ms | ActiveRecord: 2.9ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-12 22:31:53 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-12 22:31:53 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-12 22:31:53 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-12 22:31:53 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-12 22:31:53 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-12 22:31:53 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-12 22:31:53 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-12 22:31:53 +0200
  [1m[36m (0.8ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 2ms (ActiveRecord: 0.8ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (2.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 4ms (ActiveRecord: 2.1ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 22:32:46 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 22:32:46 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (4.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (4.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (7.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:46.371+02:00\"}}"], ["updated_at", "2019-10-12 20:32:46.673389"], ["id", 3]]
  [1m[36m (3.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (295.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 328ms (Views: 6.3ms | ActiveRecord: 4.8ms)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:46.681+02:00\"}}"], ["updated_at", "2019-10-12 20:32:46.682753"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 336ms (Views: 8.9ms | ActiveRecord: 302.3ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 22:32:46 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:47.280+02:00\"}}"], ["updated_at", "2019-10-12 20:32:47.281417"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 577ms (Views: 1.4ms | ActiveRecord: 4.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:32:47 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (3.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:48.227+02:00\"}}"], ["updated_at", "2019-10-12 20:32:48.231125"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 328ms (Views: 5.4ms | ActiveRecord: 4.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-12 22:32:51 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-12 22:32:51 +0200
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.5ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:51.343+02:00\"}}"], ["updated_at", "2019-10-12 20:32:51.348278"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 31ms (Views: 3.0ms | ActiveRecord: 4.9ms)


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-12 22:32:51 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.3ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:51.384+02:00\"}}"], ["updated_at", "2019-10-12 20:32:51.385998"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 42ms (Views: 3.1ms | ActiveRecord: 3.4ms)
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (1.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"expiry\":1572121966,\"last_token\":\"$2a$12$enf63JGkS0WMny0yD7IhI.mQYbSQARlRBEGFkBSxAZEK8wLNP.Ycm\",\"updated_at\":\"2019-10-12T22:32:51.645+02:00\"}}"], ["updated_at", "2019-10-12 20:32:51.646536"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 314ms (Views: 2.6ms | ActiveRecord: 4.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-12 22:33:23 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.8ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"expiry\":1572122003,\"last_token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"updated_at\":\"2019-10-12T22:33:23.279+02:00\"}}"], ["updated_at", "2019-10-12 20:33:23.561384"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 320ms (Views: 10.7ms | ActiveRecord: 5.2ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-12 22:33:26 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-12 22:33:26 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"expiry\":1572122003,\"last_token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"updated_at\":\"2019-10-12T22:33:27.187+02:00\"}}"], ["updated_at", "2019-10-12 20:33:27.188506"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 318ms (Views: 2.3ms | ActiveRecord: 2.4ms)
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (4.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"expiry\":1572122003,\"last_token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"updated_at\":\"2019-10-12T22:33:27.203+02:00\"}}"], ["updated_at", "2019-10-12 20:33:27.204839"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 327ms (Views: 5.6ms | ActiveRecord: 2.6ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-12 22:33:27 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (1.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (3.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"expiry\":1572122003,\"last_token\":\"$2a$12$9rYjSURWtHjIzRDoO3revuHcHg0uNyArIxZJN9816.tO3NZmwyE0y\",\"updated_at\":\"2019-10-12T22:33:27.236+02:00\"}}"], ["updated_at", "2019-10-12 20:33:27.241077"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 1.3ms | ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2019-10-13 10:53:27 +0200
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (1510.4ms)
Completed 200 OK in 1535ms (Views: 1521.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/angular/angular.self-a4ec94b978004b45127819f4f8dda67f742334b1e952c2dc446a327714b45fb5.js?body=1" for 127.0.0.1 at 2019-10-13 10:53:29 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-13 10:53:29 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (1.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:29.851+02:00\"}}"], ["updated_at", "2019-10-13 08:53:30.143456"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 680ms (Views: 0.4ms | ActiveRecord: 10.2ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-13 10:53:30 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-13 10:53:30 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-13 10:53:30 +0200


Started GET "/assets/spa-demo/pages/images_page-c4165c503ad0da133576deeab857e21d45419e57c1a32903cde6f5444a44f1af.html" for 127.0.0.1 at 2019-10-13 10:53:34 +0200


Started GET "/assets/spa-demo/subjects/images/image_editor-1f7b544a166000ac21ff5e8acf8def76bb45b1977876f19d186072b4c465356a.html" for 127.0.0.1 at 2019-10-13 10:53:34 +0200


Started GET "/assets/spa-demo/subjects/images/image_selector-55a921ea53ce3098c413eca2980a38f72483d054842d70b1f17fa5e4934bc3f2.html" for 127.0.0.1 at 2019-10-13 10:53:34 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 10:53:34 +0200
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m


Started GET "/api/images" for 127.0.0.1 at 2019-10-13 10:53:34 +0200
Processing by AuthnController#whoami as JSON
Processing by ImagesController#index as JSON
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mUser Load (6.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mImage Load (5.0ms)[0m  SELECT Images.*, r.role_name FROM "images" left join Roles r on r.mname='Image' and r.mid=Images.id and r.user_id =3
  Rendered images/_image.json.jbuilder (1.4ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (1.3ms)
  Rendered images/_image.json.jbuilder (1.4ms)
  Rendered images/_image.json.jbuilder (0.6ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  [1m[36m (0.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered images/_image.json.jbuilder (0.6ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (2.4ms)
  Rendered images/_image.json.jbuilder (0.6ms)
  Rendered images/_image.json.jbuilder (1.9ms)
  Rendered images/_image.json.jbuilder (0.6ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.9ms)
  Rendered images/_image.json.jbuilder (3.2ms)
  Rendered authn/whoami.json.jbuilder (11.5ms)
  Rendered images/index.json.jbuilder (59.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:34.951+02:00\"}}"], ["updated_at", "2019-10-13 08:53:34.952627"], ["id", 3]]
  [1m[35mUser Load (12.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 448ms (Views: 28.5ms | ActiveRecord: 13.1ms)
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:34.963+02:00\"}}"], ["updated_at", "2019-10-13 08:53:34.964258"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 442ms (Views: 65.9ms | ActiveRecord: 21.9ms)


Started GET "/assets/spa-demo/layout/image_loader/image_loader-f6aa9347e073adcc17aff4acbda637793dc14d0832b2b204861f2d1ce3fda0a1.html" for 127.0.0.1 at 2019-10-13 10:53:34 +0200


Started GET "/api/images" for 127.0.0.1 at 2019-10-13 10:53:34 +0200
Processing by ImagesController#index as JSON
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mImage Load (1.5ms)[0m  [1mSELECT Images.*, r.role_name FROM "images" left join Roles r on r.mname='Image' and r.mid=Images.id and r.user_id =3[0m
  Rendered images/_image.json.jbuilder (1.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (1.7ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.7ms)
  Rendered images/_image.json.jbuilder (0.8ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.3ms)
  Rendered images/_image.json.jbuilder (0.3ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.3ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.3ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.6ms)
  Rendered images/_image.json.jbuilder (1.2ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.5ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/_image.json.jbuilder (0.4ms)
  Rendered images/index.json.jbuilder (45.8ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:35.107+02:00\"}}"], ["updated_at", "2019-10-13 08:53:35.109398"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 113ms (Views: 55.1ms | ActiveRecord: 10.4ms)


Started GET "/api/images/11/content?width=50" for 127.0.0.1 at 2019-10-13 10:53:35 +0200
Processing by ImagesController#content as JPEG
  Parameters: {"width"=>"50", "id"=>"11"}
  [1m[35mImage Load (0.2ms)[0m  SELECT  "images".* FROM "images" WHERE "images"."id" = $1 LIMIT 1  [["id", 11]]
  Rendered text template (0.0ms)
Sent data National Aquarium buildings.jpg (2.0ms)
Completed 200 OK in 83ms (Views: 1.9ms | ActiveRecord: 0.2ms)


Started GET "/assets/spa-demo/pages/things_page-ca7d9053d1116f3b00bae5eef604dcaf374178509e877d9ebf30b9a404681ab4.html" for 127.0.0.1 at 2019-10-13 10:53:39 +0200


Started GET "/assets/spa-demo/subjects/things/thing_editor-034fdac61599b911f523f6b8a1ec522f8282475ed01b6ef8b8da672115f6937c.html" for 127.0.0.1 at 2019-10-13 10:53:39 +0200


Started GET "/assets/spa-demo/subjects/things/thing_selector-c687d3c1f0507bfdecf31aa0aa5d94a1ea0de6fe7cbe3dd30c3eeced1be905dc.html" for 127.0.0.1 at 2019-10-13 10:53:39 +0200


Started GET "/api/things" for 127.0.0.1 at 2019-10-13 10:53:39 +0200
Processing by ThingsController#index as JSON


Started GET "/assets/spa-demo/layout/image_viewer/image_viewer-8060856ae2d8983855e7f4950304e65d7bff5df0894295984e4dbca365986bc2.html" for 127.0.0.1 at 2019-10-13 10:53:39 +0200
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (2.9ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3[0m
  Rendered things/_thing.json.jbuilder (1.2ms)
  Rendered things/_thing.json.jbuilder (0.7ms)
  Rendered things/index.json.jbuilder (7.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:39.713+02:00\"}}"], ["updated_at", "2019-10-13 08:53:39.717399"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 100ms (Views: 17.2ms | ActiveRecord: 7.8ms)


Started GET "/api/things/1/thing_images" for 127.0.0.1 at 2019-10-13 10:53:41 +0200


Started GET "/api/things/1" for 127.0.0.1 at 2019-10-13 10:53:41 +0200
Processing by ThingImagesController#index as JSON
  Parameters: {"thing_id"=>"1"}
  [1m[35mThing Load (1.1ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mThing Load (1.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mThingImage Load (2.3ms)[0m  SELECT thing_images.*, images.id as image_id, images.caption as image_caption FROM "thing_images" right outer join images on images.id = thing_images.image_id WHERE "thing_images"."thing_id" = $1  ORDER BY "thing_images"."priority" ASC  [["thing_id", 1]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.4ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 1]]
  Rendered things/_thing.json.jbuilder (1.0ms)
  Rendered things/show.json.jbuilder (2.4ms)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:41.719+02:00\"}}"], ["updated_at", "2019-10-13 08:53:41.720078"], ["id", 3]]
  Rendered thing_images/index.json.jbuilder (35.2ms)
  [1m[35m (1.5ms)[0m  COMMIT
Completed 200 OK in 63ms (Views: 7.6ms | ActiveRecord: 7.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"expiry\":1572170009,\"last_token\":\"$2a$12$88uQorVUoyToavMME2zvoe48duWXOPaFTflz9F2viI4CNyjSVS07S\",\"updated_at\":\"2019-10-13T10:53:41.728+02:00\"}}"], ["updated_at", "2019-10-13 08:53:41.730468"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 84ms (Views: 39.6ms | ActiveRecord: 7.8ms)




Started GET "/api/images/1/content?height=67&width=1200" for 127.0.0.1 at 2019-10-13 10:53:41 +0200
Started GET "/api/images/2/content?height=67&width=1200" for 127.0.0.1 at 2019-10-13 10:53:41 +0200
Processing by ImagesController#content as JPEG
  Parameters: {"height"=>"67", "width"=>"1200", "id"=>"1"}
Processing by ImagesController#content as JPEG
  Parameters: {"height"=>"67", "width"=>"1200", "id"=>"2"}
  [1m[36mImage Load (0.4ms)[0m  [1mSELECT  "images".* FROM "images" WHERE "images"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[36mImage Load (0.3ms)[0m  [1mSELECT  "images".* FROM "images" WHERE "images"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered text template (0.0ms)
Sent data Front of Museum Restored: 1884 B&O Railroad Museum Roundhouse.jpg (1.1ms)
Completed 200 OK in 11ms (Views: 0.9ms | ActiveRecord: 0.4ms)
  Rendered text template (0.1ms)
Sent data Roundhouse Inside: One-of-a-Kind Railroad Collection inside the B&O Roundhouse.jpg (5.2ms)
Completed 200 OK in 43ms (Views: 5.0ms | ActiveRecord: 0.3ms)


Started GET "/api/images/3/content?height=67&width=1200" for 127.0.0.1 at 2019-10-13 10:53:41 +0200
Processing by ImagesController#content as JPEG
  Parameters: {"height"=>"67", "width"=>"1200", "id"=>"3"}
  [1m[35mImage Load (0.6ms)[0m  SELECT  "images".* FROM "images" WHERE "images"."id" = $1 LIMIT 1  [["id", 3]]
  Rendered text template (0.0ms)
Sent data 40 acres of railroad history at the B&O Railroad Museum.jpg (0.7ms)
Completed 200 OK in 16ms (Views: 0.5ms | ActiveRecord: 0.6ms)


Started GET "/assets/spa-demo/pages/subjects_page-d07c30ba44f1034b5f3c13b58370f2edad3ef47b2f9c48fc1637ed1c0cc5b96a.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_images-c3753bab2a231eada127c95394e4d053ead90a31ff2bc130b30f06e10868eaf9.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_image_viewer-6e2b1180de5e34285509998cd11d2573db371feeaab5cd7665b02c8dd1f405bf.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_thing_info-2e24ad465c87f9b898c8e540dd72f2317eb3bc1e2fd98a79b61b8fa9ebb12028.html" for 127.0.0.1 at 2019-10-13 10:53:49 +0200




Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-13 10:53:49 +0200
Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-13 10:53:49 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.3ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.3ms)
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[36m (1.9ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 19ms (ActiveRecord: 1.9ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-13 10:53:49 +0200


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-13 10:53:49 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.6ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mThing Load (0.4ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  [1m[36mRole Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 2]]
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/show.json.jbuilder (1.7ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered things/_thing.json.jbuilder (1.6ms)
  Rendered things/show.json.jbuilder (3.7ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"expiry\":1572170029,\"last_token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"updated_at\":\"2019-10-13T10:53:49.499+02:00\"}}"], ["updated_at", "2019-10-13 08:53:49.816775"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (319.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 338ms (Views: 3.0ms | ActiveRecord: 4.7ms)
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"expiry\":1572170029,\"last_token\":\"$2a$12$QrwrUhSRRTYgn9l1TVTo9eor/3xzTzwvQ79GxLR/oI2BBaeyHQjQC\",\"updated_at\":\"2019-10-13T10:53:49.824+02:00\"}}"], ["updated_at", "2019-10-13 08:53:49.826687"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 347ms (Views: 5.2ms | ActiveRecord: 323.0ms)


Started GET "/api/things/6" for 127.0.0.1 at 2019-10-13 10:54:09 +0200


Started GET "/api/things/6" for 127.0.0.1 at 2019-10-13 10:54:09 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"6"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 6]]
Processing by ThingsController#show as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  Parameters: {"id"=>"6"}
  [1m[36mThing Load (0.4ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 6]]
  [1m[35mThing Load (0.5ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 6]]
  [1m[36mRole Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mRole Exists (0.5ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (2.8ms)
  Rendered things/_thing.json.jbuilder (3.0ms)
  Rendered things/show.json.jbuilder (4.3ms)
  Rendered things/show.json.jbuilder (6.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35m (7.2ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:09.977+02:00\"}}"], ["updated_at", "2019-10-13 08:54:10.280617"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
  [1m[36mUser Load (299.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 644ms (Views: 5.4ms | ActiveRecord: 5.7ms)
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:10.286+02:00\"}}"], ["updated_at", "2019-10-13 08:54:10.288577"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 650ms (Views: 7.7ms | ActiveRecord: 309.9ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 10:54:12 +0200


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 10:54:12 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mThing Load (0.4ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.5ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 3]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.4ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  Rendered things/_thing.json.jbuilder (1.6ms)
  Rendered things/show.json.jbuilder (2.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.9ms)
  Rendered things/show.json.jbuilder (2.5ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:12.429+02:00\"}}"], ["updated_at", "2019-10-13 08:54:12.430103"], ["id", 3]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (4.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 318ms (Views: 2.7ms | ActiveRecord: 5.4ms)
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:12.438+02:00\"}}"], ["updated_at", "2019-10-13 08:54:12.441179"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 331ms (Views: 3.1ms | ActiveRecord: 7.1ms)


Started GET "/api/things/1" for 127.0.0.1 at 2019-10-13 10:54:14 +0200


Started GET "/api/things/1" for 127.0.0.1 at 2019-10-13 10:54:14 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 1]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 1]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/show.json.jbuilder (1.2ms)
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 1]]
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered things/_thing.json.jbuilder (0.9ms)
  Rendered things/show.json.jbuilder (1.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:14.151+02:00\"}}"], ["updated_at", "2019-10-13 08:54:14.153184"], ["id", 3]]
  [1m[35mUser Load (7.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 24ms (Views: 2.1ms | ActiveRecord: 7.2ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:14.163+02:00\"}}"], ["updated_at", "2019-10-13 08:54:14.165061"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 32ms (Views: 3.3ms | ActiveRecord: 10.3ms)


Started GET "/api/things/5" for 127.0.0.1 at 2019-10-13 10:54:17 +0200


Started GET "/api/things/5" for 127.0.0.1 at 2019-10-13 10:54:17 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 5]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (2.0ms)
  Rendered things/show.json.jbuilder (3.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mThing Load (2.6ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 5]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:17.593+02:00\"}}"], ["updated_at", "2019-10-13 08:54:17.594223"], ["id", 3]]
  Rendered things/_thing.json.jbuilder (2.0ms)
  Rendered things/show.json.jbuilder (3.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 21ms (Views: 4.2ms | ActiveRecord: 4.7ms)
  [1m[35mSQL (13.7ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"expiry\":1572170049,\"last_token\":\"$2a$12$iTsubhOAfoW4V01umDcy8OQdCA92lw7pK1eN7PcndWnKXEDSNc5zW\",\"updated_at\":\"2019-10-13T10:54:17.602+02:00\"}}"], ["updated_at", "2019-10-13 08:54:17.603808"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 41ms (Views: 4.2ms | ActiveRecord: 21.5ms)


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-13 10:54:40 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-13 10:54:40 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-13 10:54:40 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 10:54:40 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.1ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"expiry\":1572170080,\"last_token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"updated_at\":\"2019-10-13T10:54:40.987+02:00\"}}"], ["updated_at", "2019-10-13 08:54:41.268105"], ["id", 3]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 314ms (Views: 11.4ms | ActiveRecord: 5.3ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-13 10:54:42 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-13 10:54:42 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (0.5ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"expiry\":1572170080,\"last_token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"updated_at\":\"2019-10-13T10:54:43.022+02:00\"}}"], ["updated_at", "2019-10-13 08:54:43.023659"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 316ms (Views: 2.5ms | ActiveRecord: 2.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-13 10:54:43 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mThing Load (4.1ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  [1m[36mThingType Load (0.9ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered things/index.json.jbuilder (0.5ms)
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (16.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"expiry\":1572170080,\"last_token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"updated_at\":\"2019-10-13T10:54:43.084+02:00\"}}"], ["updated_at", "2019-10-13 08:54:43.085169"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (2.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 40ms (Views: 7.0ms | ActiveRecord: 7.9ms)
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"expiry\":1572170080,\"last_token\":\"$2a$12$BkBR8QKPQZrvnKOSp84zS.IY9UW2XmrseRrg2t1ELsu46vx.yUN4K\",\"updated_at\":\"2019-10-13T10:54:43.091+02:00\"}}"], ["updated_at", "2019-10-13 08:54:43.093358"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 372ms (Views: 25.5ms | ActiveRecord: 12.1ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-13 10:54:45 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 10:55:06 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.1ms)
  Rendered types/index.json.jbuilder (2.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"expiry\":1572170106,\"last_token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"updated_at\":\"2019-10-13T10:55:06.467+02:00\"}}"], ["updated_at", "2019-10-13 08:55:06.746532"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 307ms (Views: 12.8ms | ActiveRecord: 3.8ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-13 10:55:07 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-13 10:55:07 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (1.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.9ms)
  [1m[35mThingType Load (0.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 20]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"expiry\":1572170106,\"last_token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"updated_at\":\"2019-10-13T10:55:08.283+02:00\"}}"], ["updated_at", "2019-10-13 08:55:08.284682"], ["id", 3]]
  Rendered thing_types/index.json.jbuilder (7.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (5.4ms)[0m  COMMIT
  [1m[35mUser Load (3.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 323ms (Views: 2.7ms | ActiveRecord: 7.9ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"expiry\":1572170106,\"last_token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"updated_at\":\"2019-10-13T10:55:08.293+02:00\"}}"], ["updated_at", "2019-10-13 08:55:08.295283"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 328ms (Views: 6.7ms | ActiveRecord: 7.7ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-13 10:55:08 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mThing Load (0.9ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (0.5ms)
  Rendered things/index.json.jbuilder (2.2ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"expiry\":1572170106,\"last_token\":\"$2a$12$cSI2UqhTktUWnq6VCjBXTOPJduzjk6Pokvh2XJX4TK0LSAhXxy/xu\",\"updated_at\":\"2019-10-13T10:55:08.327+02:00\"}}"], ["updated_at", "2019-10-13 08:55:08.330527"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 22ms (Views: 4.2ms | ActiveRecord: 3.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 10:55:40 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.0ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/index.json.jbuilder (5.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"expiry\":1572170140,\"last_token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"updated_at\":\"2019-10-13T10:55:40.482+02:00\"}}"], ["updated_at", "2019-10-13 08:55:40.763014"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 308ms (Views: 8.1ms | ActiveRecord: 4.9ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 10:55:42 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 10:55:42 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/show.json.jbuilder (0.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"expiry\":1572170140,\"last_token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"updated_at\":\"2019-10-13T10:55:42.460+02:00\"}}"], ["updated_at", "2019-10-13 08:55:42.461621"], ["id", 3]]
  [1m[36mThingType Load (0.4ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.8ms)
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 316ms (Views: 1.6ms | ActiveRecord: 4.4ms)
  [1m[35m (0.1ms)[0m  BEGIN


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 10:55:42 +0200
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"expiry\":1572170140,\"last_token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"updated_at\":\"2019-10-13T10:55:42.470+02:00\"}}"], ["updated_at", "2019-10-13 08:55:42.472051"], ["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 325ms (Views: 2.3ms | ActiveRecord: 5.5ms)
  [1m[35mType Load (0.4ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.8ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"expiry\":1572170140,\"last_token\":\"$2a$12$Z8C22I8Rz/GqEV6jrcOu6OJYae7fQFsLtftUW5JUyF/xYOMR5GJOS\",\"updated_at\":\"2019-10-13T10:55:42.497+02:00\"}}"], ["updated_at", "2019-10-13 08:55:42.498552"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 2.4ms | ActiveRecord: 4.2ms)


Started GET "/api/things/5" for 127.0.0.1 at 2019-10-13 10:56:17 +0200


Started GET "/api/things/5" for 127.0.0.1 at 2019-10-13 10:56:17 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 5]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThing Load (0.2ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mRole Exists (1.0ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 5]]
  [1m[36mThing Load (2.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 5]]
  [1m[35mRole Exists (0.7ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (2.5ms)
  Rendered things/show.json.jbuilder (3.6ms)
  [1m[35mRole Exists (1.9ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (3.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  Rendered things/show.json.jbuilder (5.0ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:17.271+02:00\"}}"], ["updated_at", "2019-10-13 08:56:17.589493"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[35mUser Load (328.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 345ms (Views: 4.1ms | ActiveRecord: 6.5ms)


Started GET "/api/things/5" for 127.0.0.1 at 2019-10-13 10:56:17 +0200
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:17.602+02:00\"}}"], ["updated_at", "2019-10-13 08:56:17.605363"], ["id", 3]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 5]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 364ms (Views: 4.4ms | ActiveRecord: 337.2ms)
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.2ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 5]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.3ms)
  Rendered things/show.json.jbuilder (2.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:18.214+02:00\"}}"], ["updated_at", "2019-10-13 08:56:18.215179"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 604ms (Views: 2.6ms | ActiveRecord: 4.2ms)


Started GET "/api/things/5" for 127.0.0.1 at 2019-10-13 10:56:18 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"5"}
  [1m[35mThing Load (0.2ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 5]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 5]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.2ms)
  Rendered things/show.json.jbuilder (1.8ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:18.806+02:00\"}}"], ["updated_at", "2019-10-13 08:56:18.807778"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 585ms (Views: 2.4ms | ActiveRecord: 4.2ms)


Started GET "/api/things/6" for 127.0.0.1 at 2019-10-13 10:56:19 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"6"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 6]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (4.3ms)
  Rendered things/show.json.jbuilder (5.4ms)
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:20.124+02:00\"}}"], ["updated_at", "2019-10-13 08:56:20.128169"], ["id", 3]]
  [1m[36m (3.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 345ms (Views: 6.7ms | ActiveRecord: 7.0ms)


Started GET "/api/things/6" for 127.0.0.1 at 2019-10-13 10:56:20 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"6"}
  [1m[35mThing Load (0.2ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 6]]
  [1m[35mRole Exists (0.9ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (3.6ms)
  Rendered things/show.json.jbuilder (4.8ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:20.180+02:00\"}}"], ["updated_at", "2019-10-13 08:56:20.181630"], ["id", 3]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 5.2ms | ActiveRecord: 6.1ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 10:56:23 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.3ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 3]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (3.9ms)
  Rendered things/show.json.jbuilder (4.8ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:23.148+02:00\"}}"], ["updated_at", "2019-10-13 08:56:23.149057"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 25ms (Views: 5.7ms | ActiveRecord: 4.7ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 10:56:23 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.2ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (4.6ms)
  Rendered things/show.json.jbuilder (6.1ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"expiry\":1572170177,\"last_token\":\"$2a$12$vq7b..W/zGYFcv56IcgwPOkNueV3HBGhE7G3PafJAo53fpA6vmy7m\",\"updated_at\":\"2019-10-13T10:56:23.186+02:00\"}}"], ["updated_at", "2019-10-13 08:56:23.188818"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 24ms (Views: 7.4ms | ActiveRecord: 3.4ms)


Started GET "/api/things/1" for 127.0.0.1 at 2019-10-13 10:56:30 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.3ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 1]]
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/show.json.jbuilder (2.6ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$RE1G4wSLjR4tZp.koT0pKewRwz.aqE.IML4QnW/Hm6ykT5TH3TdJC\",\"expiry\":1572170190,\"last_token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"updated_at\":\"2019-10-13T10:56:30.474+02:00\"}}"], ["updated_at", "2019-10-13 08:56:30.773407"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 324ms (Views: 3.8ms | ActiveRecord: 5.0ms)


Started GET "/api/things/1" for 127.0.0.1 at 2019-10-13 10:56:30 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"1"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.2ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 1]]
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/show.json.jbuilder (1.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$RE1G4wSLjR4tZp.koT0pKewRwz.aqE.IML4QnW/Hm6ykT5TH3TdJC\",\"expiry\":1572170190,\"last_token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"updated_at\":\"2019-10-13T10:56:31.366+02:00\"}}"], ["updated_at", "2019-10-13 08:56:31.367369"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 574ms (Views: 1.8ms | ActiveRecord: 4.0ms)


Started GET "/api/things/4" for 127.0.0.1 at 2019-10-13 10:56:34 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"4"}
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.2ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 4]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.3ms)
  Rendered things/show.json.jbuilder (1.8ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$RE1G4wSLjR4tZp.koT0pKewRwz.aqE.IML4QnW/Hm6ykT5TH3TdJC\",\"expiry\":1572170190,\"last_token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"updated_at\":\"2019-10-13T10:56:34.795+02:00\"}}"], ["updated_at", "2019-10-13 08:56:34.796375"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 294ms (Views: 2.3ms | ActiveRecord: 3.6ms)


Started GET "/api/things/4" for 127.0.0.1 at 2019-10-13 10:56:34 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"4"}
  [1m[35mThing Load (0.2ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 4]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (3.5ms)
  Rendered things/show.json.jbuilder (4.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$RE1G4wSLjR4tZp.koT0pKewRwz.aqE.IML4QnW/Hm6ykT5TH3TdJC\",\"expiry\":1572170190,\"last_token\":\"$2a$12$dNis91x8XjaaJOMqOVdFl.JiM9z6iNh7B7J4CBfSRzwbC79kaHkbW\",\"updated_at\":\"2019-10-13T10:56:34.826+02:00\"}}"], ["updated_at", "2019-10-13 08:56:34.827430"], ["id", 3]]
  [1m[35m (0.8ms)[0m  COMMIT
Completed 200 OK in 22ms (Views: 5.8ms | ActiveRecord: 3.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 10:56:44 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$n3MzTTZsyoqZCT9sQtBh0OYu6VluvhYCUjGTnX7hxaQunLD8uBuUu\",\"expiry\":1572170204,\"last_token\":\"$2a$12$RE1G4wSLjR4tZp.koT0pKewRwz.aqE.IML4QnW/Hm6ykT5TH3TdJC\",\"updated_at\":\"2019-10-13T10:56:44.330+02:00\"}}"], ["updated_at", "2019-10-13 08:56:44.610726"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
Completed 200 OK in 299ms (Views: 3.9ms | ActiveRecord: 4.2ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 10:56:50 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 10:56:50 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.6ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"expiry\":1572170210,\"last_token\":\"$2a$12$n3MzTTZsyoqZCT9sQtBh0OYu6VluvhYCUjGTnX7hxaQunLD8uBuUu\",\"updated_at\":\"2019-10-13T10:56:50.575+02:00\"}}"], ["updated_at", "2019-10-13 08:56:50.863263"], ["id", 3]]
  [1m[36m (2.5ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (284.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 607ms (Views: 1.8ms | ActiveRecord: 4.2ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 10:56:50 +0200
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"expiry\":1572170210,\"last_token\":\"$2a$12$n3MzTTZsyoqZCT9sQtBh0OYu6VluvhYCUjGTnX7hxaQunLD8uBuUu\",\"updated_at\":\"2019-10-13T10:56:50.869+02:00\"}}"], ["updated_at", "2019-10-13 08:56:50.871498"], ["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36m (1.5ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 604ms (Views: 1.9ms | ActiveRecord: 287.5ms)
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (1.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"expiry\":1572170210,\"last_token\":\"$2a$12$n3MzTTZsyoqZCT9sQtBh0OYu6VluvhYCUjGTnX7hxaQunLD8uBuUu\",\"updated_at\":\"2019-10-13T10:56:51.467+02:00\"}}"], ["updated_at", "2019-10-13 08:56:51.468690"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 597ms (Views: 2.3ms | ActiveRecord: 4.3ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 11:05:57 +0200


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 11:05:57 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (3.6ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (3.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (1.0ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/index.json.jbuilder (1.7ms)
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"expiry\":1572170758,\"last_token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"updated_at\":\"2019-10-13T11:05:58.303+02:00\"}}"], ["updated_at", "2019-10-13 09:05:58.589666"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (277.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 621ms (Views: 3.3ms | ActiveRecord: 9.3ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 11:05:58 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"expiry\":1572170758,\"last_token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"updated_at\":\"2019-10-13T11:05:58.595+02:00\"}}"], ["updated_at", "2019-10-13 09:05:58.597116"], ["id", 3]]
  [1m[35m (2.0ms)[0m  COMMIT
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
Completed 200 OK in 619ms (Views: 4.4ms | ActiveRecord: 284.8ms)
  [1m[35mType Load (0.5ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mThingType Load (0.5ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (2.0ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"expiry\":1572170758,\"last_token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"updated_at\":\"2019-10-13T11:05:59.175+02:00\"}}"], ["updated_at", "2019-10-13 09:05:59.176473"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 578ms (Views: 2.5ms | ActiveRecord: 4.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:06:00 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.3ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.4ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"expiry\":1572170758,\"last_token\":\"$2a$12$.Qct1YRHeWrEVlP.XXj5CeoVX5RKZLxLjPomNihz8t7tAa8gDC3wW\",\"updated_at\":\"2019-10-13T11:06:00.488+02:00\"}}"], ["updated_at", "2019-10-13 09:06:00.489593"], ["id", 3]]
  [1m[35m (2.8ms)[0m  COMMIT
Completed 200 OK in 321ms (Views: 3.2ms | ActiveRecord: 6.3ms)


Started GET "/" for 127.0.0.1 at 2019-10-13 11:06:04 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (764.1ms)
Completed 200 OK in 766ms (Views: 765.2ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing.service.self-9409d3abb9bc666da47b743cc792dfb8dec66c827364af594105e5b3ffedafc1.js?body=1" for 127.0.0.1 at 2019-10-13 11:06:05 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-13 11:06:06 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-13 11:06:06 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (4.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-13 11:06:06 +0200
  [1m[35m (5.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-13 11:06:06 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-13 11:06:06 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-13 11:06:06 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 11:06:06 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:06.183+02:00\"}}"], ["updated_at", "2019-10-13 09:06:06.530381"], ["id", 3]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 385ms (Views: 0.3ms | ActiveRecord: 13.5ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-13 11:06:06 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:06:06 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (3.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.7ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:06.776+02:00\"}}"], ["updated_at", "2019-10-13 09:06:06.778233"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 378ms (Views: 1.9ms | ActiveRecord: 4.2ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:06:06 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:07.159+02:00\"}}"], ["updated_at", "2019-10-13 09:06:07.161088"], ["id", 3]]
  [1m[35m (4.2ms)[0m  COMMIT
Completed 200 OK in 362ms (Views: 8.7ms | ActiveRecord: 7.4ms)
  [1m[36mType Load (0.8ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.8ms)
  Rendered types/_type.json.jbuilder (0.7ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (8.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:07.410+02:00\"}}"], ["updated_at", "2019-10-13 09:06:07.415505"], ["id", 3]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 746ms (Views: 11.0ms | ActiveRecord: 8.8ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 11:06:07 +0200
Processing by AuthnController#whoami as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.4ms)[0m  [1mSELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)[0m  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:07.810+02:00\"}}"], ["updated_at", "2019-10-13 09:06:07.811193"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 361ms (Views: 7.1ms | ActiveRecord: 4.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-13 11:06:09 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.9ms)
  Rendered types/show.json.jbuilder (1.9ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-13 11:06:09 +0200
  [1m[36m (2.9ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mUser Load (2.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:09.428+02:00\"}}"], ["updated_at", "2019-10-13 09:06:09.433875"], ["id", 3]]
  [1m[36mThing Load (1.8ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))[0m
  [1m[35m (3.1ms)[0m  COMMIT
  Rendered things/index.json.jbuilder (0.1ms)
Completed 200 OK in 31ms (Views: 2.8ms | ActiveRecord: 8.2ms)


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-13 11:06:09 +0200
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:09.451+02:00\"}}"], ["updated_at", "2019-10-13 09:06:09.453775"], ["id", 3]]
  [1m[36mType Load (1.7ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 4.2ms | ActiveRecord: 6.5ms)
  [1m[36mThingType Load (0.7ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (3.1ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"expiry\":1572170766,\"last_token\":\"$2a$12$pr4TwM72GuQow3F8IwHKceLQLQdidlypdJIkpCZOAmRgDdLNICpu6\",\"updated_at\":\"2019-10-13T11:06:09.472+02:00\"}}"], ["updated_at", "2019-10-13 09:06:09.476143"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 29ms (Views: 3.5ms | ActiveRecord: 6.6ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-13 11:06:11 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-13 11:06:11 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.6ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
Completed 304 Not Modified in 3ms (ActiveRecord: 1.6ms)
  [1m[35m (2.9ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 6ms (ActiveRecord: 2.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:06:22 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/_type.json.jbuilder (1.3ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.5ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Ag4aMx657Up95z9a.qhTiuYwZSJrLq7jMHQCVkS4cHcdhchwF4ZRK\",\"expiry\":1572170782,\"last_token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"updated_at\":\"2019-10-13T11:06:22.190+02:00\"}}"], ["updated_at", "2019-10-13 09:06:22.473767"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 310ms (Views: 9.2ms | ActiveRecord: 2.9ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-13 11:06:23 +0200


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-13 11:06:23 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.6ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mThingType Load (0.5ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (2.6ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Ag4aMx657Up95z9a.qhTiuYwZSJrLq7jMHQCVkS4cHcdhchwF4ZRK\",\"expiry\":1572170782,\"last_token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"updated_at\":\"2019-10-13T11:06:24.064+02:00\"}}"], ["updated_at", "2019-10-13 09:06:24.065937"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 316ms (Views: 2.2ms | ActiveRecord: 2.6ms)
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Ag4aMx657Up95z9a.qhTiuYwZSJrLq7jMHQCVkS4cHcdhchwF4ZRK\",\"expiry\":1572170782,\"last_token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"updated_at\":\"2019-10-13T11:06:24.071+02:00\"}}"], ["updated_at", "2019-10-13 09:06:24.072968"], ["id", 3]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 324ms (Views: 4.0ms | ActiveRecord: 5.3ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-13 11:06:24 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mThing Load (1.1ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))
  Rendered things/_thing.json.jbuilder (2.3ms)
  Rendered things/index.json.jbuilder (4.9ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Ag4aMx657Up95z9a.qhTiuYwZSJrLq7jMHQCVkS4cHcdhchwF4ZRK\",\"expiry\":1572170782,\"last_token\":\"$2a$12$pFZAIIvz1VXPH0NkstO6Duo1oDzm/JVIg.Lo5chPLZOUexW7d9fma\",\"updated_at\":\"2019-10-13T11:06:24.115+02:00\"}}"], ["updated_at", "2019-10-13 09:06:24.116964"], ["id", 3]]
  [1m[35m (2.0ms)[0m  COMMIT
Completed 200 OK in 35ms (Views: 7.5ms | ActiveRecord: 5.0ms)


Started GET "/assets/spa-demo/pages/subjects_page-d07c30ba44f1034b5f3c13b58370f2edad3ef47b2f9c48fc1637ed1c0cc5b96a.html" for 127.0.0.1 at 2019-10-13 11:06:44 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_images-c3753bab2a231eada127c95394e4d053ead90a31ff2bc130b30f06e10868eaf9.html" for 127.0.0.1 at 2019-10-13 11:06:44 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_image_viewer-6e2b1180de5e34285509998cd11d2573db371feeaab5cd7665b02c8dd1f405bf.html" for 127.0.0.1 at 2019-10-13 11:06:44 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_thing_info-2e24ad465c87f9b898c8e540dd72f2317eb3bc1e2fd98a79b61b8fa9ebb12028.html" for 127.0.0.1 at 2019-10-13 11:06:44 +0200


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-13 11:06:44 +0200


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-13 11:06:44 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[36mThing Load (0.4ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.6ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.3ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 2]]
  [1m[35mRole Exists (0.6ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (0.6ms)
  Rendered things/show.json.jbuilder (1.5ms)
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  Rendered things/_thing.json.jbuilder (0.8ms)
  Rendered things/show.json.jbuilder (2.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$REwyxMSGN7etgmFCEpv60ewSDpLxNOpFNNA90dJqo9eXvK2NYEQTK\",\"expiry\":1572170804,\"last_token\":\"$2a$12$Ag4aMx657Up95z9a.qhTiuYwZSJrLq7jMHQCVkS4cHcdhchwF4ZRK\",\"updated_at\":\"2019-10-13T11:06:44.285+02:00\"}}"], ["updated_at", "2019-10-13 09:06:44.603714"], ["id", 3]]
  [1m[35m (2.9ms)[0m  COMMIT
  [1m[36mUser Load (323.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 341ms (Views: 2.5ms | ActiveRecord: 5.4ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$REwyxMSGN7etgmFCEpv60ewSDpLxNOpFNNA90dJqo9eXvK2NYEQTK\",\"expiry\":1572170804,\"last_token\":\"$2a$12$Ag4aMx657Up95z9a.qhTiuYwZSJrLq7jMHQCVkS4cHcdhchwF4ZRK\",\"updated_at\":\"2019-10-13T11:06:44.614+02:00\"}}"], ["updated_at", "2019-10-13 09:06:44.617243"], ["id", 3]]
  [1m[36m (1.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 353ms (Views: 3.3ms | ActiveRecord: 327.9ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:13:35 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Wpwxuqe5p3Qa7dCW/718AeRwZAzyFMCcGk0VvCInrKkLFg.7J18ke\",\"expiry\":1572171215,\"last_token\":\"$2a$12$REwyxMSGN7etgmFCEpv60ewSDpLxNOpFNNA90dJqo9eXvK2NYEQTK\",\"updated_at\":\"2019-10-13T11:13:35.306+02:00\"}}"], ["updated_at", "2019-10-13 09:13:35.594239"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 589ms (Views: 4.3ms | ActiveRecord: 3.8ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-13 11:14:04 +0200


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-13 11:14:04 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (1.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mThingType Load (0.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (2.7ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"expiry\":1572171245,\"last_token\":\"$2a$12$Wpwxuqe5p3Qa7dCW/718AeRwZAzyFMCcGk0VvCInrKkLFg.7J18ke\",\"updated_at\":\"2019-10-13T11:14:05.058+02:00\"}}"], ["updated_at", "2019-10-13 09:14:05.345035"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
  [1m[36mUser Load (284.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 618ms (Views: 2.1ms | ActiveRecord: 4.9ms)
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"expiry\":1572171245,\"last_token\":\"$2a$12$Wpwxuqe5p3Qa7dCW/718AeRwZAzyFMCcGk0VvCInrKkLFg.7J18ke\",\"updated_at\":\"2019-10-13T11:14:05.351+02:00\"}}"], ["updated_at", "2019-10-13 09:14:05.353438"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 624ms (Views: 3.4ms | ActiveRecord: 289.8ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-13 11:14:05 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (4.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (0.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"expiry\":1572171245,\"last_token\":\"$2a$12$Wpwxuqe5p3Qa7dCW/718AeRwZAzyFMCcGk0VvCInrKkLFg.7J18ke\",\"updated_at\":\"2019-10-13T11:14:05.962+02:00\"}}"], ["updated_at", "2019-10-13 09:14:05.963327"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
Completed 200 OK in 604ms (Views: 1.6ms | ActiveRecord: 8.8ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:14:15 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"expiry\":1572171256,\"last_token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"updated_at\":\"2019-10-13T11:14:16.083+02:00\"}}"], ["updated_at", "2019-10-13 09:14:16.370026"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 592ms (Views: 4.6ms | ActiveRecord: 3.8ms)


Started GET "/" for 127.0.0.1 at 2019-10-13 11:14:18 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (737.8ms)
Completed 200 OK in 739ms (Views: 738.9ms | ActiveRecord: 0.0ms)


Started GET "/assets/spa-demo/subjects/types/map/type_things.component.self-691756c48f0dad9e1f4f76acb1a59bcb9f9bba6b0559f6090ac64296b7110ac7.js?body=1" for 127.0.0.1 at 2019-10-13 11:14:19 +0200


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-13 11:14:20 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-13 11:14:20 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-13 11:14:20 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-13 11:14:20 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 11:14:20 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"expiry\":1572171256,\"last_token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"updated_at\":\"2019-10-13T11:14:20.450+02:00\"}}"], ["updated_at", "2019-10-13 09:14:20.452168"], ["id", 3]]
  [1m[36m (5.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 352ms (Views: 0.3ms | ActiveRecord: 6.2ms)


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-13 11:14:20 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:14:20 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (2.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.0ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"expiry\":1572171256,\"last_token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"updated_at\":\"2019-10-13T11:14:20.565+02:00\"}}"], ["updated_at", "2019-10-13 09:14:20.566557"], ["id", 3]]
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 28ms (Views: 4.1ms | ActiveRecord: 5.0ms)
  [1m[35m (0.5ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (1.5ms)
  [1m[36m (3.4ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (3.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"expiry\":1572171256,\"last_token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"updated_at\":\"2019-10-13T11:14:20.628+02:00\"}}"], ["updated_at", "2019-10-13 09:14:20.630975"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 390ms (Views: 3.9ms | ActiveRecord: 11.5ms)


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 11:14:20 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (1.1ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.4ms)
  [1m[36m (1.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (2.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"expiry\":1572171256,\"last_token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"updated_at\":\"2019-10-13T11:14:20.702+02:00\"}}"], ["updated_at", "2019-10-13 09:14:20.703891"], ["id", 3]]
  [1m[35m (1.4ms)[0m  COMMIT
Completed 200 OK in 21ms (Views: 1.5ms | ActiveRecord: 8.0ms)


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-13 11:14:20 +0200


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-13 11:14:20 +0200


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:14:20 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (1.7ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (11.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"expiry\":1572171256,\"last_token\":\"$2a$12$q.UNr6gnBSP4x56VeQKTQO5v1PBjGotx88MAM49p5vPwlw/D4qH4.\",\"updated_at\":\"2019-10-13T11:14:20.928+02:00\"}}"], ["updated_at", "2019-10-13 09:14:20.930472"], ["id", 3]]
  [1m[36m (1.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 35ms (Views: 13.3ms | ActiveRecord: 4.0ms)


Started GET "/" for 127.0.0.1 at 2019-10-13 11:14:30 +0200
Processing by UiController#index as HTML
  Rendered ui/index.html.erb (212.4ms)
Completed 200 OK in 215ms (Views: 214.4ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2019-10-13 11:14:30 +0200


Started GET "/assets/spa-demo/layout/navbar/navbar-a3a14ff868596dd83779d7d3442f325c2afda7be14eb01d80ef6e09dcf1192cc.html" for 127.0.0.1 at 2019-10-13 11:14:30 +0200
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]


Started GET "/assets/spa-demo/pages/types_page-9f2c459714d0a7780f18a93d6535f82148b60d94dc100ac9f878e8919eec15bc.html" for 127.0.0.1 at 2019-10-13 11:14:30 +0200


Started GET "/assets/spa-demo/geoloc/current_origin/current_origin_selector-4e5620371d52202d514590fd0f99333b8c3c61fc81e44e51397650c6107ba2e6.html" for 127.0.0.1 at 2019-10-13 11:14:30 +0200


Started GET "/assets/spa-demo/subjects/types/type_editor-4fa6a6fe01e869606c1205f9b641df4517cdfbad84db8761295bbb439e81356a.html" for 127.0.0.1 at 2019-10-13 11:14:31 +0200


Started GET "/assets/spa-demo/subjects/types/type_selector-f5541a9c272f7456eed0896e7871c633a9be12f7995322060d3c6d217957baa9.html" for 127.0.0.1 at 2019-10-13 11:14:31 +0200


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 11:14:31 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.8ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.5ms)
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (2.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:30.846+02:00\"}}"], ["updated_at", "2019-10-13 09:14:31.178858"], ["id", 3]]
  [1m[35m (2.5ms)[0m  COMMIT
  [1m[35mUser Load (118.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 349ms (Views: 0.2ms | ActiveRecord: 6.9ms)


Started GET "/assets/spa-demo/authn/authn_session/authn_session-febc3c956a8a908d42a91c083d0e8ce6ca7bf3bbe676f7c288cd2adaabd9e8f4.html" for 127.0.0.1 at 2019-10-13 11:14:31 +0200
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:31.199+02:00\"}}"], ["updated_at", "2019-10-13 09:14:31.202895"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 159ms (Views: 4.3ms | ActiveRecord: 121.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:14:31 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/authn/whoami" for 127.0.0.1 at 2019-10-13 11:14:31 +0200
Processing by AuthnController#whoami as JSON
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35m (0.5ms)[0m  SELECT "roles"."role_name", "roles"."mname" FROM "roles" WHERE "roles"."user_id" = $1 AND (mid is null)  [["user_id", 3]]
  Rendered authn/whoami.json.jbuilder (0.3ms)
  [1m[36m (2.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:31.672+02:00\"}}"], ["updated_at", "2019-10-13 09:14:31.673488"], ["id", 3]]
  [1m[35m (4.4ms)[0m  COMMIT
Completed 200 OK in 354ms (Views: 1.2ms | ActiveRecord: 8.4ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:14:31 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (2.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:31.712+02:00\"}}"], ["updated_at", "2019-10-13 09:14:31.713405"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 25ms (Views: 4.7ms | ActiveRecord: 4.7ms)
  [1m[35mType Load (0.6ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.3ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:31.884+02:00\"}}"], ["updated_at", "2019-10-13 09:14:31.885638"], ["id", 3]]
  [1m[35m (2.3ms)[0m  COMMIT
Completed 200 OK in 644ms (Views: 3.1ms | ActiveRecord: 4.0ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-13 11:14:35 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[36mType Load (0.4ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-13 11:14:35 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (1.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (2.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (4.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (7.0ms)
  [1m[35m (1.4ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:35.709+02:00\"}}"], ["updated_at", "2019-10-13 09:14:35.710602"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 37ms (Views: 3.7ms | ActiveRecord: 14.2ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-13 11:14:35 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (1.6ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:35.750+02:00\"}}"], ["updated_at", "2019-10-13 09:14:35.751823"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 25ms (Views: 2.5ms | ActiveRecord: 5.8ms)
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"expiry\":1572171270,\"last_token\":\"$2a$12$8E3klVdJfNwZPwkH3XovdusxFt.eBeK/4shYn7khWlBQVqcL7nHq6\",\"updated_at\":\"2019-10-13T11:14:35.988+02:00\"}}"], ["updated_at", "2019-10-13 09:14:35.989787"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 323ms (Views: 2.2ms | ActiveRecord: 4.3ms)


Started GET "/assets/spa-demo/subjects/types/map/type_thing_map-f59d73e3fd9ff37e6d93d7c42dded92744c41d9e6880b725b3376046c84a7bd0.html" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/assets/spa-demo/layout/areas/areas-45971bb1612786dff04e16f24d7bb7b0879eda0e40650ed944ef3a49bd5f1f69.html" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/assets/spa-demo/layout/areas/area-ddcba5b9ee7dcdd3d6faa7a856059182ba333878bc6f28e3d718e7fdc8edf994.html" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/assets/spa-demo/layout/tabs/tabs-ae22c495dbfb917966bdc4a4939c8134c8058c39d6a6b37dcbe581cd6627edca.html" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/assets/spa-demo/layout/tabs/tab-ca64ac655f93bea43770de6133d6373f585d80bb96647aa695c53e630733e299.html" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_things-25d9e018e4fd7262fd79bc02fc9731841a43de0cc6e7519f632c3d09547d4806.html" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-13 11:14:37 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-13 11:14:37 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[35m (1.0ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
  [1m[36m (2.0ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 5ms (ActiveRecord: 1.0ms)
Completed 304 Not Modified in 6ms (ActiveRecord: 2.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:14:57 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.1ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (4.7ms)
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"expiry\":1572171297,\"last_token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"updated_at\":\"2019-10-13T11:14:57.262+02:00\"}}"], ["updated_at", "2019-10-13 09:14:57.546032"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 307ms (Views: 5.9ms | ActiveRecord: 5.0ms)


Started GET "/api/types/20" for 127.0.0.1 at 2019-10-13 11:14:59 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"20"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/20/thing_types" for 127.0.0.1 at 2019-10-13 11:14:59 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mType Load (0.8ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 20]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.5ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 20]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.0ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"expiry\":1572171297,\"last_token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"updated_at\":\"2019-10-13T11:14:59.385+02:00\"}}"], ["updated_at", "2019-10-13 09:14:59.386647"], ["id", 3]]
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 20]]
  Rendered thing_types/index.json.jbuilder (2.5ms)
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 330ms (Views: 2.0ms | ActiveRecord: 4.4ms)


Started GET "/api/types/20/linkable_things" for 127.0.0.1 at 2019-10-13 11:14:59 +0200
  [1m[35m (5.7ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"20"}
  [1m[36mUser Load (1.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 20]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"expiry\":1572171297,\"last_token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"updated_at\":\"2019-10-13T11:14:59.406+02:00\"}}"], ["updated_at", "2019-10-13 09:14:59.407857"], ["id", 3]]
  [1m[36mThing Load (1.0ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 20))[0m
  Rendered things/_thing.json.jbuilder (1.3ms)
  Rendered things/index.json.jbuilder (2.9ms)
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 348ms (Views: 3.0ms | ActiveRecord: 9.9ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (4.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"expiry\":1572171297,\"last_token\":\"$2a$12$UF7VivRaix.bPTgZDG7.HuK1Uha58VLe/eXrn9Df2fuKatIHpY3Oe\",\"updated_at\":\"2019-10-13T11:14:59.427+02:00\"}}"], ["updated_at", "2019-10-13 09:14:59.428774"], ["id", 3]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 33ms (Views: 5.3ms | ActiveRecord: 8.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:15:13 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.9ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.5ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"expiry\":1572171313,\"last_token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"updated_at\":\"2019-10-13T11:15:13.746+02:00\"}}"], ["updated_at", "2019-10-13 09:15:14.037578"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 313ms (Views: 5.9ms | ActiveRecord: 4.3ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 11:15:15 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 11:15:15 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.4ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"expiry\":1572171313,\"last_token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"updated_at\":\"2019-10-13T11:15:15.507+02:00\"}}"], ["updated_at", "2019-10-13 09:15:15.508362"], ["id", 3]]
  [1m[35m (0.9ms)[0m  COMMIT
Completed 200 OK in 327ms (Views: 1.9ms | ActiveRecord: 2.4ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 11:15:15 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (1.1ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (1.0ms)
  Rendered things/index.json.jbuilder (2.4ms)
  [1m[35m (5.5ms)[0m  BEGIN
  [1m[35mThingType Load (1.0ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (5.8ms)
  [1m[36mUser Load (2.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"expiry\":1572171313,\"last_token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"updated_at\":\"2019-10-13T11:15:15.547+02:00\"}}"], ["updated_at", "2019-10-13 09:15:15.551945"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (5.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 37ms (Views: 3.8ms | ActiveRecord: 11.4ms)
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"expiry\":1572171313,\"last_token\":\"$2a$12$uj.76KC7LgjmGT6p0UfVXexcaU99WtLN5P3A6T9ETTjBwi8r25sAu\",\"updated_at\":\"2019-10-13T11:15:15.558+02:00\"}}"], ["updated_at", "2019-10-13 09:15:15.562988"], ["id", 3]]
  [1m[35m (1.0ms)[0m  COMMIT
Completed 200 OK in 365ms (Views: 9.5ms | ActiveRecord: 9.3ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:15:38 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (1.7ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/index.json.jbuilder (3.6ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"expiry\":1572171338,\"last_token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"updated_at\":\"2019-10-13T11:15:38.794+02:00\"}}"], ["updated_at", "2019-10-13 09:15:39.077376"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 310ms (Views: 5.0ms | ActiveRecord: 5.5ms)


Started GET "/api/types/23" for 127.0.0.1 at 2019-10-13 11:15:40 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"23"}
  [1m[35mType Load (0.3ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 23]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/23/thing_types" for 127.0.0.1 at 2019-10-13 11:15:40 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[36mType Load (3.0ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.2ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 23]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"expiry\":1572171338,\"last_token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"updated_at\":\"2019-10-13T11:15:40.491+02:00\"}}"], ["updated_at", "2019-10-13 09:15:40.492899"], ["id", 3]]
  [1m[35m (2.4ms)[0m  COMMIT
Completed 200 OK in 350ms (Views: 2.5ms | ActiveRecord: 4.1ms)
  [1m[36mThingType Load (0.7ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 23]]
  Rendered thing_types/index.json.jbuilder (7.6ms)
  [1m[35m (0.7ms)[0m  BEGIN
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"expiry\":1572171338,\"last_token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"updated_at\":\"2019-10-13T11:15:40.543+02:00\"}}"], ["updated_at", "2019-10-13 09:15:40.545553"], ["id", 3]]
  [1m[36m (1.6ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 376ms (Views: 8.5ms | ActiveRecord: 8.2ms)


Started GET "/api/types/23/linkable_things" for 127.0.0.1 at 2019-10-13 11:15:40 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"23"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 23]]
  [1m[35mThing Load (1.1ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 23))
  Rendered things/index.json.jbuilder (0.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"expiry\":1572171338,\"last_token\":\"$2a$12$BRsSP2NDx8RPG90wenRvn.rXgJnhtsFsu/xB9QaQsbhR2cO5PDKdy\",\"updated_at\":\"2019-10-13T11:15:40.570+02:00\"}}"], ["updated_at", "2019-10-13 09:15:40.571999"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 20ms (Views: 1.5ms | ActiveRecord: 3.5ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:16:00 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.7ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/index.json.jbuilder (4.3ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$G5gunhuJ.L1Y2XivajnAXereWZSFrBdpwupVfbb1XoIHTR9KBwpge\",\"expiry\":1572171360,\"last_token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"updated_at\":\"2019-10-13T11:16:00.989+02:00\"}}"], ["updated_at", "2019-10-13 09:16:01.277380"], ["id", 3]]
  [1m[35m (2.9ms)[0m  COMMIT
Completed 200 OK in 317ms (Views: 7.2ms | ActiveRecord: 5.0ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 11:16:03 +0200


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 11:16:03 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.9ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (3.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/show.json.jbuilder (1.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mThingType Load (0.6ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  Rendered thing_types/index.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$G5gunhuJ.L1Y2XivajnAXereWZSFrBdpwupVfbb1XoIHTR9KBwpge\",\"expiry\":1572171360,\"last_token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"updated_at\":\"2019-10-13T11:16:03.507+02:00\"}}"], ["updated_at", "2019-10-13 09:16:03.508852"], ["id", 3]]
  [1m[36m (3.3ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (6.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Completed 200 OK in 340ms (Views: 2.3ms | ActiveRecord: 4.8ms)


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 11:16:03 +0200
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$G5gunhuJ.L1Y2XivajnAXereWZSFrBdpwupVfbb1XoIHTR9KBwpge\",\"expiry\":1572171360,\"last_token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"updated_at\":\"2019-10-13T11:16:03.518+02:00\"}}"], ["updated_at", "2019-10-13 09:16:03.521250"], ["id", 3]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 345ms (Views: 2.7ms | ActiveRecord: 13.0ms)
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mThing Load (0.9ms)[0m  SELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))
  Rendered things/_thing.json.jbuilder (1.0ms)
  Rendered things/index.json.jbuilder (5.0ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.7ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$G5gunhuJ.L1Y2XivajnAXereWZSFrBdpwupVfbb1XoIHTR9KBwpge\",\"expiry\":1572171360,\"last_token\":\"$2a$12$DyPXpe/gi/vDGap4AvLUdutOYt33Q8.Nrf0jczrP9UftMC87cni16\",\"updated_at\":\"2019-10-13T11:16:03.562+02:00\"}}"], ["updated_at", "2019-10-13 09:16:03.563872"], ["id", 3]]
  [1m[35m (1.2ms)[0m  COMMIT
Completed 200 OK in 47ms (Views: 8.9ms | ActiveRecord: 5.1ms)


Started GET "/assets/spa-demo/pages/subjects_page-d07c30ba44f1034b5f3c13b58370f2edad3ef47b2f9c48fc1637ed1c0cc5b96a.html" for 127.0.0.1 at 2019-10-13 11:16:25 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_images-c3753bab2a231eada127c95394e4d053ead90a31ff2bc130b30f06e10868eaf9.html" for 127.0.0.1 at 2019-10-13 11:16:25 +0200


Started GET "/assets/spa-demo/subjects/current_things/current_thing_info-2e24ad465c87f9b898c8e540dd72f2317eb3bc1e2fd98a79b61b8fa9ebb12028.html" for 127.0.0.1 at 2019-10-13 11:16:25 +0200


Started GET "/assets/spa-demo/subjects/current_images/current_image_viewer-6e2b1180de5e34285509998cd11d2573db371feeaab5cd7665b02c8dd1f405bf.html" for 127.0.0.1 at 2019-10-13 11:16:25 +0200


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC" for 127.0.0.1 at 2019-10-13 11:16:26 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC"}
  [1m[35m (1.1ms)[0m  select max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x
Completed 304 Not Modified in 3ms (ActiveRecord: 1.1ms)


Started GET "/api/subjects?lat=39.28583496489344&lng=-76.61183685064316&order=ASC&subject=thing" for 127.0.0.1 at 2019-10-13 11:16:26 +0200
Processing by ThingImagesController#subjects as JSON
  Parameters: {"lat"=>"39.28583496489344", "lng"=>"-76.61183685064316", "order"=>"ASC", "subject"=>"thing"}
  [1m[36m (3.2ms)[0m  [1mselect max(modified) as last_modified from (
select max(updated_at) as modified from things
 union
select max(updated_at) as modified from images
 union
select max(updated_at) as modified from thing_images
) as x[0m
Completed 304 Not Modified in 6ms (ActiveRecord: 3.2ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-13 11:16:26 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (0.4ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.4ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (2.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  Rendered things/_thing.json.jbuilder (3.1ms)
  Rendered things/show.json.jbuilder (6.1ms)
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"expiry\":1572171386,\"last_token\":\"$2a$12$G5gunhuJ.L1Y2XivajnAXereWZSFrBdpwupVfbb1XoIHTR9KBwpge\",\"updated_at\":\"2019-10-13T11:16:26.471+02:00\"}}"], ["updated_at", "2019-10-13 09:16:26.801134"], ["id", 3]]
  [1m[36m (4.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 366ms (Views: 8.4ms | ActiveRecord: 10.0ms)


Started GET "/api/things/2" for 127.0.0.1 at 2019-10-13 11:16:26 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"2"}
  [1m[35mThing Load (1.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 2]]
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/show.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"expiry\":1572171386,\"last_token\":\"$2a$12$G5gunhuJ.L1Y2XivajnAXereWZSFrBdpwupVfbb1XoIHTR9KBwpge\",\"updated_at\":\"2019-10-13T11:16:27.498+02:00\"}}"], ["updated_at", "2019-10-13 09:16:27.499546"], ["id", 3]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 683ms (Views: 2.6ms | ActiveRecord: 5.9ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 11:16:36 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.2ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.3ms)
  Rendered things/show.json.jbuilder (1.9ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"expiry\":1572171396,\"last_token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"updated_at\":\"2019-10-13T11:16:36.823+02:00\"}}"], ["updated_at", "2019-10-13 09:16:37.117857"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
Completed 200 OK in 609ms (Views: 2.6ms | ActiveRecord: 4.1ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 11:16:37 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.3ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 3]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.8ms)
  Rendered things/show.json.jbuilder (2.4ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"expiry\":1572171396,\"last_token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"updated_at\":\"2019-10-13T11:16:37.734+02:00\"}}"], ["updated_at", "2019-10-13 09:16:37.735977"], ["id", 3]]
  [1m[36m (2.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 612ms (Views: 3.1ms | ActiveRecord: 4.6ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:16:40 +0200
Processing by TypesController#index as JSON
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.5ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3[0m
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/_type.json.jbuilder (0.2ms)
  Rendered types/index.json.jbuilder (2.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"expiry\":1572171396,\"last_token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"updated_at\":\"2019-10-13T11:16:40.809+02:00\"}}"], ["updated_at", "2019-10-13 09:16:40.810816"], ["id", 3]]
  [1m[36m (2.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 304ms (Views: 3.1ms | ActiveRecord: 4.7ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 11:16:42 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[35mType Load (1.8ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 11:16:42 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (13.8ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1  [["id", 21]]
  Rendered types/_type.json.jbuilder (1.0ms)
  Rendered types/show.json.jbuilder (4.3ms)
  [1m[36m (7.5ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"expiry\":1572171396,\"last_token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"updated_at\":\"2019-10-13T11:16:42.743+02:00\"}}"], ["updated_at", "2019-10-13 09:16:42.744490"], ["id", 3]]
  [1m[35m (3.7ms)[0m  COMMIT
Completed 200 OK in 65ms (Views: 6.2ms | ActiveRecord: 30.0ms)


Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 11:16:42 +0200
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mType Load (0.3ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mThingType Load (3.2ms)[0m  [1mSELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC[0m  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (6.9ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"expiry\":1572171396,\"last_token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"updated_at\":\"2019-10-13T11:16:42.786+02:00\"}}"], ["updated_at", "2019-10-13 09:16:42.788461"], ["id", 3]]
  [1m[36m (5.3ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 35ms (Views: 5.6ms | ActiveRecord: 10.1ms)
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mThing Load (0.8ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  Rendered things/_thing.json.jbuilder (0.4ms)
  Rendered things/index.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"expiry\":1572171396,\"last_token\":\"$2a$12$ep9/m1zX8TgueEJP1hcC2.pSYh3V0lX/UFJI1npfLJfu.lsrLl6OC\",\"updated_at\":\"2019-10-13T11:16:43.050+02:00\"}}"], ["updated_at", "2019-10-13 09:16:43.051028"], ["id", 3]]
  [1m[36m (0.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 346ms (Views: 2.9ms | ActiveRecord: 4.4ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 11:17:08 +0200


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 11:17:08 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.8ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (1.5ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (1.1ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.5ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (1.8ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (5.0ms)
  Rendered things/show.json.jbuilder (7.6ms)
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
  [1m[35mRole Exists (0.6ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.5ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (3.3ms)
  Rendered things/show.json.jbuilder (4.9ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"expiry\":1572171428,\"last_token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"updated_at\":\"2019-10-13T11:17:08.617+02:00\"}}"], ["updated_at", "2019-10-13 09:17:08.943952"], ["id", 3]]
  [1m[35m (2.6ms)[0m  COMMIT
  [1m[35mUser Load (330.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
Completed 200 OK in 369ms (Views: 7.8ms | ActiveRecord: 10.5ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 11:17:08 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 3]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mSQL (6.8ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"expiry\":1572171428,\"last_token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"updated_at\":\"2019-10-13T11:17:08.954+02:00\"}}"], ["updated_at", "2019-10-13 09:17:08.962869"], ["id", 3]]
  [1m[35m (1.1ms)[0m  COMMIT
Completed 200 OK in 385ms (Views: 7.1ms | ActiveRecord: 341.4ms)
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (0.3ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 3]]
  [1m[36mRole Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.4ms)
  Rendered things/show.json.jbuilder (2.1ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"expiry\":1572171428,\"last_token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"updated_at\":\"2019-10-13T11:17:09.626+02:00\"}}"], ["updated_at", "2019-10-13 09:17:09.627712"], ["id", 3]]
  [1m[36m (3.7ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 673ms (Views: 3.2ms | ActiveRecord: 5.7ms)


Started GET "/api/things/3" for 127.0.0.1 at 2019-10-13 11:17:09 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"3"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 3]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (1.5ms)
  Rendered things/show.json.jbuilder (2.3ms)
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"expiry\":1572171428,\"last_token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"updated_at\":\"2019-10-13T11:17:10.211+02:00\"}}"], ["updated_at", "2019-10-13 09:17:10.211936"], ["id", 3]]
  [1m[35m (2.7ms)[0m  COMMIT
Completed 200 OK in 575ms (Views: 3.3ms | ActiveRecord: 4.4ms)


Started GET "/api/things/6" for 127.0.0.1 at 2019-10-13 11:17:13 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"6"}
  [1m[36mThing Load (0.8ms)[0m  [1mSELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1[0m  [["id", 6]]
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  [1m[35mThing Load (2.0ms)[0m  SELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1  [["id", 6]]
  [1m[36mRole Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1[0m  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (5.2ms)
  Rendered things/show.json.jbuilder (6.8ms)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mSQL (2.0ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"expiry\":1572171428,\"last_token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"updated_at\":\"2019-10-13T11:17:14.190+02:00\"}}"], ["updated_at", "2019-10-13 09:17:14.193174"], ["id", 3]]
  [1m[36m (2.8ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 378ms (Views: 7.7ms | ActiveRecord: 10.0ms)


Started GET "/api/things/6" for 127.0.0.1 at 2019-10-13 11:17:14 +0200
Processing by ThingsController#show as JSON
  Parameters: {"id"=>"6"}
  [1m[35mThing Load (0.3ms)[0m  SELECT  "things".* FROM "things" WHERE "things"."id" = $1 LIMIT 1  [["id", 6]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mRole Exists (0.3ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  [1m[36mThing Load (0.3ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" left join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE "things"."id" = $1[0m  [["id", 6]]
  [1m[35mRole Exists (0.2ms)[0m  SELECT  1 AS one FROM "roles" WHERE "roles"."user_id" = $1 AND "roles"."role_name" = $2 LIMIT 1  [["user_id", 3], ["role_name", "admin"]]
  Rendered things/_thing.json.jbuilder (5.2ms)
  Rendered things/show.json.jbuilder (10.2ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"expiry\":1572171428,\"last_token\":\"$2a$12$TpmFqvgNwibqezQ.fK0PXOdMalSKPMVhuNhGP7Yy2w87VCQmdMh52\",\"updated_at\":\"2019-10-13T11:17:14.244+02:00\"}}"], ["updated_at", "2019-10-13 09:17:14.246468"], ["id", 3]]
  [1m[35m (4.6ms)[0m  COMMIT
Completed 200 OK in 39ms (Views: 12.6ms | ActiveRecord: 7.0ms)


Started GET "/api/types" for 127.0.0.1 at 2019-10-13 11:17:22 +0200
Processing by TypesController#index as JSON
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mType Load (0.9ms)[0m  SELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3
  Rendered types/_type.json.jbuilder (0.4ms)
  Rendered types/_type.json.jbuilder (0.3ms)
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/index.json.jbuilder (6.4ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1on4YoVfccQmbHd/a3auvOx7kc2D8kFmjh29VpRpvIzASoSYcgtxW\",\"expiry\":1572171442,\"last_token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"updated_at\":\"2019-10-13T11:17:22.902+02:00\"}}"], ["updated_at", "2019-10-13 09:17:23.187281"], ["id", 3]]
  [1m[35m (2.2ms)[0m  COMMIT
Completed 200 OK in 314ms (Views: 7.9ms | ActiveRecord: 4.3ms)


Started GET "/api/types/21" for 127.0.0.1 at 2019-10-13 11:17:25 +0200
Processing by TypesController#show as JSON
  Parameters: {"id"=>"21"}
  [1m[36mType Load (0.2ms)[0m  [1mSELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1[0m  [["id", 21]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1  [["uid", "alice@bbunch.org"]]


Started GET "/api/types/21/linkable_things" for 127.0.0.1 at 2019-10-13 11:17:25 +0200
Processing by ThingTypesController#linkable_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[36mUser Load (9.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[36mType Load (0.4ms)[0m  [1mSELECT Types.*, r.role_name FROM "types" left join Roles r on r.mname='Type' and r.mid=Types.id and r.user_id =3 WHERE "types"."id" = $1[0m  [["id", 21]]
  Rendered types/_type.json.jbuilder (0.5ms)
  Rendered types/show.json.jbuilder (1.3ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1on4YoVfccQmbHd/a3auvOx7kc2D8kFmjh29VpRpvIzASoSYcgtxW\",\"expiry\":1572171442,\"last_token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"updated_at\":\"2019-10-13T11:17:25.793+02:00\"}}"], ["updated_at", "2019-10-13 09:17:25.794315"], ["id", 3]]
  [1m[36mThing Load (0.7ms)[0m  [1mSELECT Things.*, r.role_name FROM "things" join Roles r on r.mname='Thing' and r.mid=Things.id and r.user_id =3 WHERE ("things"."id" NOT IN (SELECT "thing_types"."thing_id" FROM "thing_types" WHERE "thing_types"."type_id" = 21))[0m
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 360ms (Views: 2.3ms | ActiveRecord: 3.9ms)


  Rendered things/_thing.json.jbuilder (0.8ms)
Started GET "/api/types/21/thing_types" for 127.0.0.1 at 2019-10-13 11:17:25 +0200
  Rendered things/index.json.jbuilder (2.2ms)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE[0m  [["id", 3]]
Processing by ThingTypesController#type_things as JSON
  Parameters: {"type_id"=>"21"}
  [1m[35mType Load (0.2ms)[0m  SELECT  "types".* FROM "types" WHERE "types"."id" = $1 LIMIT 1  [["id", 21]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT 1[0m  [["uid", "alice@bbunch.org"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1on4YoVfccQmbHd/a3auvOx7kc2D8kFmjh29VpRpvIzASoSYcgtxW\",\"expiry\":1572171442,\"last_token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"updated_at\":\"2019-10-13T11:17:25.805+02:00\"}}"], ["updated_at", "2019-10-13 09:17:25.807336"], ["id", 3]]
  [1m[36m (2.9ms)[0m  [1mCOMMIT[0m
Completed 200 OK in 354ms (Views: 3.3ms | ActiveRecord: 14.3ms)
  [1m[35mThingType Load (0.4ms)[0m  SELECT thing_types.*, things.name as thing_name FROM "thing_types" left outer join things on things.id = thing_types.thing_id WHERE "thing_types"."type_id" = $1  ORDER BY "thing_types"."priority" ASC  [["type_id", 21]]
  Rendered thing_types/index.json.jbuilder (10.4ms)
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (2.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1 FOR UPDATE  [["id", 3]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"sWT9vealKXwe0zimHno93g\":{\"token\":\"$2a$12$M0jxQdZmaB9K7s8/Jj5hAOgXz4qO61iH0G.X9.g4cVCBTBh4vSffa\",\"expiry\":1571523867,\"last_token\":\"$2a$12$4AN.J0yItih8HWAhDRc67O7OVO8EDN06Ey5aG0ZNjsmL3O34YKi1O\",\"updated_at\":\"2019-10-06T00:24:27.061+02:00\"},\"aUG1_t4KHy1Cv3vSVZ4Mtg\":{\"token\":\"$2a$12$Zc0k8izwnObI6Z10qCX4Xe2PO7BBtYzYHSOp6YCXYMUMX3JtECsMG\",\"expiry\":1571776828,\"last_token\":\"$2a$12$XtgEZQ5P9e31u5AbiHjDOO3j1jwK4HaBlRvV3PusC1asrooNYycyK\",\"updated_at\":\"2019-10-08T22:40:30.505+02:00\"},\"SlO-3psYpIxdFsLHTPsHFQ\":{\"token\":\"$2a$12$1on4YoVfccQmbHd/a3auvOx7kc2D8kFmjh29VpRpvIzASoSYcgtxW\",\"expiry\":1572171442,\"last_token\":\"$2a$12$Bf9VHRVb3Ru9I4YaBR7a.uI.Tew4QMUuhgBfh3nQeKOwouWHmNOMC\",\"updated_at\":\"2019-10-13T11:17:25.837+02:00\"}}"], ["updated_at", "2019-10-13 09:17:25.842404"], ["id", 3]]
  [1m[35m (2.1ms)[0m  COMMIT
Completed 200 OK in 41ms (Views: 11.2ms | ActiveRecord: 6.5ms)
